;/*FB_PKG_DELIM*/

__d("GroupsCometMentionsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");c=b.createContext;var i=b.useCallback,j=b.useMemo,k=b.useState,l=c({groupID:"",groupInvitedList:new Set(),onInviteSent:function(a){}});function a(a){var b=a.children,c=a.groupID;a=k(new Set());var d=a[0],e=a[1],f=i(function(a){e(function(b){return b.add(a)})},[]);a=j(function(){return{groupID:c,groupInvitedList:d,onInviteSent:f}},[c,d,f]);return h.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.GroupsCometMentionsContext=l;g.GroupsCometMentionsContextProvider=a}),98);
__d("GroupsCometMentionsCTAButton.react",["CometRelay","GroupsCometMentionsContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.matchPointer;a=a.userID;var c=i(d("GroupsCometMentionsContext.react").GroupsCometMentionsContext);c=c.groupID;return a==null||c==null||b==null?null:h.jsx(d("CometRelay").MatchContainer,{match:b,props:{delay:4e3,groupID:c,source:"invite_from_mention",userID:a}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometMentionsViewItemResolver.react",["FeedComposerCometMentionsViewItem.react","GroupsCometMentionsCTAButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=b.rawData,e=null,f=null;d.type==="MENTION_SEARCH_RESULT"&&(e=d.canViewerInviteUserAsFriend,f=b.key);return h.jsx(c("FeedComposerCometMentionsViewItem.react"),babelHelpers["extends"]({},a,{addOn:e!=null?h.jsx(c("GroupsCometMentionsCTAButton.react"),{matchPointer:e,userID:f}):null,entry:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("replaceLexicalMentionNode",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){if(b===0){var f=a.splitText(d);f=f[0]}else{a=a.splitText(b,d);f=a[1]}if(f==null){c("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+b+", "+d+".");return}f.replace(e);e.selectNext(0,0)}g["default"]=a}),98);
__d("cometUFIGroupMentionsLexicalCreateNodeStrategy",["CometLexicalGenericEntityNode","CometLexicalGroupEntityNode","Lexical","gkx","replaceLexicalMentionNode"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("5892");a=function(a){var b=a.anchorNode,e=a.endOffset,f=a.selectedEntry;a=a.startOffset;var g=f.rawData,i=g.docUrl;g=g.resultType;if(g==="KnowledgeHubDocumentData")g=d("Lexical").$createTextNode(i||"");else if(h){g=d("CometLexicalGroupEntityNode").$createCometLexicalGroupEntityNode({canBeInvitedByViewer:f.rawData.canBeInvitedByViewer,gender:f.rawData.gender,id:f.key,photoURI:f.rawData.photoURI,text:(i=f.handle)!=null?i:f.label,type:"Actor"})}else{g=d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:f.key,text:(i=f.handle)!=null?i:f.label,type:"Actor"})}c("replaceLexicalMentionNode")(b,a,e,g)};b=a;g["default"]=b}),98);
__d("uniqueArray",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a}function a(a,b){var c=(b=b)!=null?b:g,d=[],e=new Set();a.forEach(function(a){var b=c(a);if(e.has(b))return;e.add(b);d.push(a)});return d}f["default"]=a}),66);
__d("useGroupCometInviteOnMentionDialogPlugin",["CometLexicalGroupEntityNode","JSResourceForInteraction","Lexical","MLCInstrumentationCommands","gkx","react","uniqueArray","useCometLazyDialog","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef,i=c("JSResourceForInteraction")("GroupsCometInviteOnMentionDialog.react").__setRef("useGroupCometInviteOnMentionDialogPlugin"),j=function(a){if(a==null)return null;var b=a.getCanBeInvitedByViewer();if(b!==!0)return null;b=a.getID();var c=a.getTextContent(),d=a.getUserGender();a=a.getPhotoURI();return{gender:d,id:b,name:c,photoURI:a}};function a(a,b){var e=h(new Map()),f=c("useCometLazyDialog")(i),g=f[0];c("useLayoutEffect_SAFE_FOR_SSR")(function(){if(b==null)return;var f=a.registerCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,function(){var a=c("uniqueArray")(Array.from(e.current.values()),function(a){return a.id});a.length>0&&c("gkx")("5892")&&g({groupID:b,invitableUsers:a});return!1},d("Lexical").COMMAND_PRIORITY_NORMAL),h=a.registerMutationListener(d("CometLexicalGroupEntityNode").CometLexicalGroupEntityNode,function(b){var c=e.current;a.getEditorState().read(function(){for(var a=b.entries(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];if(g==="created"){var i=d("Lexical").$getNodeByKey(h);i=j(i);if(i==null)continue;c.set(h,i)}else g==="destroyed"&&c["delete"](h)}})});return function(){f(),h()}},[a,g,b])}g["default"]=a}),98);
__d("upgradedUFI2GroupMentionsComposerPluginCreatorWithTypeaheadViewForLexical",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","GroupsCometMentionsContext.react","GroupsCometMentionsViewItemResolver.react","cometUFIGroupMentionsLexicalCreateNodeStrategy","cr:5343","gkx","react","useCometMentionsViewListStrategy","useGroupCometInviteOnMentionDialogPlugin"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=c("gkx")("7372");var i=c("gkx")("7672");f=["USER","EVENT","GROUP","PAGE"];e=e?[].concat(f,["WORKROOMS_USER"]):f;var j=i?[].concat(e,["KNOWLEDGE_HUB_DOCUMENT"]):e;function a(){return function(a){var e=a.config,f=e.groupID;e=e.postID;a=a.pluginProps.editor;e=b("cr:5343")({firstDegreeFilters:j,groupID:f,postID:e,shouldBootstrapOnLayoutEffect:!1,useSections:i});var g=c("useCometMentionsViewListStrategy")({viewItemStrategyRenderer:c("GroupsCometMentionsViewItemResolver.react")});c("useGroupCometInviteOnMentionDialogPlugin")(a,f);return h.jsx(d("GroupsCometMentionsContext.react").GroupsCometMentionsContextProvider,{groupID:f,children:h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometUFIGroupMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:e,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),viewStrategyRenderer:g})})}}g["default"]=a}),98);
__d("createUpgradedUFI2GroupMentionsComposerPluginForLexical",["upgradedUFI2GroupMentionsComposerPluginCreatorWithTypeaheadViewForLexical"],(function(a,b,c,d,e,f,g){"use strict";a=c("upgradedUFI2GroupMentionsComposerPluginCreatorWithTypeaheadViewForLexical")();g["default"]=a}),98);