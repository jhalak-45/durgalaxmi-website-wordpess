;/*FB_PKG_DELIM*/

__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return a[3]!==f?(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("trace_id",a[3]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),[0,436],d[3],f,f,[0,0],[0,0],f,f,[0,0])):(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),[0,436],d[3],f,f,[0,0],[0,0],f,f,[0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MAWThreadEvent",["MAWBackendBridge.bs","MAWBridge","MAWJobDefinitions","MAWUIJob","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b="placeholderConvertSubscription";function a(a){d("MAWBridge").getBridge().setHandlers("threadEvent",{placeholderConvertSubscription:function(b){var e=b.chatJid;b=b.msgId;a===e&&c("promiseDone")(d("MAWBackendBridge.bs").getProtocolMsgIdByMsgId({msgId:b}).sendAndReceive().then(function(a){if(a==null)return;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(e,a))}))}})}g.PLACEHOLDER_CONVERT_SUBSCRIPTION=b;g.setThreadEventHandler=a}),98);
__d("MAWThreadEvent.bs",["LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","MAWThreadEvent","MAWThreadId.bs","bs_caml","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){d("MAWThreadEvent").setThreadEventHandler(a)}function b(a){var b=c("bs_caml").i64_ge(a.authorityLevel,d("LSAuthorityLevel.bs").authoritative),e=c("useReStore")();h.useEffect(function(){d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)&&b&&c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(e,a.threadKey).then(function(a){if(a.TAG!==0)return;d("MAWThreadEvent").setThreadEventHandler(a._0)}))},[JSON.stringify(a.threadKey),JSON.stringify(a.threadType),b,e])}e=b;g.setThreadEventHandler=a;g.useHook=e}),98);
__d("MAWCreateGroupThread.bs",["fbt","LS.bs","LSIssueNewError","MAWBackendBridge.bs","MAWJob.bs","bs_belt_Option","bs_curry","bs_int64","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("MAWJob.bs").Internal.newJobWithTimeout5("createGroup",6e4);function a(a,b,e,f,g,j){var k=f!==void 0?f:!1;return i.waitUntilCompleted(e,g,c("bs_belt_Option").map(b,c("bs_int64").to_string),k,j,{priority:"UI_ACTION"}).then(function(b){var e=b.error,f=b.value;if(e===void 0&&f!==void 0)return c("bs_curry")._1(d("MAWBackendBridge.bs").getThreadIdByChatJid({chatJid:f.chatJid}).sendAndReceive).then(function(a){if(a==null)return c("unrecoverableViolation")("Group was not found in database","messenger_e2ee_web");else return{chatId:a,created:!0,jid:f.chatJid}});if(!k){var g=h._("__JHASH__Q8EKHlLB3en__JHASH__").toString();b=a.runInTransaction(function(a){return c("LSIssueNewError")(void 0,void 0,g,g,void 0,d("LS.bs").make(a))},"readwrite");c("promiseDone")(b)}return c("unrecoverableViolation")("Unable to create group","messenger_e2ee_web")})}g.createGroup=a}),98);
__d("MAWCreateOptimisticSecureMessage.bs",["LSAuthorityLevel.bs","LSHotEmojiSize.bs","LSMessageContentType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessageSendStatus.bs","LSMessageSendStatusV2.bs","LSMessageViewFlag.bs","LSQuickReplyType.bs","LSReplyMessageAttachmentType.bs","MAWAdminMsg.bs","MAWBumpThread.bs","MAWDbMsg","MAWGating","MAWLocalizationType.bs","MWPActor.bs","MessagingAttachmentType.bs","OfflineThreadingId.bs","Promise","QPLUserFlow","ReQL.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_curry","cr:2382","qpl","useReStore"],(function(a,b,c,d,e,f,g){"use strict";e={craftMsgId:d("MAWDbMsg").craftMsgId,getInChatMsgIdFromMsgId:d("MAWDbMsg").getInChatMsgIdFromMsgId,getNextOptimisticId:d("MAWDbMsg").getNextOptimisticId};function h(a,e,f,g){if(f!==void 0)return b("Promise").all([d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("messages")),{hd:e,tl:{hd:f.timestampMs,tl:{hd:f.messageId,tl:0}}})).then(function(a){c("QPLUserFlow").addPoint(c("qpl")._(1056842293,"854"),"get_reply_msg_end",{instanceKey:g});return a}),d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:e,tl:{hd:f.messageId,tl:0}})).then(function(a){c("QPLUserFlow").addPoint(c("qpl")._(1056842293,"854"),"get_reply_attachment_end",{instanceKey:g});return a})]);else return b("Promise").resolve([void 0,void 0])}function i(a,b,e){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(a.table("messages")),{hd:b,tl:0})).then(function(a){c("QPLUserFlow").addPoint(c("qpl")._(1056842293,"854"),"get_offline_threading_id_end",{instanceKey:e});if(a!==void 0)return d("MAWDbMsg").getNextOptimisticId(a.messageId);else return d("OfflineThreadingId.bs").make()})}function a(a){var e=c("useReStore")(),f=d("MWPActor.bs").useActor();return function(a,g,j,k,l){var m=Date.now();return e.runInTransaction(function(e){return b("Promise").all([i(e,j,l),h(e,j,a,l)]).then(function(h){var i=h[1],n=i[1];i=i[0];var o=h[0];h=i!==void 0&&c("bs_caml_obj").caml_equal(i.hotEmojiSize,d("LSHotEmojiSize.bs").small)?d("LSReplyMessageAttachmentType.bs").sticker:void 0;if(n!==void 0){var p=n.attachmentType,q=n.previewUrl;p=c("bs_caml").i64_eq(p,d("MessagingAttachmentType.bs").image)||c("bs_caml").i64_eq(p,d("MessagingAttachmentType.bs").sticker)?q:void 0}else p=void 0;return e.table("messages").add({adminMsgCtaId:void 0,adminMsgCtaTitle:void 0,adminMsgCtaType:void 0,authorityLevel:d("LSAuthorityLevel.bs").optimistic,cannotUnsendReason:void 0,displayedContentTypes:d("LSMessageContentType.bs").text,ephemeralDurationInSec:void 0,ephemeralExpirationTs:void 0,forwardScore:void 0,hasQuickReplies:!1,hotEmojiSize:k,isAdminMessage:!1,isForwarded:void 0,isUnsent:!1,localDataId:void 0,mentionIds:void 0,mentionLengths:void 0,mentionOffsets:void 0,mentionTypes:void 0,messageId:o,msUntilExpirationTs:void 0,offlineThreadingId:o,primarySortKey:c("bs_caml_int64").of_float(m),quickReplyType:d("LSQuickReplyType.bs").none,replyAttachmentExtra:void 0,replyAttachmentId:void 0,replyAttachmentType:d("MAWGating").isHotLikeEnabled()?h:void 0,replyCtaId:void 0,replyCtaTitle:void 0,replyMediaExpirationTimestampMs:void 0,replyMediaPreviewHeight:n!==void 0?n.previewHeight:void 0,replyMediaPreviewWidth:n!==void 0?n.previewWidth:void 0,replyMediaUrl:p,replyMediaUrlFallback:void 0,replyMediaUrlMimeType:n!==void 0?n.playableUrlMimeType:void 0,replyMessageText:i!==void 0?i.text:void 0,replySnippet:void 0,replySourceId:a!==void 0?a.messageId:void 0,replySourceTimestampMs:void 0,replySourceType:a!==void 0?d("LSMessageReplySourceType.bs").message:void 0,replySourceTypeV2:a!==void 0?d("LSMessageReplySourceTypeV2.bs").message:void 0,replyStatus:void 0,replyToUserId:void 0,replyType:void 0,secondarySortKey:void 0,senderId:f,sendStatus:d("LSMessageSendStatus.bs").sendingToServer,sendStatusV2:d("LSMessageSendStatusV2.bs").sendingToServer,stickerId:void 0,subscriptErrorMessage:void 0,takedownState:void 0,text:g,textHasLinks:!1,threadKey:j,timestampMs:c("bs_caml_int64").of_float(m),unsentTimestampMs:void 0,viewedPluginContext:void 0,viewedPluginKey:void 0,viewFlags:d("LSMessageViewFlag.bs").uncalculated}).then(function(a){c("QPLUserFlow").addPoint(c("qpl")._(1056842293,"854"),"after_create_optimistic_message",{instanceKey:l});a=b("cr:2382")==null?g:c("bs_curry")._1(b("cr:2382").unvault,g);a=k===d("LSHotEmojiSize.bs").small&&d("MAWGating").isHotLikeEnabled()&&a==="\ud83d\udc4d"?"(Y)":g;return d("MAWBumpThread.bs").threadMutation(e,j,c("bs_caml_int64").of_float(m),c("bs_caml_int64").of_float(m),d("MAWAdminMsg.bs").buildLocalizedString([a],[],d("MAWLocalizationType.bs").currentUserSendText),f)}).then(function(a){return[o,m]})})},"readwrite","ui")}}g.$MAWVault$requireCond=b("cr:2382");g.MAWDBMsg=e;g.useHook=a}),98);
__d("MAWSecureThreadNonAddressableContactBanner.bs",["cssVar","fbt","CometPressable.react","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSWhatsAppConnectStatus.bs","MDSRow.react","MDSRowItem.react","MWPActor.bs","MWText.react","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b={button:{end:"x1923su1",position:"x10l6tqk",top:"xfr5jun",zIndex:"x1vjfegm",$$css:!0}};var k="#050505";function l(a){a=a.onPress;return j.jsx("div",{className:"x1923su1 x10l6tqk xfr5jun x1vjfegm",children:j.jsx(c("CometPressable.react"),{"aria-label":i._("__JHASH__h_m7dC6Kxvx__JHASH__"),onPress:a,overlayRadius:"50%",children:j.jsxs("svg",{height:"18px",viewBox:"0 0 24 24",width:"18px",children:[j.jsx("line",{stroke:k,strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"6",y2:"18"}),j.jsx("line",{stroke:k,strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"18",y2:"6"})]})})})}l.displayName=l.name+" [from "+f.id+"]";e={color:k,make:l,styles:b};function m(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("ReQLSubscription.bs").useFirst(j.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts"))),function(a){a=a[1];if(c("bs_caml").i64_eq(a.waConnectStatus,d("LSWhatsAppConnectStatus.bs").whatsappNotAddressable)&&c("bs_caml").i64_ge(a.authorityLevel,d("LSAuthorityLevel.bs").authoritativePendingReplacement))return c("bs_caml").i64_neq(a.id,e);else return!1}),function(a){return a[1]})},[b,JSON.stringify(a),JSON.stringify(e)]));return f!==void 0}function a(a){var b=a.setHideComposerEditor;a=a.thread;var e=m(a.threadKey),f=j.useState(function(){return!1}),g=f[1],h=d("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType),k=h?!f[0]:!0;c("bs_curry")._1(b,function(a){if(e&&k)return!h;else return!1});if(e&&k)return j.jsxs("div",{className:"xzg4506 x1n2onr6 x1ja2u2z",children:[h?j.jsx(l,{onPress:function(a){return c("bs_curry")._1(g,function(a){return!0})}}):null,j.jsx(c("MDSRow.react"),{align:"center",expanding:!0,paddingVertical:12,spacingVertical:0,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWText.react"),{color:"primary",type:"headlineEmphasized4",children:d("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)?i._("__JHASH__afoYhgsgO_b__JHASH__"):i._("__JHASH__JONQiuRa7dL__JHASH__")})})}),j.jsx(c("MDSRow.react"),{align:"center",expanding:!0,paddingVertical:4,spacingVertical:4,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"body4",children:d("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)?i._("__JHASH__RFXRyWLgW4r__JHASH__"):i._("__JHASH__XanBN1dqc2Q__JHASH__")})})})]});else return null}h=a;f=e;b=h;g.CloseButton=f;g.make=b}),98);
__d("MAWSecureTypingState.bs",["LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","MAWBackendBridge.bs","MAWGating","MAWJids","MAWThreadId.bs","MAWUIThreadCache","MWPActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense","WAChatState","bs_belt_Option","bs_caml","bs_curry","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,e,f,g){if(c("bs_caml").i64_eq(f,d("MessagingThreadType.bs").secureMessageOverWaOneToOne))return d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:e,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,g)}),function(b){return c("bs_belt_Option").mapWithDefault(d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:b.contactId,tl:0})),!1,function(a){return c("bs_caml").i64_eq(a.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").unblocked)})})).then(function(a){return c("bs_belt_Option").getWithDefault(a,!1)});else return b("Promise").resolve(!0)}var j=[];function a(a){var e=c("useReStore")(),f=d("MWPActor.bs").useActor(),g=c("bs_int64").to_string(a.threadKey);return h.useCallback(function(h){if(c("bs_caml").i64_ge(a.authorityLevel,d("LSAuthorityLevel.bs").authoritative)&&d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)){d("MAWGating").isGroupSKDMEnabled()&&d("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)&&!j.includes(g)&&c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(e,a.threadKey).then(function(a){if(a.TAG===0)return d("MAWUIThreadCache").getThreadJidByChatId({threadId:a._0}).then(function(a){if(!(a==null)){c("bs_curry")._1(d("MAWBackendBridge.bs").preEstablishSession({groupJid:d("MAWJids").toGroupJid(a)}).fireAndForget);j.push(g);return}});else return b("Promise").resolve()}));c("promiseDone")(i(e,a.threadKey,a.threadType,f).then(function(f){if(f)return d("MAWThreadId.bs").ofThreadKey(e,a.threadKey).then(function(a){if(a.TAG===0)return c("bs_curry")._1(d("MAWBackendBridge.bs").sendChatStateFromComposer({state:h?d("WAChatState").TYPING:d("WAChatState").IDLE,threadId:a._0}).fireAndForget)});else return b("Promise").resolve()}));return}},[e,JSON.stringify(a.authorityLevel),JSON.stringify(a.threadKey),JSON.stringify(a.threadType),f])}e=a;g.useOnTypingStateChanged=e}),98);
__d("MAWCreateSecureThreadIfNecessary.bs",["FBLogger","I64","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","MAWCreateGroupThread.bs","MAWCreateOneToOneThread.bs","MAWGating","MAWThreadId.bs","MAWUIThreadCache","bs_caml_format","bs_caml_obj","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return d("MAWThreadId.bs").ofThreadKey(a,b.threadKey).then(function(a){if(a.TAG!==0)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Cannot convert threadKey to ChatID in createSecureThread");var b=a._0;return d("MAWUIThreadCache").getThreadJidByChatId({threadId:b}).then(function(a){if(a==null)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Cannot find existing thread jid by chatId in createSecureThread");return{chatId:b,created:!1,jid:a}})})}function i(a){return!d("I64").equal(a.authorityLevel,d("LSAuthorityLevel.bs").optimistic)}function a(a,b,e,f){var g=!i(b),j=d("LSMessagingThreadTypeUtil.bs").isOneToOne(b.threadType),k=d("LSMessagingThreadTypeUtil.bs").isGroup(b.threadType),l=e.filter(function(a){return c("bs_caml_obj").caml_notequal(a,c("bs_int64").to_string(f))});if(g&&j&&(l.length===1||d("MAWGating").isChatWithYourselfEnabled())){j=l.length===1?l:e;return d("MAWCreateOneToOneThread.bs").call(a,c("bs_caml_format").caml_int64_of_string(j[0]),c("bs_int64").to_string(b.threadKey))}else if(g&&k&&l.length>1)return d("MAWCreateGroupThread.bs").createGroup(a,b.threadKey,void 0,!1,e);else return h(a,b)}g.getExistingSecureThread=h;g.doesSecureThreadExist=i;g.createSecureThreadIfNecessary=a}),98);
__d("MAWSendFileMsgIfNecessary.bs",["MAWSecureComposerUtils.bs","Promise","QPLUserFlow","bs_belt_Option","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f,g,h,i,j,k,l,m,n,o,p){var q=g!==void 0?[[{_0:g.file,_1:{durations:g.duration|0,isPtt:!0},TAG:2},""]]:[];g=i!==void 0?window.fetch(i,{cache:"no-cache"}).then(function(a){return a.blob()}).then(function(a){var b=c("bs_belt_Option").isSome(j);return d("MAWSecureComposerUtils.bs").imagePreprocess(new File([a],"stickerFromPicker",{type:a.type}),b)}).then(function(a){return[[a,""]]}):b("Promise").resolve([]);c("promiseDone")(g.then(function(b){b=h.concat(q,b);b.forEach(function(b){return d("MAWSecureComposerUtils.bs").sendAttachment(a,e,k.threadKey,k.threadType,l,b[0],m,b[1],n,o,!1,f)})}),function(a){if(p!==void 0){c("QPLUserFlow").endSuccess(c("qpl")._(1056842293,"854"),{instanceKey:p});return}})}e=a;g.call=e}),98);
__d("MAWSendMessageV2.bs",["CometHeroLogging","LSHotEmojiSize.bs","MAWJob.bs","MWChatInteraction.bs","MWLSThreadDisplayContext.bs","MWPActor.bs","MWPReplyContext.bs","MessagingBackend.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","QPLUserFlow","SendEventType.bs","WADualSendMsgUtils","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","gkx","promiseDone","qpl","requireDeferred","useCometInteractionTracing","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend.bs").__setRef("MAWSendMessageV2.bs");function a(a){return d("WADualSendMsgUtils").isDualSendJid(a)}function b(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("MWLSThreadDisplayContext.bs").useHook(),g=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION");a=d("MWPReplyContext.bs").useContext();var i=a.reply;return function(a,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){return g(function(g){g.addAnnotationInt("is_pdb_enabled",c("gkx")("6543")?1:0);var j=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(c("bs_curry")._1(g.getTraceId),null);d("MWChatInteraction.bs").set(p,j);f!==void 0&&(f==="Inbox"?g.addMetadata("entrypoint","inbox"):f==="ChatTab"&&g.addMetadata("entrypoint","chat"));j=c("bs_caml_obj").caml_equal(r,d("LSHotEmojiSize.bs").small)?1:c("bs_caml_obj").caml_equal(r,d("LSHotEmojiSize.bs").medium)?2:c("bs_caml_obj").caml_equal(r,d("LSHotEmojiSize.bs").large)?3:void 0;g.addMetadata("isSecure","true");c("promiseDone")(d("MAWJob.bs").sendMsg.waitUntilPersisted(l,{content:m,duration:void 0,ephemeralSetting:w,height:void 0,isFirstMsg:s,isForwarded:!1,isPtt:void 0,jpegThumbnail:void 0,jpegThumbnailHeight:void 0,jpegThumbnailWidth:void 0,openMessageOtid:o,openMessageParticipantCount:t,optimisticMsg:{msgId:p,ts:q},participantCount:u,quote:v,specialTextSize:j,width:void 0},void 0,{priority:"UI_ACTION"}),function(f){x!==void 0&&c("QPLUserFlow").endSuccess(c("qpl")._(1056842293,"854"),{instanceKey:x}),h.onReady(function(f){var g=c("bs_int64").to_string(a),h=r!==void 0?d("MessagingLoggingUtilsAttachmentTypeInt.bs").like:d("MessagingLoggingUtilsAttachmentTypeInt.bs").text,j=d("WADualSendMsgUtils").isDualSendJid(l)?["dst:8"]:void 0;return c("bs_curry").app(f.log,[b,a,k,p,[],e,n,h,i!==void 0,d("SendEventType.bs").sendAttempt,d("MessagingBackend.bs").whatsappInfra,c("bs_caml_option").some(g),c("bs_caml_option").some(c("bs_belt_Option").map(w,function(a){return a.ephemeralExpirationInSec})),c("bs_caml_option").some(j),void 0])})})})}}g.$MWLogSend$Deferred=h;g.isDualSendJid=a;g.useHook=b}),98);
__d("MAWSendSecureMessageV2.bs",["FBLogger","LS.bs","LSHotEmojiSize.bs","LSMessageSendStatus.bs","LSMessageSendStatusV2.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticUnarchiveThread","LSUpdateDraftMessage","LsSystemFolder.bs","MAWBackendBridge.bs","MAWCreateOptimisticSecureMessage.bs","MAWCreateSecureThreadIfNecessary.bs","MAWDbMsg","MAWEBSwitch","MAWGating","MAWGetEphemeralSettings.bs","MAWMediaManagerUtils.bs","MAWOptimisticUpdateContactRelationship.bs","MAWSendFileMsgIfNecessary.bs","MAWSendMessageV2.bs","MAWStateContext.react","MAWThreadCutover.bs","MAWUpdateLSThreadCapabilities.bs","MAWVault.bs","MWLSDefaultThreadSource.bs","MWMediaManager.bs","MWPActor.bs","MWPReplyContext.bs","Promise","Promise.bs","QPLUserFlow","ReQL.bs","ReQLSubscription.bs","ReQLTable.bs","WALoggerDeferred","WATimeUtils","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_math","promiseDone","qpl","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: ephemeralSetting is "," when send message"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: prefetch MAWGetEphemeralSettings for "," returns ",", set it to 0"]);i=function(){return a};return a}var j=d("react");e=d("react");e.useContext;var k=e.useEffect,l=function(a){return a.ephemeralSettings};function m(a,b){if(c("bs_caml").i64_eq(a.parentThreadKey,d("LsSystemFolder.bs").archived)){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticUnarchiveThread")(a.threadKey,d("LS.bs").make(b))},"readwrite"));return}}function n(a,b){if(d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)){c("promiseDone")(b.runInTransaction(function(b){return d("MAWUpdateLSThreadCapabilities.bs").updateNonMessageRequestThreadTxn(b,a)},"readwrite"));return}}function o(a,e,f){return e.runInTransaction(function(b){return c("LSUpdateDraftMessage")(a.threadKey,"",d("LS.bs").make(b))},"readwrite").then(function(a){c("bs_curry")._1(f,"clear_draft_message_end");return b("Promise").resolve(a)})}function p(a,b,e,f){return a.runInTransaction(function(a){return d("ReQLTable.bs").update(a.table("messages"),{hd:e,tl:{hd:f,tl:{hd:b,tl:0}}},function(a){a=c("bs_belt_Option").getExn(a);return babelHelpers["extends"]({},a,{sendStatusV2:d("LSMessageSendStatusV2.bs").nonRetriableError,sendStatus:d("LSMessageSendStatus.bs").nonRetriableError})})},"readwrite")}function q(a,b,e,f){k(function(){d("MAWGating").isEphemeralSettingsInMemoryEnabled()&&d("MAWCreateSecureThreadIfNecessary.bs").doesSecureThreadExist(a)&&c("promiseDone")(d("MAWCreateSecureThreadIfNecessary.bs").getExistingSecureThread(b,a).then(function(a){if(e[a.jid]==null)return d("MAWGetEphemeralSettings.bs").use(a.jid).then(function(b){if(b!=null&&b.ephemeralExpirationInSec!=null&&b.ephemeralLastUpdatedOrSetTimestamp!=null)f(a.jid,b);else{var c,e=d("WATimeUtils").unixTime();f(a.jid,{ephemeralExpirationInSec:b==null?0:(c=b.ephemeralExpirationInSec)!=null?c:0,ephemeralLastUpdatedOrSetTimestamp:e});d("WALoggerDeferred").LOG(i(),a.jid,b)}return})})["catch"](function(a){c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[ephemeral settings in memory]: %s; failed to prefetch ephemeral settings",a)}))},[b,f,e,a])}function a(a,e,f){var g=c("useReStore")(),i=d("MAWStateContext.react").useDispatchEphemeralSettingsUpdatedForUI(),k=d("MWPActor.bs").useActor(),r=d("MAWStateContext.react").useMAWSelector(l),s=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),t=d("MAWCreateOptimisticSecureMessage.bs").useHook(),u=d("MAWSendMessageV2.bs").useHook(),v=d("MWPReplyContext.bs").useContext(),w=v.clearReply,x=v.reply,y=c("bs_curry")._1(d("MWLSDefaultThreadSource.bs").useHook(),a.threadKey);v=d("MWMediaManager.bs").useMediaManager(a);var z=v.mediaStaging,A=d("MAWThreadCutover.bs").useIsCutoverSecureThread(a.threadKey),B=d("ReQLSubscription.bs").useArray(j.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:a.threadKey,tl:0})},[a,g])).map(function(a){return c("bs_int64").to_string(a.contactId)});q(a,g,r,i);return function(j,l,q,v,C,D,E,F,G,H,I){var J=(Date.now()|0)+c("bs_js_math").random_int(1e4,2e4)|0,K=Date.now(),L=z.reduce(function(a,b){var c=d("MAWMediaManagerUtils.bs").attachmentsMap.get(b.offlineAttachmentId);c!=null&&a.push([c,b.offlineAttachmentId]);return a},[]);l=L.length!==0||F!=null?!0:D!=null;var M=j!=null||l?void 0:d("LSHotEmojiSize.bs").small,N=j!=null?j.trim():l?"":"\ud83d\udc4d";v=l||M!=null?"media":"message";c("QPLUserFlow").start(c("qpl")._(1056842293,"854"),{annotations:{bool:{isCutover:A,isEphemeralSettingsInMemoryEnabled:d("MAWGating").isEphemeralSettingsInMemoryEnabled(),isEBEnabled:c("MAWEBSwitch").isEnabled(),v2:!0},string:{msgType:v}},instanceKey:J});var O=function(a){c("QPLUserFlow").addPoint(c("qpl")._(1056842293,"854"),a,{instanceKey:J})};c("bs_curry")._2(w,a.threadKey,!1);f();C=N!==""?c("bs_curry")._5(t,x,d("MAWVault.bs").vault(N),a.threadKey,M,J).then(function(a){return[a[0],a[1]]}):b("Promise").resolve([void 0,void 0]);var P=b("Promise").resolve();if(x!=null){E=d("MAWDbMsg").toMsgId(x.messageId);E!=null&&(P=c("bs_curry")._1(d("MAWBackendBridge.bs").getProtocolMsgIdByMsgId({msgId:E}).sendAndReceive).then(function(a){O("get_quote_end");if(a==null)return;else return c("bs_caml_option").some(a)}))}var Q=d("MAWCreateSecureThreadIfNecessary.bs").createSecureThreadIfNecessary(g,a,B,k).then(function(a){O("create_thread_if_necessary_end");var b=d("MAWGating").isEphemeralSettingsInMemoryEnabled()&&r[a.jid]!=null;c("QPLUserFlow").addAnnotations(c("qpl")._(1056842293,"854"),{bool:{useEphemeralSettingsInMemory:b}},{instanceKey:J});if(b)return[a,r[a.jid]];else return d("MAWGetEphemeralSettings.bs").use(a.jid).then(function(b){O("get_ephemeral_setting_end");if(b!=null&&b.ephemeralExpirationInSec!=null&&b.ephemeralLastUpdatedOrSetTimestamp!=null)i(a.jid,b);else{var c,e=d("WATimeUtils").unixTime();i(a.jid,{ephemeralExpirationInSec:b==null?0:(c=b.ephemeralExpirationInSec)!=null?c:0,ephemeralLastUpdatedOrSetTimestamp:e});d("WALoggerDeferred").LOG(h(),b)}return[a,b]})});O("before_create_optimistic_message");c("promiseDone")(o(a,g,O));c("promiseDone")(C.then(function(f){var h=f[1],i=f[0];return d("Promise.bs").$$catch(b("Promise").all([Q,P]).then(function(b){var d=b[0],e=d[0];i!=null&&s(i,K);i!=null&&h!=null&&N!==""&&c("bs_curry").app(u,[a.threadKey,e.chatId,a.threadType,e.jid,N,y,void 0,i,h,M,e.created,void 0,void 0,b[1],d[1],J,void 0]);return e}).then(function(b){d("MAWOptimisticUpdateContactRelationship.bs").call(a,g,k);n(a,g);m(a,g);d("MAWSendFileMsgIfNecessary.bs").call(g,b.chatId,b.created,F,L,D,q,a,k,B,y,x,J);return c("bs_curry")._1(e)}),function(b){i!=null&&h!=null&&p(g,i,a.threadKey,c("bs_caml_int64").of_float(h));O("send_message_to_backend_failed");throw b})}),function(a){},function(a){c("QPLUserFlow").endFailure(c("qpl")._(1056842293,"854"),"failure",{instanceKey:J}),c("unrecoverableViolation")("Encountered failure during Armadillo Message Send (UI)","messenger_e2ee_web",{error:c("bs_caml_option").some(a)})})}}f=a;g.useDispatchOptimisticSendMessage=d("MAWStateContext.react").useDispatchOptimisticSendMessage;g.useOnSendSecureMessage=f}),98);
__d("MAWSecureComposer.bs",["fbt","MAWSecureComposerUtils.bs","MAWSecureThreadNonAddressableContactBanner.bs","MAWSecureTypingState.bs","MAWSendSecureMessageV2.bs","MWMediaManager.bs","MWPComposerEditor.bs","MWPReplyContext.bs","MWV2ComposerReplyView.bs","MWV2ComposerView.bs","MWV2FileDropzone.bs","bs_curry","react","useCometAlertDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){}function a(a){var b=a.isPreviewThread,e=a.thread,f=a.afterSendMessage;a=a.onSendEmptyMessage;f=f!==void 0?f:j;a=a!==void 0?a:j;var g=i.useContext(d("MWPReplyContext.bs").context);g=g.reply;var k=c("useCometAlertDialog")(),l=i.useCallback(function(a){return c("bs_curry")._2(k,{body:h._("__JHASH__wkFhajA-pqD__JHASH__"),title:h._("__JHASH__mxyeVcJIjj3__JHASH__")},function(a){})},[]);l=d("MWMediaManager.bs").useMediaManager(e,l);var m=l.mediaStaging,n=l.handleFileRemove,o=l.handleFileSelect,p=d("MAWSendSecureMessageV2.bs").useOnSendSecureMessage(e,f,l.resetAttachments);f=d("MAWSecureTypingState.bs").useOnTypingStateChanged(e);l=i.useContext(d("MWV2FileDropzone.bs").context);i.useImperativeHandle(l,function(){return c("bs_curry").__1(o)},[o]);l=i.useState(function(){return!1});return i.jsxs("div",{"data-testid":void 0,children:[g!==void 0?i.jsx(d("MWV2ComposerReplyView.bs").make,{messageId:g.messageId,messageTimestamp:g.timestampMs,thread:e}):null,i.jsx(d("MAWSecureThreadNonAddressableContactBanner.bs").make,{setHideComposerEditor:l[1],thread:e}),l[0]?null:i.jsx(d("MWPComposerEditor.bs").make,{isPreviewThread:b,mediaStaging:m,onSendEmptyMessage:a,onSendMessage:p,onTypingStateChanged:f,policyProduct:"messaging_lightswitch",surface:"mwp_maw_secure_composer",thread:e,children:function(a,b,f,g,h,j){return i.jsx(d("MWV2ComposerView.bs").make,{editor:a,editorElementRef:h,hasStuffToSend:g,mediaStaging:m,onAttachmentRemoved:n,onAttachmentsAdded:o,onSendMessage:function(a,b,d,e,f,g,h,i,j,k,l){return c("bs_curry").app(p,[a,b,d,e,f,g,h,i,j,k,void 0])},policyProduct:f,sendMessage:j,supportedFileTypes:d("MAWSecureComposerUtils.bs").supportedFileTypes,surface:b,thread:e})}})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MAWSecureComposer.re",["MAWSecureComposer.bs"],(function(a,b,c,d,e,f){a=b("MAWSecureComposer.bs").make;f.make=a}),null);
__d("MWEncryptedBackupsIssueRangeQueryDeferred.bs",["bs_curry","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MWEncryptedBackupsIssueRangeQuery.bs").__setRef("MWEncryptedBackupsIssueRangeQueryDeferred.bs");function a(){var a=c("useReStore")();return h.useCallback(function(b,d,e,f){i.onReady(function(g){return c("bs_curry")._5(g.runQuery,a,b,d,e,f)})},[a])}g.$MWEncryptedBackupsIssueRangeQuery$Deferred=i;g.useHook=a}),98);
__d("MAWForwardMessage.bs",["MAWBackendBridge.bs","MAWCreateOneToOneThread.bs","MAWGetEphemeralSettings.bs","MAWJob.bs","MAWThreadId.bs","MAWUIThreadCache","MWThread_DEPRECATED.bs","Promise","bs_curry","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return d("MAWThreadId.bs").isSecureThreadId(a,b).then(function(e){if(e)return d("MAWThreadId.bs").ofThreadKey(a,b).then(function(a){if(a.TAG===0)return{chatId:a._0,created:!1};else return c("unrecoverableViolation")("If you see this error, something is broken in MAWThreadId.res","messenger_web_product")});else return d("MAWCreateOneToOneThread.bs").call(a,b).then(function(a){return{chatId:a.chatId,created:a.created}})})}function a(a,e,f){e=d("MWThread_DEPRECATED.bs").toThreadKey(e);a=h(a,e).then(function(a){return b("Promise").all([d("MAWUIThreadCache").getThreadJidByChatId({threadId:a.chatId}),c("bs_curry")._1(d("MAWBackendBridge.bs").getProtocolMsgIdByMsgId({msgId:f}).sendAndReceive)]).then(function(c){var e=c[1],f=c[0];if(f!=null&&e!=null)return d("MAWGetEphemeralSettings.bs").use(f).then(function(b){return d("MAWJob.bs").forwardMsg.waitUntilPersisted(f,e,b,void 0,a.created,{priority:"UI_ACTION"})});else return b("Promise").resolve()})});c("promiseDone")(a)}g.maybeCreateNewThreadStep=h;g.useForwardMessage=a}),98);
__d("MAWForwardMessageFromSecureThread.bs",["LS.bs","LSDict","LSHotEmojiSize.bs","LSInsertNewMediaSend","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessagingThreadAttributionType.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendMessage","LSVec","MAWBackendBridge.bs","MWPComposerMediaUploadUtil.bs","MWPOpenComposerUtils.bs","MWThread_DEPRECATED.bs","MessagingAttachmentType.bs","OfflineThreadingId.bs","Promise","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","cr:2382","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d){return{action_url:void 0,attachment_fbid:b,attachment_index:c("bs_caml_int64").zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:b,original_file_hash:void 0,playable_duration_ms:a.playableDurationMs,playable_url:URL.createObjectURL(d),playable_url_mime_type:d.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}}function i(a,e,f,g,h,i,j,k){var l=d("LS.bs").make(k);return c("LSLocalApplyOptimisticMessageWithAttachments")(j,h,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0,i,c("LSVec").make([c("LSDict").fromObject(e)]),void 0,l).then(function(a){var e=a[0];return k.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!1,messageId:void 0,offlineThreadingId:e,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:c("bs_caml_format").caml_int64_of_string(e),threadAttributionSource:d("LSMessagingThreadAttributionType.bs").unknown,threadKey:h}).then(function(a){return b("Promise").resolve(e)})}).then(function(a){var d=e.attachment_fbid;return c("LSInsertNewMediaSend")(d,a,c("bs_caml_int64").zero,e.attachment_type,!1,!1,!1,!1,l).then(function(c){return b("Promise").resolve([a,d])})}).then(function(g){var h=g[1],i=g[0];g=function(b,e){a.runInTransaction(function(a){var b=d("LS.bs").make(a);return c("LSMarkSubJobCompletedV2")(h,c("bs_caml_int64").of_float(e),void 0,void 0,void 0,b).then(function(a){return d("MWPOpenComposerUtils.bs").resumeSendJob(b,i)})},"readwrite")};d("MWPComposerMediaUploadUtil.bs").startUpload(void 0,g,void 0,c("bs_caml").i64_eq(e.attachment_type,d("MessagingAttachmentType.bs").audio),[f],[h]);return b("Promise").resolve()})}function a(a,e,f,g,j,k,l){var m=d("LSMessagingThreadTypeUtil.bs").ofThreadId(e),n=d("MWThread_DEPRECATED.bs").toThreadKey(e);f=a.runInTransaction(function(e){var f=d("LS.bs").make(e);if(k!==void 0){var o=k.attachmentType;if(c("bs_caml").i64_eq(o,d("MessagingAttachmentType.bs").audio))return c("bs_curry")._1(d("MAWBackendBridge.bs").getBlobDataUrlByMediaId({mediaId:c("bs_caml_format").caml_int32_of_string(k.attachmentFbid)}).sendAndReceive).then(function(f){if(f===void 0)return b("Promise").resolve();f=c("bs_caml_option").valFromOption(f);f=new File([f],"mediaForwardedFromSecureThread",{type:f.type});var g=d("OfflineThreadingId.bs").make();g=d("MWPComposerMediaUploadUtil.bs").getAudioAttachment(g,f,c("bs_caml_int64").to_int32(c("bs_belt_Option").getExn(k.playableDurationMs))/1e3|0);return i(a,g,f,m,n,j,l,e)});else if(c("bs_caml").i64_eq(o,d("MessagingAttachmentType.bs").image)||c("bs_caml").i64_eq(o,d("MessagingAttachmentType.bs").video)||c("bs_caml").i64_eq(o,d("MessagingAttachmentType.bs").animatedImage))return c("bs_curry")._1(d("MAWBackendBridge.bs").getBlobDataUrlByMediaId({mediaId:c("bs_caml_format").caml_int32_of_string(k.attachmentFbid)}).sendAndReceive).then(function(f){if(f===void 0)return b("Promise").resolve();f=c("bs_caml_option").valFromOption(f);f=new File([f],"mediaForwardedFromSecureThread",{type:f.type});var g=d("OfflineThreadingId.bs").make();g=h(k,g,f);return i(a,g,f,m,n,j,l,e)});else return c("unrecoverableViolation")("We do not support forwarding this types","messenger_web_product")}o=g.text;if(o===void 0)return c("unrecoverableViolation")("We do not support forwarding this types","messenger_web_product");o=b("cr:2382")==null?o:c("bs_curry")._1(b("cr:2382").unvault,o);if(o==="\ud83d\udc4d"&&c("bs_caml_obj").caml_equal(g.hotEmojiSize,d("LSHotEmojiSize.bs").small))return c("LSOptimisticSendMessage")(l,n,m,d("LSMailboxType.bs").messenger,void 0,void 0,void 0,c("bs_caml_format").caml_int64_of_string("369239263222822"),void 0,void 0,void 0,d("LSMessagingThreadAttributionType.bs").unknown,void 0,void 0,void 0,void 0,void 0,j,void 0,void 0,!1,!1,void 0,void 0,void 0,void 0,void 0,f).then(function(a){});else return c("LSOptimisticSendMessage")(l,n,m,d("LSMailboxType.bs").messenger,o,void 0,void 0,void 0,void 0,void 0,void 0,d("LSMessagingThreadAttributionType.bs").unknown,void 0,void 0,void 0,void 0,void 0,j,void 0,void 0,!1,!1,void 0,void 0,void 0,void 0,void 0,f).then(function(a){})},"readwrite");c("promiseDone")(f)}e=a;g.$MAWVault$requireCond=b("cr:2382");g.useForwardMessage=e}),98);
__d("MAWFowardMessageFromOpenThread.bs",["MAWForwardMessage.bs","MAWGetEphemeralSettings.bs","MAWImagePreProcess","MAWJob.bs","MAWSecureComposerUtils.bs","MAWUIThreadCache","MAWVideoUtils","MWThread_DEPRECATED.bs","MessagingAttachmentType.bs","Promise","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c){return b("Promise").all([d("MAWImagePreProcess").getImageSpec(a),b("Promise").resolve(a),c.arrayBuffer(),d("MAWImagePreProcess").getImageSpec(c)]).then(function(a){var c=a[3];return b("Promise").resolve({_0:a[1],_1:{imageSpec:a[0],thumbnailUrlAndSpec:{duration:void 0,height:c.height,jpegThumbnail:a[2],width:c.width}},TAG:0})})}function i(a){return d("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a).then(function(c){return b("Promise").resolve({_0:a,_1:{thumbnailUrlAndSpec:c},TAG:1})})}function j(a){var e=a.attachmentType;if(c("bs_caml").i64_eq(e,d("MessagingAttachmentType.bs").image)||c("bs_caml").i64_eq(e,d("MessagingAttachmentType.bs").video)||c("bs_caml").i64_eq(e,d("MessagingAttachmentType.bs").animatedImage)){var f=a.playableUrl,g=a.previewUrl;if(f===void 0)return c("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product");if(g!==void 0){var j=c("bs_caml").i64_eq(a.attachmentType,d("MessagingAttachmentType.bs").animatedImage),k=j?g+"&":f;g=j?g+"&":g;return b("Promise").all([window.fetch(k).then(function(a){return a.blob()}),window.fetch(g).then(function(a){return a.blob()})]).then(function(b){var e=c("bs_belt_Option").getExn(a.playableUrlMimeType),f=c("bs_belt_Option").getExn(a.previewUrlMimeType);e=new File([b[0]],"mediaForwardedFromOpenThread",{type:j?f:e});b=new File([b[1]],"previewForwardedFromOpenThread",{type:f});f=a.attachmentType;if(c("bs_caml").i64_eq(f,d("MessagingAttachmentType.bs").image))return h(e,b);else if(c("bs_caml").i64_eq(f,d("MessagingAttachmentType.bs").video))return i(e);else if(c("bs_caml").i64_eq(f,d("MessagingAttachmentType.bs").animatedImage))return h(e,b);else return c("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product")})}var l=c("bs_caml").i64_eq(a.attachmentType,d("MessagingAttachmentType.bs").animatedImage);k=l?f+"&":f;return window.fetch(k).then(function(a){return a.blob()}).then(function(e){var f=c("bs_belt_Option").getExn(a.playableUrlMimeType);l&&f==="video/mp4"&&c("unrecoverableViolation")("If you see this error, there is only mp4 url for gif","messenger_web_product");e=new File([e],"mediaForwardedFromOpenThread",{type:f});f=a.attachmentType;if(c("bs_caml").i64_eq(f,d("MessagingAttachmentType.bs").image))return d("MAWSecureComposerUtils.bs").imagePreprocess(e,!1);else if(c("bs_caml").i64_eq(f,d("MessagingAttachmentType.bs").video))return i(e);else if(c("bs_caml").i64_eq(f,d("MessagingAttachmentType.bs").animatedImage))return b("Promise").all([d("MAWImagePreProcess").getJpegThumbnailInfo(e,400),d("MAWImagePreProcess").getImageSpec(e),b("Promise").resolve(e)]).then(function(a){return b("Promise").resolve({_0:a[2],_1:{imageSpec:a[1],thumbnailUrlAndSpec:a[0]},TAG:0})});else return c("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product")})}else if(c("bs_caml").i64_eq(e,d("MessagingAttachmentType.bs").audio)){g=a.playableUrl;if(g!==void 0)return window.fetch(g+"&").then(function(a){return a.blob()}).then(function(d){var e=c("bs_belt_Option").getExn(a.playableUrlMimeType),f=c("bs_belt_Option").getExn(a.playableDurationMs);d=new File([d],"mediaForwardedFromOpenThread",{type:e});return b("Promise").resolve({_0:d,_1:{durations:c("bs_caml_int64").to_int32(f)/1e3|0,isPtt:!0},TAG:2})});else return c("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product")}else if(c("bs_caml").i64_eq(e,d("MessagingAttachmentType.bs").sticker)){f=a.playableUrl;k=a.previewUrl;if(f!==void 0)if(k!==void 0)return b("Promise").all([window.fetch(f).then(function(a){return a.blob()}),window.fetch(k).then(function(a){return a.blob()})]).then(function(b){var d=c("bs_belt_Option").getExn(a.playableUrlMimeType),e=c("bs_belt_Option").getExn(a.previewUrlMimeType);d=new File([b[0]],"mediaForwardedFromOpenThread",{type:d});b=new File([b[1]],"previewForwardedFromOpenThread",{type:e});return h(d,b)});else return window.fetch(f).then(function(a){return a.blob()}).then(function(b){var d=c("bs_belt_Option").getExn(a.playableUrlMimeType);b=new File([b],"mediaForwardedFromOpenThread",{type:d});return h(b,b)});else if(k!==void 0)return window.fetch(k).then(function(a){return a.blob()}).then(function(b){var e=c("bs_belt_Option").getExn(a.previewUrlMimeType);return d("MAWSecureComposerUtils.bs").imagePreprocess(new File([b],"previewForwardedFromOpenThread",{type:e}),!0)});else return c("unrecoverableViolation")("If you see this error, there is no url for this sticker","messenger_web_product")}else return c("unrecoverableViolation")("We do not support forwarding other media types","messenger_web_product")}function a(a,e,f,g,h,i){f=d("MWThread_DEPRECATED.bs").toThreadKey(e);c("promiseDone")(d("MAWForwardMessage.bs").maybeCreateNewThreadStep(a,f).then(function(a){return d("MAWUIThreadCache").getThreadJidByChatId({threadId:a.chatId}).then(function(e){if(e==null)return b("Promise").resolve();else{var f=d("MAWGetEphemeralSettings.bs").use(e),k=a.created;return f.then(function(a){if(i!==void 0)if(i.attachmentFbid==="369239263222822"||i.attachmentFbid==="369239343222814"||i.attachmentFbid==="369239383222810")return d("MAWJob.bs").sendMsg.waitUntilPersisted(e,{content:"\ud83d\udc4d",duration:void 0,ephemeralSetting:a,height:void 0,isFirstMsg:k,isForwarded:h,isPtt:void 0,jpegThumbnail:void 0,jpegThumbnailHeight:void 0,jpegThumbnailWidth:void 0,openMessageOtid:void 0,openMessageParticipantCount:void 0,optimisticMsg:void 0,participantCount:void 0,quote:void 0,specialTextSize:1,width:void 0},void 0,{priority:"UI_ACTION"});else return j(i).then(function(f){switch(f.TAG){case 0:var g=f._1;d("MAWJob.bs").sendMediaMsg.fireAndForget(e,f._0,c("bs_caml_option").some(g.thumbnailUrlAndSpec.jpegThumbnail),g.imageSpec.width,g.imageSpec.height,g.thumbnailUrlAndSpec.width,g.thumbnailUrlAndSpec.height,void 0,void 0,a,void 0,void 0,h,k,void 0,{priority:"UI_ACTION"});break;case 1:g=f._1;d("MAWJob.bs").sendMediaMsg.fireAndForget(e,f._0,c("bs_caml_option").some(g.thumbnailUrlAndSpec.jpegThumbnail),g.thumbnailUrlAndSpec.width,g.thumbnailUrlAndSpec.height,g.thumbnailUrlAndSpec.width,g.thumbnailUrlAndSpec.height,g.thumbnailUrlAndSpec.duration,void 0,a,void 0,void 0,h,k,void 0,{priority:"UI_ACTION"});break;case 2:g=f._1;d("MAWJob.bs").sendMediaMsg.fireAndForget(e,f._0,void 0,void 0,void 0,void 0,void 0,g.durations,g.isPtt,a,void 0,void 0,h,k,void 0,{priority:"UI_ACTION"});break}return b("Promise").resolve()});var f=g.text;if(f!==void 0)return d("MAWJob.bs").sendMsg.waitUntilPersisted(e,{content:g.text,duration:void 0,ephemeralSetting:a,height:void 0,isFirstMsg:k,isForwarded:h,isPtt:void 0,jpegThumbnail:void 0,jpegThumbnailHeight:void 0,jpegThumbnailWidth:void 0,openMessageOtid:void 0,openMessageParticipantCount:void 0,optimisticMsg:void 0,participantCount:void 0,quote:void 0,specialTextSize:void 0,width:void 0},void 0,{priority:"UI_ACTION"});else return c("unrecoverableViolation")("We do not support forwarding this types","messenger_web_product")})}})}))}e=a;f=j;g.useForwardMessage=e;g.downloadMediaByUrl=f}),98);
__d("MAWEphemeralSettingsLazyDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResourceForInteraction","MAWChatJid.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.renderer;a=a.threadKey;a=d("MAWChatJid.bs").useThreadJidCallback(a);var e=h.useRef(null);return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{getThreadJid:a},dialogResource:c("JSResourceForInteraction")("MAWEphemeralSettingsDialog.react",{"class":"fluid",name:"MAWEphemeralSettingsDialog"}).__setRef("MAWEphemeralSettingsLazyDialogTrigger.bs"),children:function(a){return c("bs_curry")._2(b,a,e)}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWMessageElementRefList.bs",["bs_curry"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new Map(),d=new Map(),e={contents:void 0};return{get:function(a,d){var f=b.get(a);if(f==null){e.contents=[a,d];return}else return c("bs_curry")._1(d,f)},set:function(a){var f=d.get(a);if(!(f==null))return f;f=function(d){if(d==null){b["delete"](a);return}b.set(a,d);var f=e.contents;if(f!==void 0&&f[0]===a){c("bs_curry")._1(f[1],d);e.contents=void 0;return}};d.set(a,f);return f}}}function b(a){switch(a.TAG){case 0:var b=a._0.messageID;switch(b.TAG){case 0:return;case 1:var c=b._0.offlineThreadingId;return c;case 2:c=b._0.messageId;return c}case 1:b=a._0.messageID;switch(b.TAG){case 0:return;case 1:c=b._0.offlineThreadingId;return c;case 2:c=b._0.messageId;return c}case 2:b=a._0.messageID;switch(b.TAG){case 0:return;case 1:c=b._0.offlineThreadingId;return c;case 2:a=b._0.messageId;return a}}}d=a;e=b;g.make=d;g.messageIdFromContent=e}),98);
__d("MWV2ConversationScrollerRefs.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=h.useRef(null),c=h.useRef({_0:void 0,TAG:0});return h.useMemo(function(){return{scrollerRef:b,scrollPositionRef:c}},[])}g.useHook=a}),98);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";var g;b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(g=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function a(a,c){if(!b("fbjs/lib/ExecutionEnvironment").canUseDOM||c&&!("addEventListener"in document))return!1;c="on"+a;var d=c in document;if(!d){var e=document.createElement("div");e.setAttribute(c,"return;");d=typeof e[c]==="function"}!d&&g&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}e.exports=a}),null);
__d("MWChatConversationScroller.bs",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","bs_caml_obj","bs_caml_option","bs_curry","isEventSupported","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function j(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop<=a}var k=c("ExecutionEnvironment").canUseDOM?document.body.style.overscrollBehavior===void 0&&document.body.style.scrollBoundaryBehavior===void 0:!1;function a(a,b){var d=a.boundingClientRectRef,e=a.children,f=a.dispatch,g=a.hasMoreAfter,l=a.scrollPositionRef;a=a.onScroll;var m=a!==void 0?a:function(a){},n=h.useRef(f),o=h.useRef(null),p=h.useCallback(function(a){o.current=a;if(d!==void 0){d.current=a==null?void 0:c("bs_caml_option").some(a.getBoundingClientRect());return}},[d]);h.useEffect(function(){n.current=f});var q=function(a,b){b=o.current;if(!(b==null)){b.scrollTop=a;return}},r=function(a,b){b=a!==void 0?a:!1;a=o.current;if(!(a==null))return q(a.scrollHeight,b)},s=function(a,b){var c=o.current;if(!(c==null))return q(c.scrollHeight-(a+c.clientHeight),b)},t=h.useRef(!1);t.current=g;var u=function(a){a=l.current;var b=o.current;b=b==null?void 0:b.scrollHeight-(b.scrollTop+b.clientHeight);var d=i(void 0,o.current),e=j(void 0,o.current);l.current=d?t.current?{_0:void 0,TAG:3}:{_0:void 0,TAG:0}:b!==void 0?e?{_0:b,TAG:1}:{_0:b,TAG:2}:{_0:void 0,TAG:0};d=l.current;e=0;var f=0;switch(a.TAG){case 0:e=1;break;case 1:case 2:f=2;break;case 3:break}if(f===2)switch(d.TAG){case 1:e=1;break;case 2:break;case 0:case 3:n.current({_0:void 0,TAG:1});break}if(e===1){f=0;switch(a.TAG){case 1:break;case 0:case 2:f=2;break}f===2&&d.TAG===1&&n.current({_0:void 0,TAG:2})}return c("bs_curry")._1(m,b)},v=function(a){if(k){var b=a.deltaY>0,c=a.deltaY<0;(b&&i(0,o.current)||c&&j(0,o.current))&&a.preventDefault()}return u()},w=function(a){var b=c("isEventSupported")("mousewheel")?"mousewheel":c("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(d){return a.removeEventListener(b,c,{passive:!0})}},e=function(c){return a.addEventListener(b,v,{passive:!k})},f=function(c){return a.removeEventListener(b,v,{passive:!k})},g=d("mouseenter",e),h=d("mouseleave",f);e=c("CometThrottle")(u,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",u),l=d("mousedown",u);return function(a){f();c("bs_curry")._1(i);c("bs_curry")._1(g);c("bs_curry")._1(h);c("bs_curry")._1(l);return c("bs_curry")._1(j)}};h.useEffect(function(){var a=o.current;if(a==null)return;var b=w(a);return function(a){return c("bs_curry")._1(b)}},[]);h.useLayoutEffect(function(){var a=o.current;!(a==null)&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&n.current({_0:void 0,TAG:0})});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=l.current;switch(a.TAG){case 0:r();break;case 1:s(a._0,!1);break;case 2:case 3:break}});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=l.current;switch(a.TAG){case 0:r();break;case 1:case 2:s(a._0,!1);break;case 3:break}},[]);var x=h.useContext(c("BaseScrollableAreaContext")),y=h.useMemo(function(){return{getDOMNode:function(a){return o.current}}},[]);a=h.useMemo(function(){return x.concat([y])},[y,x]);h.useImperativeHandle(b,function(){return{getScroller:function(a){return p},isContainerFilled:function(a){a=o.current;if(a==null)return!0;else return!(a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20)},scrollElementIntoViewIfNeeded:function(a){var b=o.current;if(b==null)return;var d=a.getBoundingClientRect();b=b.getBoundingClientRect();d=d.top;b=b.top;if(c("bs_caml_obj").caml_lessequal(d,b)){a.scrollIntoView();return}},scrollToBottom:function(a){l.current={_0:void 0,TAG:0};return r()},scrollToElement:function(a,b){var d=o.current;if(d==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var e=d.getBoundingClientRect();a=a.top;e=e.top;if(c("bs_caml_obj").caml_lessequal(a,e)){d.scrollBy(0,-b|0);return u()}}}},[]);return h.jsx(c("BaseScrollableAreaContext").Provider,{children:h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x1odjw0f xish69e x16qrkmw","data-release-focus-from":"CLICK",ref:p,tabIndex:-1,children:e}),value:a})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);e=20;g.isScrolledToBottom=i;g.isScrolledToTop=j;g.disableElasticScroll=k;g.make=b;g.scrollTolerance=e}),98);
__d("MWV2MessageScroller.bs",["LSMailboxMessagesRangeQueryDirection.bs","MWChatConversationScroller.bs","MWMarkThreadAsReadWhenNewMessagesArrive.bs","bs_caml_obj","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.markThreadAsRead,e=a.lastMessageToCalculateIfThreadIsRead,f=a.children,g=a.fetchMore,i=a.hasMoreAfter,j=a.hasMoreBefore,k=a.scrollerRefs,l=a.thread;a=a.onScroll;a=a!==void 0?a:function(a){};var m=h.useCallback(function(a){return c("bs_caml_obj").caml_equal(k.scrollPositionRef.current,{_0:void 0,TAG:0})},[k]),n=h.useCallback(function(a){return!1}),o=d("MWMarkThreadAsReadWhenNewMessagesArrive.bs").useHook(l,e,b,m,n);return h.jsx(d("MWChatConversationScroller.bs").make,{dispatch:function(a){switch(a.TAG){case 0:if(j)return c("bs_curry")._1(g,d("LSMailboxMessagesRangeQueryDirection.bs").before);else return;case 1:if(i)return c("bs_curry")._1(g,d("LSMailboxMessagesRangeQueryDirection.bs").after);else return c("bs_curry")._1(o);case 2:return c("bs_curry")._1(g,d("LSMailboxMessagesRangeQueryDirection.bs").before)}},hasMoreAfter:i,onScroll:a,ref:k.scrollerRef,scrollPositionRef:k.scrollPositionRef,children:f})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MAWSendOrRemoveReaction.bs",["MAWBackendBridge.bs","MAWJob.bs","MAWThreadId.bs","MAWUIThreadCache","Promise","bs_caml_option","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,e){var f=c("useReStore")();return h.useMemo(function(){return function(g,h){if(e===void 0)return;var i=c("bs_caml_option").valFromOption(e),j=d("MAWThreadId.bs").ofThreadKey(f,a).then(function(a){if(a.TAG===0)return b("Promise").all([d("MAWUIThreadCache").getThreadJidByChatId({threadId:a._0}),c("bs_curry")._1(d("MAWBackendBridge.bs").getProtocolMsgIdByMsgId({msgId:g}).sendAndReceive)]).then(function(a){var c=a[1];a=a[0];if(!(a==null)&&!(c==null))return d("MAWJob.bs").sendReactionMsg.waitUntilPersisted(a,c,i,h,void 0,{priority:"UI_ACTION"});else return b("Promise").resolve()});else return b("Promise").resolve()});c("promiseDone")(j)}},[f,JSON.stringify(a),e])}g.useSendOrRemoveReaction=a}),98);
__d("MWChatLoadMoreItemsIncrementally.bs",["LSMailboxMessagesRangeQueryDirection.bs","bs_belt_Array","bs_belt_Option","bs_caml","bs_curry","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={contents:void 0};function j(a){i.contents===void 0&&(i.contents=window.document.documentElement.style.overflowAnchor!==void 0);return c("bs_belt_Option").getWithDefault(i.contents,!1)}function a(a,b,e,f,g,i){a=a!==void 0?a:!1;var k=b!==void 0?b:!0;b=e!==void 0?e:{_0:void 0,TAG:0};e=a||!j();var l=f.length,m;switch(b.TAG){case 1:case 2:m=b._0>=200;break;case 0:case 3:m=!1;break}a=h.useState(function(){if(m)return l;else if(k)if(window.screen.availHeight<1200)return 20;else return 40;else return 10});var n=a[0],o=a[1];b=h.useMemo(function(){return c("bs_belt_Array").sliceToEnd(f,-n|0)},[f,n]);var p=h.useRef(n);a=h.useCallback(function(a){c("bs_caml").i64_neq(a,d("LSMailboxMessagesRangeQueryDirection.bs").before)&&c("unrecoverableViolation")("Message fetch direction must be 'before'","messenger_web_product");if((p.current+15|0)<=l){p.current=p.current+15|0;return c("bs_curry")._1(o,function(a){return p.current})}else{c("bs_curry")._1(g,d("LSMailboxMessagesRangeQueryDirection.bs").before);if(p.current<(l+15|0)){p.current=l+15|0;return c("bs_curry")._1(o,function(a){return p.current})}else return}},[g,l,o]);if(e)return[f,g,i];else return[b,a,i||n<l]}b=15;e=10;f=20;var k=40,l=1200,m=200;g.useLoadMore=a;g.pageSize=b;g.initialCountSmall=e;g.initialCountDefault=f;g.initialCountTall=k;g.tallWindowHeight=l;g.minScrollPosToMountAll=m}),98);
__d("MAWMediaManagerUtilsDeferred.bs",["requireDeferred"],(function(a,b,c,d,e,f){"use strict";a=b("requireDeferred")("MAWMediaManagerUtils.bs").__setRef("MAWMediaManagerUtilsDeferred.bs");c=a;f.$MAWMediaManagerUtils$Deferred=a;f.utils=c}),null);
__d("MAWAcceptMessageRequest.bs",["LS.bs","LSAddMessengerContact","MAWMessageRequestUtil.bs","MAWUpdateLSThreadCapabilities.bs","MWPActor.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,e,f,g){e=d("MAWMessageRequestUtil.bs").useIsOneOnOneMessageRequestV2(f,g);if(!e)return;if(g===void 0)return;var h=g[1],i=babelHelpers["extends"]({},h,{contactViewerRelationship:[0,2]});c("promiseDone")(a.runInTransaction(function(a){return b("Promise").all([a.table("contacts").upsert({hd:h.id,tl:0},i),c("LSAddMessengerContact")(h.id,d("LS.bs").make(a)),d("MAWUpdateLSThreadCapabilities.bs").updateNonMessageRequestThreadTxn(a,f)])},"readwrite"))}function a(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts"))),function(a){return c("bs_caml").i64_neq(a[1].id,e)})},[b,JSON.stringify(a.threadKey)]));return h.useCallback(function(c){return i(b,e,a,f)},[b,e,JSON.stringify(a.threadKey)])}e=i;f=a;g.call=e;g.useHook=f}),98);
__d("MWV2CurrentVisibleMessage.bs",["LS.bs","LSMessagePointQuery","MWMessageElementRefList.bs","MWPVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var e=d("MWPVisibleMessageContext.bs").useHook(),f=e.visibleMessage,g=h.useRef(d("MWMessageElementRefList.bs").make());e=a!==void 0?a.threadKey:void 0;var i=a!==void 0?a.threadType:void 0,j=h.useRef(),k=c("useReStore")(),l=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(a===void 0)return d("SortedAsyncIterable.bs").empty();if(f==null)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(k.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0});var b=f.timestamp;return d("ReQL.bs").filter(d("ReQL.bs").bounds(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(k.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0}),{NAME:"lessThanOrEqual",VAL:{hd:b,tl:0}}),function(a){if(c("bs_caml").i64_ge(b,a.minTimestampMs))return c("bs_caml").i64_le(b,a.maxTimestampMs);else return!1})},[k,f,JSON.stringify(e)])),m=h.useState(function(){return l}),n=m[0],o=m[1];h.useEffect(function(){j.current=void 0;var a=b.current;!(f==null)||a==null||a.scrollToBottom()},[f]);var p=function(a){var d=b.current;if(!(d==null)){c("setTimeout")(function(b){return d.scrollElementIntoViewIfNeeded(a)},0);return}},q=function(a){if(c("bs_caml_obj").caml_notequal(a,j.current))return c("bs_curry")._2(g.current.get,a,function(b){p(b),j.current=a})};h.useEffect(function(){l!==void 0?c("bs_curry")._1(o,function(a){return l}):f==null&&c("bs_curry")._1(o,function(a){})},[f,l,o]);h.useEffect(function(){!(f==null)&&n!==void 0&&q(f.messageId)},[k,f,n,q]);h.useEffect(function(){if(a!==void 0&&l===void 0&&!(f==null)){var b=f.messageId;c("promiseDone")(k.runInTransaction(function(e){return c("LSMessagePointQuery")(a.threadKey,b,a.threadType,d("LS.bs").make(e))},"readwrite"))}},[k,f,l,JSON.stringify(e),JSON.stringify(i)]);return{messageElementRefs:g,messageRange:n,visibleMessage:f==null?void 0:c("bs_caml_option").some(f)}}b=a;g.useHook=b}),98);
__d("MAWAttachmentBlob.bs",["LSSuspense","MAWBackendBridge.bs","Promise","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map();function a(a){var e=h.get(a);if(!(e==null))if(e.TAG===0)return c("LSSuspense").throwErrorOrPromise(e._0);else return e._0;e=c("bs_curry")._1(d("MAWBackendBridge.bs").getBlobDataUrlByMediaId({mediaId:c("bs_caml_format").caml_int32_of_string(a)}).sendAndReceive).then(function(d){h.set(a,{_0:URL.createObjectURL(c("bs_belt_Option").getExn(d)),TAG:1});return b("Promise").resolve()})["catch"](function(a){c("recoverableViolation")("Unable to getBlobUrlByMediaId","messenger_e2ee_web",{error:c("bs_caml_option").some(a)});return b("Promise").resolve()});h.set(a,{_0:e,TAG:0});return c("LSSuspense").throwErrorOrPromise(e)}function j(a){if(a!==void 0&&a.hasMedia!==!1)return k(a.attachmentFbid);else if(a!==void 0&&a.hasXma!==!1)return l(a,"preview");else return c("LSSuspense").throwErrorOrPromise(b("Promise").resolve())}function e(a,e){if(a===void 0)return c("LSSuspense").throwErrorOrPromise(b("Promise").resolve());var f=i.get(a.attachmentFbid+e);if(!(f==null))if(f.TAG===0)return c("LSSuspense").throwErrorOrPromise(f._0);else return f._0;f=c("bs_curry")._1(d("MAWBackendBridge.bs").getBlobDataUrlByXMAId({infoType:e,xmaId:c("bs_caml_format").caml_int32_of_string(a.attachmentFbid)}).sendAndReceive).then(function(d){i.set(a.attachmentFbid+e,{_0:URL.createObjectURL(c("bs_belt_Option").getExn(d==null?void 0:c("bs_caml_option").some(d))),TAG:1});return b("Promise").resolve()})["catch"](function(c){i.set(a.attachmentFbid+e,{_0:"",TAG:1});return b("Promise").resolve()});i.set(a.attachmentFbid+e,{_0:f,TAG:0});return c("LSSuspense").throwErrorOrPromise(f)}function f(a,b){return j(b)}var k=a;a=j;var l=e;e=f;g.getAttachmentBlobNonOptional=k;g.getAttachmentBlob=a;g.getInfoUrlXMA=l;g.useGetAttachmentBlob=e}),98);
__d("MAWAttachmentThumbnail.bs",["LSSuspense","MAWBackendBridge.bs","Promise","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a){if(a===void 0)return c("LSSuspense").throwErrorOrPromise(b("Promise").resolve());if(a.hasMedia===!1)return c("LSSuspense").throwErrorOrPromise(b("Promise").resolve());var e=h.get(a.attachmentFbid);if(!(e==null))if(e.TAG===0)return c("LSSuspense").throwErrorOrPromise(e._0);else return e._0;e=c("bs_curry")._1(d("MAWBackendBridge.bs").getThumbnailBlobDataUrlByMediaId({mediaId:c("bs_caml_format").caml_int32_of_string(a.attachmentFbid)}).sendAndReceive).then(function(d){h.set(a.attachmentFbid,{_0:c("bs_belt_Option").getExn(d==null?void 0:c("bs_caml_option").some(d)),TAG:1});return b("Promise").resolve()})["catch"](function(a){c("recoverableViolation")("Unable to getThumbnailBlobDataUrlByMediaId","messenger_e2ee_web",{error:c("bs_caml_option").some(a)});return b("Promise").resolve()});h.set(a.attachmentFbid,{_0:e,TAG:0});return c("LSSuspense").throwErrorOrPromise(e)}e=a;g.getThumbnailBlob=e}),98);
__d("MWV2ChatImagePlaceholder.bs",["BaseGlimmer.react","CometObjectFitContainer.react","MWPStableImage.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={glimmer:{display:"x1lliihq",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=a.height;a=a.width;if(a===void 0)return null;if(b===void 0)return null;var e=a/b;return h.jsx(d("MWPStableImage.bs").Container.make,{aspectRatio:e,className:c("stylex")(!1),height:b,maxHeight:200,maxWidth:480,width:a,children:h.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:h.jsx(c("BaseGlimmer.react"),{index:1,xstyle:i.glimmer})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MAWSecureAttachment.bs",["CometPlaceholder.react","MAWAttachmentBlob.bs","MAWAttachmentThumbnail.bs","MWAudioPlayer.bs","MWPMessageListAttachment.bs","MWV2ChatImage.bs","MWV2ChatImagePlaceholder.bs","MWV2ChatVideo.bs","MWV2Sticker.bs","MWXMAAttachment.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=c("useReStore")();return h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("attachments")),{hd:a.threadKey,tl:{hd:a.messageId,tl:0}})},[b,a.messageId])}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.message;a=a.outgoing;var g=d("ReQLSubscription.bs").useFirst(i(f));if(g===void 0)return null;var j=g.attachmentType;return h.jsx(d("MWPMessageListAttachment.bs").Container.make,{connectTop:e,message:f,children:c("bs_caml").i64_eq(j,d("MessagingAttachmentType.bs").image)?h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(d("MWV2ChatImagePlaceholder.bs").make,{height:c("bs_belt_Option").map(g.previewHeight,c("bs_caml_int64").to_float),width:c("bs_belt_Option").map(g.previewWidth,c("bs_caml_int64").to_float)}),children:h.jsx(d("MWV2ChatImage.bs").make,{attachment:g,connectTop:e,getPlayableUrl:function(a){return d("MAWAttachmentBlob.bs").getAttachmentBlob(a)},getPreviewUrl:function(a){return d("MAWAttachmentThumbnail.bs").getThumbnailBlob(a)},message:f,navigateToRouteForMediaViewer:!1,outgoing:a})}):c("bs_caml").i64_eq(j,d("MessagingAttachmentType.bs").video)?h.jsx(d("MWV2ChatVideo.bs").make,{attachment:g,connectTop:e,getPreviewUrl:function(a){return d("MAWAttachmentBlob.bs").getAttachmentBlob(a)},message:f,navigateToRouteForMediaViewer:!1,outgoing:a}):c("bs_caml").i64_eq(j,d("MessagingAttachmentType.bs").audio)?h.jsx(d("MWAudioPlayer.bs").make,{attachment:g,getPlayableUrl:function(a){return d("MAWAttachmentBlob.bs").getAttachmentBlob(a)},outgoing:a}):c("bs_caml").i64_eq(j,d("MessagingAttachmentType.bs").animatedImage)?h.jsx(d("MWV2ChatImage.bs").make,{attachment:g,connectTop:e,getPlayableUrl:function(a){return d("MAWAttachmentBlob.bs").getAttachmentBlob(a)},getPreviewUrl:function(a){return d("MAWAttachmentBlob.bs").getAttachmentBlob(a)},message:f,navigateToRouteForMediaViewer:!1,outgoing:a}):c("bs_caml").i64_eq(j,d("MessagingAttachmentType.bs").sticker)?h.jsx(d("MWV2Sticker.bs").make,{attachment:g,getPreviewUrl:function(a){return d("MAWAttachmentBlob.bs").getAttachmentBlob(a)}}):c("bs_caml").i64_eq(j,d("MessagingAttachmentType.bs").xma)?h.jsx(d("MWXMAAttachment.bs").make,{attachment:g,connectBottom:b,connectTop:e,getFaviconUrlXMA:function(a,b){return d("MAWAttachmentBlob.bs").getInfoUrlXMA(a,"favicon")},getHeaderUrlXMA:function(a){return d("MAWAttachmentBlob.bs").getInfoUrlXMA(a,"header")},getPlayableUrl:function(a,b){return d("MAWAttachmentBlob.bs").getInfoUrlXMA(a,"preview")},getPreviewUrlXMA:function(a,b){return d("MAWAttachmentBlob.bs").getInfoUrlXMA(a,"preview")},outgoing:a}):"Unsupported attachment type"})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=i;f=b;g.useAttachments=e;g.make=f}),98);
__d("MAWEncryptionPlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(d("MWV2TombstonedMessage.bs").make,{children:h._("__JHASH__4OgzNQUOXys__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MAWFutureproofPlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(d("MWV2TombstonedMessage.bs").make,{children:h._("__JHASH__rJAaVw-bGTJ__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MAWUnavailablePlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(d("MWV2TombstonedMessage.bs").make,{children:h._("__JHASH__M9fzIhDqITQ__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MAWUnavailableStoryPlaceholder.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(d("MWV2TombstonedMessage.bs").make,{children:h._("__JHASH__XFKsw63gVvs__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MAWSecurePlaceholder.bs",["LSMessageContentType.bs","MAWEncryptionPlaceholder.bs","MAWFutureproofPlaceholder.bs","MAWUnavailablePlaceholder.bs","MAWUnavailableStoryPlaceholder.bs","MWPMessageListColumn.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=c("useReStore")();return h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("attachments")),{hd:a.threadKey,tl:{hd:a.messageId,tl:0}})},[b,a.messageId])}function j(a){a=a.message;a=d("ReQLSubscription.bs").useFirst(i(a));if(a===void 0)return null;a=a.defaultCtaType;if(a==="xma_montage_share")return h.jsx(h.Suspense,{fallback:null,children:h.jsx(d("MAWUnavailableStoryPlaceholder.bs").make,{})});c("recoverableViolation")("Unexpected case where message is tombstone type but the attachment is not xma montage share","messenger_e2ee_web");return h.jsx(h.Suspense,{fallback:null,children:h.jsx(d("MAWUnavailablePlaceholder.bs").make,{})})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};function a(a){a=a.message;var b=a.displayedContentTypes;b=c("bs_caml").i64_eq(b,d("LSMessageContentType.bs").encryptionPlaceholder)?h.jsx(h.Suspense,{fallback:null,children:h.jsx(d("MAWEncryptionPlaceholder.bs").make,{})}):c("bs_caml").i64_eq(b,d("LSMessageContentType.bs").futureproofPlaceholder)?h.jsx(h.Suspense,{fallback:null,children:h.jsx(d("MAWFutureproofPlaceholder.bs").make,{})}):c("bs_caml").i64_eq(b,d("LSMessageContentType.bs").unavailablePlaceholder)?h.jsx(h.Suspense,{fallback:null,children:h.jsx(d("MAWUnavailablePlaceholder.bs").make,{})}):c("bs_caml").i64_eq(b,d("LSMessageContentType.bs").tombstone)?h.jsx(j,{message:a}):null;return h.jsx(d("MWPMessageListColumn.bs").Shrinkwrap,{children:b})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=i;a=b;b=e;g.useAttachments=f;g.Tombstone=a;g.make=b}),98);
__d("MAWSecureAttachmentRenderer.bs",["MAWMsg.bs","MAWSecureAttachment.bs","MAWSecurePlaceholder.bs","MWPMessageParsingUtils.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,c,e){b=d("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(a,b,"below");c=d("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(a,c,"below");return h.jsx(h.Suspense,{fallback:null,children:d("MAWMsg.bs").isMediaMsg(a)||d("MAWMsg.bs").isXMAMsg(a)?h.jsx(d("MAWSecureAttachment.bs").make,{connectBottom:c,connectTop:b,message:a,outgoing:e}):h.jsx(d("MAWSecurePlaceholder.bs").make,{message:a})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.render=b}),98);
__d("MAWMessageRetryButton.bs",["MAWBackendBridge.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message;return h.jsx("button",{onClick:function(a){return c("bs_curry")._1(d("MAWBackendBridge.bs").retryUploadMedia({msgId:b.messageId}).fireAndForget)},children:"Retry"})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MAWAdminViewLogins.bs",["fbt","JSResourceForInteraction","MWPBumpEntityKey","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=c("useCometLazyDialog")(c("JSResourceForInteraction")("MAWTrustedLoginsDialog.react",{"class":"fluid",name:"MAWTrustedLoginsDialog"}).__setRef("MAWAdminViewLogins.bs"));var b=a[0];return i.jsx("div",{className:"xz94kzr x1ypdohk x1rg5ohu xo1l8bm x1iog12x",onClick:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","trusted_logins");return b(void 0,function(a){})},children:h._("__JHASH__tDIDH9AMj9C__JHASH__").toString()})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MAWFetchMoreMessages.bs",["LS.bs","LSIssueMessagesRangeQuery","MAWBackendBridge.bs","MAWThreadId.bs","MWEncryptedBackupsIssueRangeQueryDeferred.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml_int64","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")(),e=d("MWEncryptedBackupsIssueRangeQueryDeferred.bs").useHook();return h.useMemo(function(){return function(f,g,h){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("messages_ranges_v2__generated")),{hd:g,tl:0})).then(function(a){if(a!==void 0&&!a.isLoadingBefore)return d("MAWThreadId.bs").ofThreadKey(f,g).then(function(g){if(g.TAG!==0)return b("Promise").resolve();var h=g._0;return f.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:!0,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(f){c("promiseDone")(c("bs_curry")._1(d("MAWBackendBridge.bs").loadMoreMsgs({numMsgs:10,offsetMsgId:a.minMessageId,threadId:h}).sendAndReceive).then(function(f){if(f.hasMore)return b("Promise").resolve();else return c("bs_curry")._1(d("MAWBackendBridge.bs").getMaybeNextNonAdminMsgSortOrderMs({mayBeAdminMsgId:a.minMessageId,threadId:h}).sendAndReceive).then(function(a){return e(h,c("bs_caml_int64").of_float(a.minMsgTimestampMs),[0,10],c("bs_caml_int64").zero)})}))})});else return b("Promise").resolve()})}},[a,e])}function e(a,e){var f=c("useReStore")(),g=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("messages_ranges_v2__generated")),{hd:a,tl:0})},[f,a])),i=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("messages_ranges_v2__generated")),{hd:e,tl:0})},[f,e])),j=function(a){c("promiseDone")(f.runInTransaction(function(b){if(i!==void 0)return c("LSIssueMessagesRangeQuery")(e,i.minTimestampMs,a,d("LS.bs").make(b));else return window.Promise.resolve()},"readwrite"))},k=d("MWEncryptedBackupsIssueRangeQueryDeferred.bs").useHook();return h.useCallback(function(e){if(g===void 0)return;var h=g.hasMoreBefore,i=g.minMessageId;g.minTimestampMs;c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(f,a).then(function(a){if(a.TAG!==0)return b("Promise").resolve();var f=a._0;return c("bs_curry")._1(d("MAWBackendBridge.bs").loadMoreMsgs({numMsgs:10,offsetMsgId:i,threadId:f}).sendAndReceive).then(function(a){if(a.hasMore)return b("Promise").resolve();else return c("bs_curry")._1(d("MAWBackendBridge.bs").getMaybeNextNonAdminMsgSortOrderMs({mayBeAdminMsgId:i,threadId:f}).sendAndReceive).then(function(a){c("bs_curry")._4(k,f,c("bs_caml_int64").of_float(a.minMsgTimestampMs),[0,10],c("bs_caml_int64").zero);if(!h)return j(e)})})}))},[f,a,e,g,i])}g.useFetchSecureMessages=a;g.useFetchCutoverMessages=e}),98);
__d("MAWHotLike.bs",["MAWGating","MWPColorUtils.bs","MWPThreadTheme.bs","MessengerHotLikeSVGReact.bs","bs_caml_option","bs_js_null_undefined","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={likePreview:{display:"x78zum5","float":"x18mqm2i",height:"x1dnml7z",width:"x7tvc40",$$css:!0},noCustomLikePreview:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}};function a(a){a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;var b=d("MWPThreadTheme.bs").useHook();b=d("MAWGating").isOccamadillo()?d("MWPColorUtils.bs").int64ToHex(b.threadTheme.fallbackColor):"var(fds-black)";return h.jsx("div",{className:c("stylex")(i.likePreview,i.noCustomLikePreview,a),children:h.jsx(d("MessengerHotLikeSVGReact.bs").make,{color:c("bs_js_null_undefined").fromOption(b)})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPOneToOneThreadBlockedContext.bs",["LSContactBlockedByViewerStatus.bs","MWV2OneToOneThreadBlockedContext.bs","MessagingThreadType.bs","bs_caml","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.participants,f=a.thread;a=h.useMemo(function(){if(!(c("bs_caml").i64_eq(f.threadType,d("MessagingThreadType.bs").oneToOne)||c("bs_caml").i64_eq(f.threadType,d("MessagingThreadType.bs").secureMessageOverWaOneToOne)))return!1;var a={contents:!1};e.forEach(function(b,e,f){if(c("bs_caml").i64_neq(b[1].blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").unblocked)){a.contents=!0;return}});return a.contents},[JSON.stringify(f.threadType),e]);return h.jsx(d("MWV2OneToOneThreadBlockedContext.bs").make,{blocked:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWV2SeenHead.bs",["GenderConst","LSMediaUrl.bs","LSMessageSendStatusV2.bs","MWMessageDeliveryStatus.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";f=[];function h(a){var b=a[1];a=a[0];return{gender:c("GenderConst").NOT_A_PERSON,id:c("bs_int64").to_string(b.id),imageSrc:d("LSMediaUrl.bs").Contact.profilePictureUrl(b),name:c("bs_belt_Option").getWithDefault(a.nickname,b.name),timestamp:c("bs_caml_int64").to_float(a.readActionTimestampMs)}}function a(a,b){var d={contents:c("bs_caml_int64").zero};a.forEach(function(a,e,f){e=a[0];if(c("bs_caml").i64_neq(e.contactId,b)&&c("bs_caml").i64_gt(e.deliveredWatermarkTimestampMs,d.contents)){d.contents=e.deliveredWatermarkTimestampMs;return}});return d.contents}function b(a){return new Set([c("bs_int64").to_string(a)])}function e(a,b,e,f,g,i){var j=[];b.forEach(function(b,f,g){if(e.has(f)||a.isAdminMessage)return;if(!c("bs_caml").i64_eq(a.sendStatusV2,d("LSMessageSendStatusV2.bs").serverReceived))return;g=b[0];var k=c("bs_caml").i64_eq(a.senderId,g.contactId);g=c("bs_caml").i64_le(a.timestampMs,g.readWatermarkTimestampMs);if(k||g){j.push(h(b));if(!i){e.add(f);return}else return}});var k=j.length===0&&e.size===1;if(j.length<=0)if(c("bs_caml").i64_eq(a.senderId,g))return d("MWMessageDeliveryStatus.bs").deliveryStatusForMessageSentByYou(a,f,k);else return{_0:void 0,TAG:0};if(!i)if(j.length>1)return{_0:j,TAG:6};else return{_0:j[0],TAG:5};g=j.length===(b.size-1|0);return{_0:j,_1:g,TAG:7}}f=f;var i=h;a=a;b=b;e=e;g.noSeenHeads=f;g.toSeenDetails=i;g.calculateMaxDeliveredTimestamp=a;g.makeExistingSeenHeads=b;g.deliveryStatusForMessage=e}),98);
__d("MWPBaseMessageList_DEPRECATED.bs",["BaseHeadingContextWrapper.re","LSMessagingThreadTypeUtil.bs","MWPActor.bs","MWPMessageAuthor.bs","MWPOneToOneThreadBlockedContext.bs","MWV2SeenHead.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messages,f=a.participants,g=a.renderRow;a=a.thread;var i=d("MWPActor.bs").useActor(),j=d("MWV2SeenHead.bs").calculateMaxDeliveredTimestamp(f,i),k=d("MWV2SeenHead.bs").makeExistingSeenHeads(i),l=d("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)&&d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),m=[];for(var n=e.length-1|0;n>=0;--n){var o=n===0?void 0:e[n-1|0],p=n>=(e.length-1|0)?void 0:e[n+1|0],q=e[n],r=d("MWV2SeenHead.bs").deliveryStatusForMessage(q,f,k,j,i,l);m.push(h.jsx(d("MWPMessageAuthor.bs").make,{contactId:q.senderId,threadKey:q.threadKey,children:c("bs_curry")._1(g,{message:q,nextMessage:p,prevMessage:o,status:r})},q.messageId))}if(m.length===0)return null;else return h.jsx(d("BaseHeadingContextWrapper.re").make,{children:h.jsx("div",{className:"x1ja2u2z",children:h.jsx(d("MWPOneToOneThreadBlockedContext.bs").make,{participants:f,thread:a,children:c("bs_curry")._1(b,m.reverse())})})})}b=a;e=b;g.make=e}),98);
__d("MAWMessageList.bs",["BaseTheme.react","CometPagelet.react","CometScreenReaderText.react","LSMessagingThreadTypeUtil.bs","MWBaseTheme.bs","MWMessageRow.react","MWPAriaLabelForMessageListGrid.bs","MWPBaseMessageList_DEPRECATED.bs","MWPMessageListColumn.bs","MWPMessageListFocusTable.bs","MWPThreadCapabilitiesContext.bs","MWPTypingIndicators.bs","MWPVisibleMessageContext.bs","MWV2MessageActionsVisibility.bs","MWV2MessageRowSimple.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:4242","react","useCometUniqueID","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={messageBubble:{backgroundColor:"x1vtvx1t",$$css:!0}};function j(a,b){return new Map(d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts"))),function(a){var b=a[1];return[c("bs_int64").to_string(b.id),[a[0],b]]})},[b,JSON.stringify(a.threadKey)])))}var k=b("cr:4242")==null?void 0:c("bs_caml_option").some(b("cr:4242"));function l(a,b){h.useEffect(function(){if(a!==void 0&&a.scrollPositionRef.current==={_0:void 0,TAG:0}&&b.length>0){var c=a.scrollerRef.current;c==null||c.scrollToBottom()}},[b,a])}function m(a){var b=a.scrollerRefs,e=a.threadKey;a=a.theme;a=a!==void 0?a:d("MWBaseTheme.bs").empty;e=d("MWPTypingIndicators.bs").useTypingParticipants(e);var f=d("MWPTypingIndicators.bs").useAccessibilityText(e);l(b,e);if(e.length>0)return h.jsx(c("BaseTheme.react"),{config:a,children:h.jsx(d("MWV2MessageRowSimple.bs").make,{children:h.jsxs(d("MWPMessageListColumn.bs").Grow.make,{children:[h.jsx("div",{"aria-live":"polite",children:h.jsx(c("CometScreenReaderText.react"),{text:f})}),h.jsx(d("MWPTypingIndicators.bs").TypingIndicator.make,{typingParticipants:e,xstyle:i.messageBubble})]})})});else return null}e={make:m};function a(a){var e=a.messageElementRefs,f=a.messages,g=a.renderAttachment,i=a.scrollerRefs,l=a.thread;a=c("useReStore")();a=j(l,a);var n=d("LSMessagingThreadTypeUtil.bs").isSecure(l.threadType),o=d("MWPAriaLabelForMessageListGrid.bs").useHook(l),p=d("MWPVisibleMessageContext.bs").useHook(),q=p.visibleMessage,r=d("MWMessageRow.react").useTheme(),s=d("MWV2MessageActionsVisibility.bs").useStopHoveringRef();p=h.useState(function(){return""});var t=p[0],u=p[1],v=c("useCometUniqueID")(),w=h.useMemo(function(){return l.threadType},[c("bs_int64").to_string(l.threadType)]);return h.jsx(d("MWPBaseMessageList_DEPRECATED.bs").make,{messages:f,participants:a,renderRow:function(a){var b=a.message,f=n?c("bs_caml").i64_eq(l.threadKey,b.threadKey):!1,i;if(q==null)i=!1;else{var j=q.messageId;switch(q.source.TAG){case 1:case 2:i=j===b.messageId;break;default:i=!1}}j={domElementRef:c("bs_curry")._1(e.set,b.messageId),hasMessageEmphasisRing:i,isModal:t===b.messageId,isSecureMessage:f,message:b,nextMessage:a.nextMessage,prevMessage:a.prevMessage,stopHoveringRef:s,threadType:w};g!==void 0&&(j.renderAttachment=c("bs_caml_option").valFromOption(g));return h.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},j))},thread:l,children:function(a){a=h.jsxs(h.Fragment,{children:[a,h.jsx(m,{scrollerRefs:i,theme:r,threadKey:l.threadKey})]});return h.jsx("div",{"data-testid":void 0,id:v,children:h.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:h.jsx(d("MWPThreadCapabilitiesContext.bs").Provider.make,{thread:l,children:h.jsx(d("MWPMessageListFocusTable.bs").make,{ariaLabel:o,modal:t,setModal:u,children:b("cr:4242")==null?a:h.jsx(k.make,{children:a,id:v})})})})})}})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=l;e=e;f=f;g.$MWMessageListKeyboardCommandContext$OR$null$requireCond=b("cr:4242");g.useScrollToBottomIfTheScrollPositionIsBottom=a;g.MAWTypingIndicators=e;g.make=f}),98);
__d("MAWSecureThreadDetail.bs",["CometPagelet.react","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","MAWArmadilloLinkContext.react","MAWFetchMoreMessages.bs","MAWJids","MAWJob.bs","MAWMarkThreadAsRead.bs","MAWMessageList.bs","MAWSecureAttachmentRenderer.bs","MWChatLoadMoreItemsIncrementally.bs","MWInboxThreadMessagesSpinner.react","MWPMessageListColumn.bs","MWV2ContextBanner.bs","MWV2ConversationScrollerRefs.bs","MWV2CurrentVisibleMessage.bs","MWV2MessageScroller.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=c("useReStore")(),e=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),function(b){return!c("bs_int64").equal(b.contactId,a.threadKey)}),function(a){return d("MAWJids").toUserJid(c("bs_int64").to_string(a.contactId))})},[b,c("bs_int64").to_string(a.threadKey)])),f=h.useRef(new Set()),g=f.current.size!==e.length||!e.every(function(a){return f.current.has(a)});if(!g)return;g=new Set(e);f.current=g;return d("MAWJob.bs").getDevices.fireAndForget(g,"details-participants-changed",void 0,{priority:"LOW"})}function j(a,b){var d=c("bs_int64").compare(a.primarySortKey,b.primarySortKey);if(d!==0)return d;d=a.secondarySortKey;var e=b.secondarySortKey;if(d===void 0)if(e!==void 0)return-1;else return c("bs_int64").compare(a.timestampMs,b.timestampMs);if(e===void 0)return 1;d=c("bs_int64").compare(d,e);if(d!==0)return d;else return c("bs_int64").compare(a.timestampMs,b.timestampMs)}function k(a,b){var e=c("useReStore")();return d("ReQLSubscription.bs").useArray(h.useMemo(function(){var f=d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(e.table("messages").index("messageDisplayOrder")),{hd:b.threadKey,tl:0});if(a!==void 0)return d("ReQL.bs").bounds(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(e.table("messages").index("messageDisplayOrder")),{hd:b.threadKey,tl:0}),{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a.minTimestampMs,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:a.maxTimestampMs,tl:0}}]});else if(c("bs_caml").i64_lt(b.authorityLevel,d("LSAuthorityLevel.bs").authoritative)||d("LSMessagingThreadTypeUtil.bs").isSecure(b.threadType))return f;else return d("SortedAsyncIterable.bs").empty()},[e,JSON.stringify(b.threadKey),JSON.stringify(b.authorityLevel),JSON.stringify(b.threadType),JSON.stringify(a)]))}function l(a,b){var c=k(a,b);return h.useMemo(function(){return c.sort(j)},[c])}function a(a){var b=a.thread,e=d("MAWFetchMoreMessages.bs").useFetchSecureMessages();a=d("MWV2ConversationScrollerRefs.bs").useHook();var f=d("MWV2CurrentVisibleMessage.bs").useHook(b,a.scrollerRef),g=c("useReStore")(),j=h.useCallback(function(a){c("promiseDone")(g.runInTransaction(function(c){return e(c,b.threadKey,a)},"readwrite"))},[g,JSON.stringify(b.threadKey)]),k=f.messageRange,m=f.messageRange;k=d("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(k!==void 0?k.hasMoreAfter:!1,void 0,void 0,l(f.messageRange,b),j,m!==void 0?m.hasMoreBefore:!1);j=k[2];m=k[0];i(b);var n=f.messageRange;n=n!==void 0?n.hasMoreAfter:!1;return h.jsx(d("MAWArmadilloLinkContext.react").MAWArmadilloLinkProvider,{children:h.jsxs(d("MWV2MessageScroller.bs").make,{fetchMore:k[1],hasMoreAfter:n,hasMoreBefore:j,lastMessageToCalculateIfThreadIsRead:m.length!==0?m[m.length-1]:void 0,markThreadAsRead:d("MAWMarkThreadAsRead.bs").useHook(b),scrollerRefs:a,thread:b,children:[h.jsxs(d("MWPMessageListColumn.bs").Shrinkwrap,{children:[h.jsx(d("MWPMessageListColumn.bs").VerticalRhythm,{height:20}),j?h.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):h.jsx(d("MWV2ContextBanner.bs").make,{thread:b}),h.jsx(d("MWPMessageListColumn.bs").VerticalRhythm,{height:10})]}),h.jsx(d("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MAWMessageList",children:h.jsx(d("MAWMessageList.bs").make,{messageElementRefs:f.messageElementRefs.current,messages:m,renderAttachment:d("MAWSecureAttachmentRenderer.bs").render,scrollerRefs:a,thread:b})}),n?h.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):null]})})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=i;f=j;a=k;var m=l;b=b;g.useGetDevices=e;g.messageSortOrder=f;g.useMessagesUnsorted=a;g.useMessages=m;g.renderAttachment=d("MAWSecureAttachmentRenderer.bs").render;g.make=b}),98);
__d("MAWSecureThreadDetailWrapper.bs",["LS.bs","LSAuthorityLevel.bs","LSInitiateThreadMigration","MAWSecureThreadDetail.bs","MAWThreadCutover.bs","MAWThreadId.bs","Promise","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","WAHex","bs_belt_Option","bs_caml_int64","bs_curry","bs_int64","cr:4056","cr:4057","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.thread,f=c("useReStore")(),g=h.useCallback(function(a,b){return f.runInTransaction(function(e){return c("LSInitiateThreadMigration")(a,b,!1,d("WAHex").randomHex(8),d("LS.bs").make(e))},"readwrite")},[f]),i=d("MAWThreadCutover.bs").useGetCutoverMapping(e.threadKey),j=c("bs_belt_Option").mapWithDefault(i,void 0,function(a){return a.openThreadId}),k=c("bs_belt_Option").mapWithDefault(i,void 0,function(a){return a.armadilloThreadId});a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(j!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("threads")),{hd:j,tl:0});else return d("SortedAsyncIterable.bs").empty()},[f,JSON.stringify(j)]));var l=h.useState(function(){return!1}),m=l[0],n=l[1];h.useEffect(function(){i!==void 0&&c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(f,e.threadKey).then(function(a){if(a.TAG===0&&!(b("cr:4056")==null))return c("bs_curry")._1(c("bs_curry")._1(b("cr:4056").checkIfShowOpenMessageHistory,{chatId:a._0,timestampMs:c("bs_caml_int64").to_float(i.timestampMs)}).sendAndReceive).then(function(a){c("bs_curry")._1(n,function(b){return a});return b("Promise").resolve()});else return b("Promise").resolve()}));if(j!==void 0&&k!==void 0&&m){c("promiseDone")(g(j,k));return}},[JSON.stringify(e.threadKey),JSON.stringify(j),JSON.stringify(k),i,m]);if(!(b("cr:4057")==null)&&a!==void 0&&i!==void 0&&m)if(c("bs_int64").equal(a.authorityLevel,d("LSAuthorityLevel.bs").authoritative))return h.jsx(b("cr:4057").make,{cutoverMapping:i,cutoverOpenThread:a,thread:e});else return h.jsx(d("MAWSecureThreadDetail.bs").make,{thread:e});return h.jsx(d("MAWSecureThreadDetail.bs").make,{thread:e})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=e;g.$MAWBackendBridge$requireCondXplat=b("cr:4056");g.$MAWCutoverSecureThreadDetail$requireCondXplat=b("cr:4057");g.mawBackendBridge=b("cr:4056");g.mawCutoverSecureThreadDetail=b("cr:4057");g.make=f}),98);
__d("MAWEphemeralAdminMsgCta.bs",["CometPressable.react","CometTextWithEntities.react","MAWEphemeralSettingsLazyDialogTrigger.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.threadKey,e=a.title;a=function(a,b){return h.jsx(c("CometPressable.react"),{onPress:function(b){return c("bs_curry")._1(a)},children:h.jsx(c("CometTextWithEntities.react"),{text:e})})};return h.jsx(d("MAWEphemeralSettingsLazyDialogTrigger.bs").make,{renderer:a,threadKey:b})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);/*FB_PKG_DELIM*/
__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),c.i64.of_float(Date.now())).then(function(a){return a=a,d[0]=a[0],a})},function(a){return d[1]=[64,1083495711],d[2]=[0,0],d[3]=[0,0],c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.fe(c.ftr(c.db.table(9).fetch([[[d[0]]]]),function(a){return c.i64.eq(a.threadKey,d[0])&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[0],mailboxType:[0,0],threadType:[0,2],clientThreadKey:d[0],folderName:"inbox",parentThreadKey:[0,0],lastActivityTimestampMs:[0,0],lastReadWatermarkTimestampMs:[0,0],snippetHasEmoji:!1,snippetSenderContactId:d[4],ongoingCallState:[0,0],authorityLevel:[0,20],capabilities:d[1],capabilities2:d[2],capabilities3:d[3],nullstateDescriptionText1:a[1],threadName:a[2]})},function(e){return d[5]=c.i64.of_int32(a[0].length),c.i64.gt(d[5],[0,0])?c.loopAsync(d[5],function(e){return d[6]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[0],d[6]).then(function(a){return a=a,d[7]=a[0],d[8]=a[1],a})},function(a){return c.fe(c.ftr(c.db.table(14).fetch([[[d[0],d[7]]]]),function(a){return c.i64.eq(a.threadKey,d[0])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(a.contactId,d[7])&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[0],contactId:d[7],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:[0,20],isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalCreateOptimisticGroupThread",["LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],f).then(function(a){return a=a,d[0]=a[0],a})},function(e){return a[2]===!0?(d[1]=new c.Map(),d[1].set("participants",a[0]),d[1].set("client_thread_key",d[0]),d[1].set("sync_group",[0,1]),d[2]=d[1].get("client_thread_key"),d[1],d[3]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[2]),[0,153],d[3],f,f,[0,0],[0,0],f,f,[0,0])):c.resolve()},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWSwitch.react",["cr:1925","cr:1926","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c=a.icon,d=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","size"]);if(b("cr:1925"))return h.jsx(b("cr:1925"),babelHelpers["extends"]({},a,{icon:c,size:d}));return b("cr:1926")?h.jsx(b("cr:1926"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.dataSource;a=k(!1);var c=a[0],d=a[1],e=j(null);a=h(function(a){var c,f=a.onResolvePayload;a=a.requestParams;(c=e.current)==null?void 0:c.unsubscribe();e.current=b.fetchNetwork(a).subscribe({complete:function(){d(!1)},error:function(a){d(!1)},next:function(a){return f(a)},start:function(a){d(!0)},unsubscribe:function(){d(!1)}})},[b]);i(function(){return function(){var a;(a=e.current)==null?void 0:a.unsubscribe()}},[]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;g=g===void 0?void 0:g;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload;f=c("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var m=f[1],n=c("useDebouncedComet")(m),o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g),q=h(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},[o]);i(function(){function a(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(k)?n(b):m(b)}d!=null&&a(d)},[m,n,d,q,k]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(null),d=b[0],e=b[1];b=c("useBaseTokenizerSubscriptionDataSourceFetchResolver")(a,d);a=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]);b=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]);return[{isLoading:a,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,b]}g["default"]=a}),98);
__d("CometInternalTokenizerSubscriptionProvider",["CometInternalTokenizerFetchContext","CometInternalTypeaheadEmptyFetchProvider","react","useBaseTokenizerSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams;a.loggingContext;var f=a.onFetchEntries_DO_NOT_USE,g=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;a=c("useBaseTokenizerSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;k((c=a)!=null?c:[]);f&&f(a);g&&!g.isResolved()&&(d&&(b==="cache"&&a.length>=g.getEntriesCountForVisualComplete()?g.setEndReason("max_suggestions_reached"):b==="network"?g.setEndReason("all_queries_completed"):b==="network-no-results"&&g.setEndReason("all_queries_completed_no_network_results"),g.resolve()))},[k,f,g])});d=a[0];var l=d.isLoading,m=d.source,n=a[1],o=a[2];e=j(function(){return{fetch:n,isLoading:l,refetch:o,source:m}},[n,l,o,m]);return h.jsx(c("CometInternalTokenizerFetchContext").Provider,{value:e,children:h.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:l,source:m,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTokenizer.react",["CometInternalTokenizerSubscriptionProvider","CometInternalTypeaheadStateProvider","CometTokenizerInternal.react","emptyFunction","react","useCometUniqueID","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var d=a.autoFocus;d=d===void 0?!1:d;var e=a.dataSource,f=a.dataSourceFetchConfigParams,g=a.decorators,j=g===void 0?[]:g;g=a.inputRef;var k=a.emptyEntries_DO_NOT_USE,l=a.id,m=a.isDisabled;m=m===void 0?!1:m;var n=a.label;n=n===void 0?"":n;var o=a.loggingContext,p=a.onAddToken;p=p===void 0?c("emptyFunction"):p;var q=a.onBlur;q=q===void 0?c("emptyFunction"):q;var r=a.onChangeTokens,s=a.onClose;s=s===void 0?c("emptyFunction"):s;var t=a.onEscape;t=t===void 0?c("emptyFunction"):t;var u=a.onFocus;u=u===void 0?c("emptyFunction"):u;var v=a.onOpen;v=v===void 0?c("emptyFunction"):v;var w=a.onRemoveToken;w=w===void 0?c("emptyFunction"):w;var x=a.onSearchCompletion;x=x===void 0?c("emptyFunction"):x;var y=a.placeholder;y=y===void 0?"":y;var z=a.testid;z=z===void 0?"":z;z=a.tokensStrategyRenderer;var A=a.tokens,B=a.viewRole;B=B===void 0?"listbox":B;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","dataSource","dataSourceFetchConfigParams","decorators","inputRef","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]);var C=c("useCometUniqueID")(),D=c("useStable")(function(){var a=c("CometTokenizerInternal.react");j.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});n=n||y;return h.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:b,emptyEntries_DO_NOT_USE:k,onClose:s,onOpen:v,children:h.jsx(c("CometInternalTokenizerSubscriptionProvider"),{dataSource:e,dataSourceFetchConfigParams:f,loggingContext:o,children:h.jsx(D,babelHelpers["extends"]({},a,{autoFocus:d,commandConfigs:i,id:(b=l)!=null?b:C,inputRef:g,isDisabled:m,label:n,onBackspace:c("emptyFunction"),onBlur:q,onChangeEntries:r,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:t,onFocus:u,onHighlightEntry:c("emptyFunction"),onPressEntry:p,onRemoveEntry:w,onSearchCompletion:x,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:y,selectedEntries:A,testid:void 0,tokensStrategyRenderer:z,viewRole:B}))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchInputStrategy.react",["fbt","CometScreenReaderText.react","CometTokenizerInputStrategy.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={inputXStyle:{paddingBottom:"x1a8lsjc",$$css:!0}};function a(a,b){var d=j(function(){return{xstyle:k.inputXStyle}},[]),e=c("useCometUniqueID")();return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{ariaProps:babelHelpers["extends"]({},a.ariaProps,{"aria-describedby":e}),inputExtraProps:d,ref:b})),i.jsx(c("CometScreenReaderText.react"),{"aria-hidden":!0,id:e,text:h._("__JHASH__NSDogHXzKMm__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MWChatSearchTokenizerLightspeedSubscriptionDataSource",["MWChatSearchIssueLightspeedQuery.bs","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes.bs","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadEnumerate","relay-runtime/network/RelayObservable"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes.bs").allSupportedTypes:f;var g=a.source;g=g===void 0?d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.universal:g;var h=a.includeRecommendations;h=h===void 0?!0:h;a=a.dedupeWithOtherUserId;a=a===void 0?!1:a;this.$2=[];this.$3=!1;this.$1=new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:b,excludedIDs:e,includeGroupSearch:!1,includeRecommendations:h,lightspeedSupportedTypes:f,source:g});this.$2=e;this.$3=a}var b=a.prototype;b.fetchNetwork=function(a){var b=this,d=a.selectedTokens;a=babelHelpers.objectWithoutPropertiesLoose(a,["selectedTokens"]);var e=this.$1.fetchNetwork(a);return c("relay-runtime/network/RelayObservable").create(function(a){e.subscribe({complete:a.complete,error:a.error,next:function(e){var f=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(d,b.$3);f=c("mwChatSearchPayloadEnumerate")(f(e));return a.next(babelHelpers["extends"]({},f,{selectedTokens:d}))}})})};b.setExcludedIds=function(a){this.$1.setExcludedIds(a)};return a}();g["default"]=a}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.ariaProps,d=a.entries,e=a.extraViewProps,f=a.highlightedEntry,g=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]),k=e==null?void 0:e.getIsViewItemDisabled,l=(a=e==null?void 0:e.hasReachedGroupLimit)!=null?a:!1,m=(a=e==null?void 0:e.hasReachedGxacGroupLimit)!=null?a:!1,n=i(function(a){return l||(k?k(a):!1)||m&&a.rawData.isInstagramAccount},[k,l,m]);return h.jsxs(h.Fragment,{children:[g&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:b,entries:d,highlightedEntry:f,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:b,isActive:d,isDisabled:n(b),key:b.key,role:a}))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MAWGating","MWChatSearchInputStrategy.react","MWChatSearchIssueLightspeedQuery.bs","MWChatSearchTokenizerLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","MWLSSearchIssueSearchQuerySupportedTypes.bs","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useReStore","withBaseTokenizerEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState;function a(a){var b=a.excludedIDs,e=a.extraLayoutProps,f=a.getIsViewItemDisabled,g=a.includeRecommendations,m=g===void 0?!0:g;g=a.isDisabled;var n=a.layoutStategyRenderer,o=a.onAddToken,p=a.onChangeTokens,q=a.onSearchAbandon,r=a.onSearchCompletion,s=a.supportedSearchTypes,t=s===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes.bs").allSupportedTypes:s;s=a.tokenItemRenderer;var u=a.tokens,v=a.xstyles;a=a.isSecure;var w=l(""),x=w[0];w=w[1];var y=c("useReStore")(),z=a?d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.omnipickerArmadillo:d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.universal,A=j(function(){return new(c("MWChatSearchTokenizerLightspeedSubscriptionDataSource"))({database:y,dedupeWithOtherUserId:!0,excludedIDs:b,includeRecommendations:m,lightspeedSupportedTypes:t,source:z})},[y,b,m,t,z]);a=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withBaseTokenizerEscapeDecorator"),params:{onSearchAbandon:q}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:A}}});q=k(null);var B=q.current;i(function(){B&&B.focus()},[B,u]);i(function(){A.setExcludedIds(b||[])},[A,b]);s=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:s});var C=j(function(){return{getIsViewItemDisabled:f}},[f]);return h.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:A,dataSourceFetchConfigParams:d("MAWGating").isArmadillo()?{requestFlow:"network-upon-approve"}:{},decorators:a,extraLayoutProps:e,extraViewProps:C,inputRef:q,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:g,layoutStrategyRenderer:n,loggingContext:"messenger_chat",onAddToken:o,onChange:w,onChangeTokens:p,onSearchCompletion:r,queryString:x,testid:void 0,tokens:u,tokensStrategyRenderer:s,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:v})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.bs",["MWChatLightSpeedSearchTypeahead.react"],(function(a,b,c,d,e,f,g){"use strict";g.make=c("MWChatLightSpeedSearchTypeahead.react")}),98);
__d("FDSInboxNavigationHeaderWithBackButton.bs",["CometTopNavListDropdown.react","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.endContent,d=a.onReturn;a=a.title;b=b!==void 0?[c("bs_caml_option").valFromOption(b)]:[];b={actions:b,title:a};d!==void 0&&(b.onReturn=c("bs_caml_option").valFromOption(d));return h.jsx(c("CometTopNavListDropdown.react").Title,babelHelpers["extends"]({},b))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWInboxNavigationHeaderWithBackButton.bs",["cr:2207"],(function(a,b,c,d,e,f,g){"use strict";g.make=b("cr:2207").make}),98);
__d("MWInboxSelectedThread.bs",["MWInboxProvider.bs","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useContext;function a(a){a=h(d("MWInboxProvider.bs").MWInboxProviderContext);if((a==null?void 0:a.TAG)!==10)return;a=a._0;if(a===void 0)return;switch(a.TAG){case 3:case 4:return a._0;default:return}}g.useHook=a}),98);
__d("LSContactReachabilityStatusType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.reachable=a;f.unreachableUserType=c;f.unreachableAdultType=d}),null);
__d("MWLSParticipantDetails.bs",["GenderConst","LSContactGender.bs","LSContactReachabilityStatusType.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_format","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(a),tl:0}),function(a){return a.name})},[a,b]))}function b(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(a),tl:0}),function(a){return c("bs_belt_Option").getWithDefault(a.firstName,a.name)})},[a,b]))}function e(a){var b=c("useReStore")();return c("bs_belt_Option").getWithDefault(d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(a),tl:0}),function(a){return a.secondaryName})},[a,b])))}function f(a){var b=c("useReStore")();return c("bs_belt_Option").getWithDefault(d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(a),tl:0}),function(a){var b=a.gender,e=a.firstName;e=e!==void 0?e:a.name;a=c("bs_caml").i64_eq(b,d("LSContactGender.bs").female)?c("GenderConst").FEMALE_SINGULAR:c("bs_caml").i64_eq(b,d("LSContactGender.bs").male)?c("GenderConst").MALE_SINGULAR:c("bs_caml").i64_eq(b,d("LSContactGender.bs").neuter)?c("GenderConst").NEUTER_SINGULAR:c("GenderConst").NOT_A_PERSON;return[e,a]})},[a,b])))}function i(a){var b=c("useReStore")();return c("bs_belt_Option").getWithDefault(d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(a),tl:0}),function(a){a=a.contactReachabilityStatusType;if(a!==void 0)return c("bs_caml").i64_eq(d("LSContactReachabilityStatusType.bs").reachable,a);else return!0})},[a,b])),!0)}g.useParticipantName=a;g.useParticipantShortName=b;g.useParticipantSecondaryName=e;g.useNameAndGender=f;g.useParticipantReachabilityStatus=i}),98);
__d("MWSearchTypeaheadViewItemDisabledHook.bs",["MWInteropTokenUtils.bs","bs_curry","cr:1573","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("cr:1573")==null?function(a,b){return[!1,!1]}:b("cr:1573").useHookForNewThread;function a(a,b){var e=h.useMemo(function(){return[a.some(d("MWInteropTokenUtils.bs").isInterop),a.some(function(a){return!d("MWInteropTokenUtils.bs").isGxacEligible(a)})]},[a]),f=e[0],g=e[1];e=c("bs_curry")._2(i,a,b);var j=e[0],k=e[1];return h.useCallback(function(a){var c=d("MWInteropTokenUtils.bs").isInterop(a),e=!d("MWInteropTokenUtils.bs").isGxacEligible(a);a=!d("MWInteropTokenUtils.bs").isInteropEligible(a);if(j||c&&k||c&&b||g&&c||f&&e)return!0;else if(c)return a;else return!1},[f,g,b,j,k])}g.$MWUseHasGroupLimitBeenReached$requireCond=b("cr:1573");g.useIsDisabled=a}),98);
__d("MWThreadListNewMessageHook.bs",["MWInteropTokenUtils.bs","MWThreadListNewMessageState.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("MWThreadListNewMessageState.bs").useDispatch();h.useEffect(function(){c("bs_curry")._1(b,{_0:!0,TAG:2});return function(a){return c("bs_curry")._1(b,{_0:void 0,TAG:1})}},[b]);h.useEffect(function(){c("bs_curry")._1(b,{_0:a.filter(function(a){return!d("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a)}),TAG:3})},[b,a])}g.useHook=a}),98);
__d("MWV2NewThreadUtils.bs",["LSContactBlockedByViewerStatus.bs","LSDatabaseType.bs","LSSearchType.bs","MAWGating","MWInteropTokenUtils.bs","MWLSDatabaseLazySync.bs","MWPActor.bs","MessagingThreadType.bs","MessengerWebEventsFalcoEvent.bs","bs_belt_Option","bs_caml_format","bs_curry","bs_int64","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){if(a==="group")return d("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:"search_click_result",thread_fbid:b}});else if(a==="messages"||a==="message"){c("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return d("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:"search_click_result",other_user_fbid:b}})}function a(a){var b=d("MWLSDatabaseLazySync.bs").useSync(d("LSDatabaseType.bs").ranking);h.useEffect(function(){c("bs_curry")._1(b)},[b])}var j=[];function b(a,b){var e=h.useState(function(){return a}),f=e[0],g=e[1],i=d("MWPActor.bs").useActor();e=h.useMemo(function(){return[c("bs_int64").to_string(i)]},[i]);var k=h.useCallback(function(a){return c("bs_curry")._1(g,function(b){return a.filter(function(a){if(a.rawData.id!==c("bs_int64").to_string(i)||d("MAWGating").isChatWithYourselfEnabled())return!d("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a);else return!1})})},[g,i]);return[f,k,!d("MAWGating").isChatWithYourselfEnabled()&&(b||f.length>0)?e:j]}function e(a,b){return h.useMemo(function(){return a.filter(function(a){return!d("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a)}).map(function(a){a=a.rawData;var e=a.resultType,f=a.isInstagramAccount===!0,g=a.isContact,h=a.otherUserId;h=h!==void 0?h:a.id;var i;if(f)i=g?d("LSSearchType.bs").igContactFollowing:d("LSSearchType.bs").igNoncontactFollowing;else{f=0;g?e==="user"?i=d("LSSearchType.bs").contact:f=1:e==="user"?i=d("LSSearchType.bs").noncontact:f=1;f===1&&(e==="page"?i=d("LSSearchType.bs").page:e==="group"?i=d("LSSearchType.bs").group:(c("recoverableViolation")("Had troubles converting search result to token.\n              Is Contact: "+(g?"true":"false")+"\n              Token Type: "+e,"messenger_web_product"),i=d("LSSearchType.bs").noncontact))}f=a.verificationStatus;return{blockedByViewerStatus:d("LSContactBlockedByViewerStatus.bs").unblocked,contextLine:a.subtext,displayName:a.displayName,id:c("bs_caml_format").caml_int64_of_string(h),isInteropEligible:a.isInteropEligible,isVerified:f!==void 0?f==="NOT_VERIFIED"?!1:!0:void 0,profilePicUrl:a.imageUrl,secondaryProfilePicUrl:a.secondaryImageUrl,threadType:e==="user"?b?d("MessagingThreadType.bs").secureMessageOverWaOneToOne:d("MessagingThreadType.bs").oneToOne:e==="group"?d("MessagingThreadType.bs").group:d("MessagingThreadType.bs").oneToOne,type_:i}})},[a,b])}function f(a,b,e,f){var g=d("MWPActor.bs").useActor();return h.useCallback(function(h){var j=h.rawData,k=j.id,l=j.resultType,m=function(a){c("bs_curry")._1(b,function(a){return!0});return c("bs_curry")._1(e,{clientThreadKey:void 0,threadKey:c("bs_caml_format").caml_int64_of_string(k),threadType:a})};c("bs_belt_Option").getWithDefault(j.isInstagramAccount,!1)&&c("bs_curry")._1(f,function(a){return!1});a||i(l,k);j=d("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(h);if(l==="user")if(!d("MAWGating").isChatWithYourselfEnabled()&&c("bs_int64").to_string(g)===k||j)return m(d("MessagingThreadType.bs").oneToOne);else return;else if(l==="group")return m(d("MessagingThreadType.bs").group);else if(l==="messages"||l==="message"){c("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return m(a?d("MessagingThreadType.bs").secureMessageOverWaOneToOne:d("MessagingThreadType.bs").oneToOne)},[a,b,e,f,g])}g.logTokenClick=i;g.useSyncRanking=a;g.noExcludedTokens=j;g.useTokens=b;g.useTokensShimmed=e;g.useOnAddToken=f}),98);
__d("MWPThreadPreview.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSDatabaseType.bs","LSLocalCreateOptimisticGroupThread","LSMessagingThreadTypeUtil.bs","LSVec","LSVerifyContactRowExists","LSVerifyThreadRowExists","MAWGating","MWPActor.bs","MWPThreadTheme.bs","MWThreadKey.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:4212","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var e=c("useReStore")();h.useEffect(function(){e.runInTransaction(function(e){return b("Promise").all(a.map(function(a){return c("LSVerifyContactRowExists")(a.id,d("LSContactIdType.bs").fbid,void 0,void 0,d("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,d("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,d("LSAuthorityLevel.bs").clientPartial,void 0,void 0,d("LSContactWorkForeignEntityType.bs").unknown,d("LSContactGender.bs").unknown,d("LSContactViewerRelationship.bs").unknown,void 0,d("LS.bs").make(e))}))},"readwrite")},[e,JSON.stringify(a.map(function(a){return c("bs_int64").to_string(a.id)}))])}function j(a){var b=a.children,e=a.renderThreadPreview,f=a.renderThreadView;a=a.thread;if(e!==void 0)return c("bs_curry")._2(e,a,b);else return h.jsx(d("MWThreadKey.bs").make,{id:a.threadKey,children:h.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6prxxf x2lwn1j",children:[h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x2lwn1j",children:h.jsx(d("MWPThreadTheme.bs").make,{themeFbid:a.themeFbid,children:c("bs_curry")._1(f,a)})}),h.jsx("div",{className:"x2lah0s x879a55",children:b})]})})}e={make:j};function k(a){var b=a.children,e=a.recipientToken,f=a.renderThreadPreview,g=a.renderThreadView,k=a.setPreviewThread,l=c("useReStore")(),m=e.threadType,n=e.id;i([e]);h.useEffect(function(){c("promiseDone")(l.runInTransaction(function(a){return c("LSVerifyThreadRowExists")(n,m,d("LSDatabaseType.bs").mailbox,d("LS.bs").make(a))},"readwrite"))},[l,c("bs_int64").to_string(n),JSON.stringify(m)]);var o=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(l.table("threads")),{hd:n,tl:0})},[l,n]));h.useEffect(function(){c("bs_curry")._1(k,function(a){return o})},[k,o]);if(o!==void 0)return h.jsx(j,{renderThreadPreview:f,renderThreadView:g,thread:o,children:b});else return null}var l={make:k};function m(a,b,e,f){var g=c("useReStore")(),i=c("bs_int64").to_string(d("MWPActor.bs").useActor()),j=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(g.table("participants")),function(a){return b.has(c("bs_int64").to_string(a.contactId))}),function(a){return c("bs_int64").to_string(a.threadKey)})},[g,b]));return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var e=new Set(j);return d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(g.table("threads")),function(a){return c("bs_caml").i64_eq(a.threadType,f)}),function(a){return a.threadName===void 0}),function(a){a=a.clientThreadKey;if(a!==void 0)return e.has(c("bs_int64").to_string(a));else return!1}),function(e){e=e.clientThreadKey;if(e===void 0)return!1;e=d("ReQLSuspense").toArray(d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexDescending(g.table("participants").index("threadKeyReadWatermarkTimestampMs")),{hd:e,tl:0}),function(a){return c("bs_int64").to_string(a.contactId)}),function(a){return a!==i}));if(d("MAWGating").isChatWithYourselfEnabled()&&a.length===1&&e.length===0)return!0;else if(e.every(function(a){return b.has(a)}))return e.length===b.size;else return!1})},[j,g,JSON.stringify(f),a,i,b]))}function n(a,e,f,g){var i=c("useReStore")();h.useEffect(function(){a===void 0&&c("promiseDone")(i.runInTransaction(function(a){if(c("bs_caml").i64_eq(e,d("MessagingThreadType.bs").group))return c("LSLocalCreateOptimisticGroupThread")(c("LSVec").make(f.map(function(a){return a.id})),void 0,g,d("LS.bs").make(a)).then(function(a){});else if(d("LSMessagingThreadTypeUtil.bs").isSecure(e))if(b("cr:4212")==null)return b("Promise").resolve();else return c("bs_curry")._3(b("cr:4212").call,a,f,e).then(function(a){});else{c("recoverableViolation")("Don't know how to create optimistic thread for thread of thread type"+c("bs_belt_Option").getWithDefault(JSON.stringify(e),""),"messenger_web_product");return b("Promise").resolve()}},"readwrite"))},[g,i,JSON.stringify(a),JSON.stringify(e),f])}function o(a){var b=a.checkExistingThreads,d=a.children,e=a.renderThreadPreview,f=a.renderThreadView,g=a.setPreviewThread,k=a.threadType,l=a.tokenContactIdsMaybeExcludingActor,o=a.tokens;a=a.tokensMaybeExcludingActor;var p=m(a,l,g,k);i(a);n(p,k,o,b);h.useEffect(function(){c("bs_curry")._1(g,function(a){return p})});if(p!==void 0)return h.jsx(j,{renderThreadPreview:e,renderThreadView:f,thread:p,children:d});else return null}var p={make:o,useCreateOptimisticThreadForTokens:n,useFindMatchingOptimisticThreadWithParticipants:m};function q(a,b,e,f,g){var i=c("useReStore")(),j=c("bs_int64").to_string(d("MWPActor.bs").useActor()),k=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(i.table("participants")),function(a){return b.has(c("bs_int64").to_string(a.contactId))}),function(a){return c("bs_int64").to_string(a.threadKey)})},[i,b]));return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=new Set(k);return d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(i.table("threads")),function(a){return c("bs_caml").i64_eq(a.threadType,f)}),function(a){return a.threadName===void 0}),function(a){if(g)return!0;else return c("bs_caml").i64_eq(a.authorityLevel,d("LSAuthorityLevel.bs").optimistic)}),function(b){return a.has(c("bs_int64").to_string(b.threadKey))}),function(a){a=d("ReQLSuspense").toArray(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexDescending(i.table("participants").index("threadKeyReadWatermarkTimestampMs")),{hd:a.threadKey,tl:0}),function(a){return c("bs_int64").to_string(a.contactId)}));var e=a.filter(function(a){return a!==j});if(d("MAWGating").isChatWithYourselfEnabled()&&e.length===0&&a.length===1)return!0;else if(a.length===e.length||e.length!==b.size)return!1;else return e.every(function(a){return b.has(a)})})},[k,i,JSON.stringify(f),g,a,b,j]))}function r(a){var b=a.checkExistingThreads,d=a.children,e=a.renderThreadPreview,f=a.renderThreadView,g=a.setPreviewThread,i=a.threadType,k=a.tokens,l=a.tokensMaybeExcludingActor;a=h.useMemo(function(){return new Set(l.map(function(a){return c("bs_int64").to_string(a.id)}))},[l]);var m=q(l,a,g,i,b);h.useEffect(function(){m!==void 0&&c("bs_curry")._1(g,function(a){return m})},[g,m]);if(m!==void 0)return h.jsx(j,{renderThreadPreview:e,renderThreadView:f,thread:m,children:d});else return h.jsx(o,{checkExistingThreads:b,renderThreadPreview:e,renderThreadView:f,setPreviewThread:g,threadType:i,tokenContactIdsMaybeExcludingActor:a,tokens:k,tokensMaybeExcludingActor:l,children:d})}var s={make:r,useFindExistingThreadWithTokens:q};function a(a){var b=a.nullstate,e=a.checkExistingThreads,f=a.areWeCreatingASecureThread,g=a.children,i=a.renderThreadPreview,j=a.renderThreadView,l=a.setPreviewThread,m=a.tokens;a=b!==void 0?c("bs_caml_option").valFromOption(b):null;b=e!==void 0?e:!0;var n=d("MWPActor.bs").useActor();e=h.useMemo(function(){return m.filter(function(a){return c("bs_caml").i64_neq(a.id,n)})},[m,n]);h.useEffect(function(){m.length===0&&c("bs_curry")._1(l,function(a){})},[l,m]);if(m.length===0)return a;var o=e.length;if(o!==1){if(o===0)if(f)return d("MAWGating").isChatWithYourselfEnabled()?h.jsx(r,{checkExistingThreads:b,renderThreadPreview:i,renderThreadView:j,setPreviewThread:l,threadType:d("MessagingThreadType.bs").secureMessageOverWaOneToOne,tokens:m,tokensMaybeExcludingActor:m,children:g}):a;else return h.jsx(k,{recipientToken:m[0],renderThreadPreview:i,renderThreadView:j,setPreviewThread:l,children:g})}else{o=e[0];if(b)if(f)return h.jsx(r,{checkExistingThreads:b,renderThreadPreview:i,renderThreadView:j,setPreviewThread:l,threadType:d("MessagingThreadType.bs").secureMessageOverWaOneToOne,tokens:m,tokensMaybeExcludingActor:e,children:g});else return h.jsx(k,{recipientToken:o,renderThreadPreview:i,renderThreadView:j,setPreviewThread:l,children:g})}return h.jsx(r,{checkExistingThreads:b,renderThreadPreview:i,renderThreadView:j,setPreviewThread:l,threadType:f?d("MessagingThreadType.bs").secureMessageOverWaGroup:d("MessagingThreadType.bs").group,tokens:m,tokensMaybeExcludingActor:e,children:g})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=e;e=l;l=p;p=s;s=f;g.$MAWCreateOptimisticSecureThread$requireCondXplat=b("cr:4212");g.mawCreateOptimisticSecureThread=b("cr:4212");g.ExistingThreadPreview=a;g.CanonicalThreadPreview=e;g.OptimisticThread=l;g.PossiblyOptimisticThread=p;g.make=s}),98);/*FB_PKG_DELIM*/
__d("MAWDbAppMeta",[],(function(a,b,c,d,e,f){"use strict";a={allowSecurityAlert:"allowSecurityAlert",allowSecurityAlertForSelf:"allowSecurityAlertForSelf",hmacKey:"hmacKey",hotlikeSticker:"hotlikeSticker",isBackfilledForOccamadillo:"isBackfilledForOccamadillo",msgTypeVersion:"msgTypeVersion"};f.AppMetaKeysEnum=a}),66);
__d("MAWDbMsgTypeVersionTxns",["MAWDbAppMeta","MAWDexieTable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.appMeta.get({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion}).then(function(a){return a==null?void 0:a.value.msgTypeVersion})}function b(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion,value:{msgTypeVersion:b}})}function c(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion,value:{msgTypeVersion:b}})}function e(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.hmacKey,value:{hmacKey:b}})}function f(a){return a.appMeta.get({key:d("MAWDbAppMeta").AppMetaKeysEnum.hmacKey}).then(function(a){return a==null?void 0:a.value.hmacKey})}function h(a,b){return a.appMeta.get({key:b})}function i(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert,value:{allowSecurityAlert:b}}).then(function(){})}function j(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlertForSelf,value:{allowSecurityAlertForSelf:b}}).then(function(){})}function k(a){return h(a,d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert).then(function(a){return(a=a==null?void 0:a.value.allowSecurityAlert)!=null?a:!1})}function l(a){return h(a,d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlertForSelf).then(function(a){return(a=a==null?void 0:a.value.allowSecurityAlertForSelf)!=null?a:!0})}function m(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.hotlikeSticker,value:{hotlikeSticker:b}})}function n(a){return d("MAWDexieTable").dexieAll([l(a),k(a)]).then(function(a){var b=a[0];a=a[1];return{allowSecurityAlertForContact:a,allowSecurityAlertForSelf:b}})}g.MSG_TYPE_VERSION=d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion;g.HMAC_KEY=d("MAWDbAppMeta").AppMetaKeysEnum.hmacKey;g.ALLOW_SECURITY_ALERT_FOR_CONTACT=d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert;g.ALLOW_SECURITY_ALERT_FOR_SELF=d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlertForSelf;g.HOT_LIKE=d("MAWDbAppMeta").AppMetaKeysEnum.hotlikeSticker;g.getMsgTypeVersion=a;g.addMsgTypeVersion=b;g.updateMsgTypeVersion=c;g.addHMACKey=e;g.getHMACKey=f;g.getAppMetaValue=h;g.updateSecurityAlertValueForContact=i;g.updateSecurityAlertValueForSelf=j;g.getSecuritySettingForContact=k;g.getSecuritySettingForSelf=l;g.addHotLike=m;g.maybeBulkGetSecuritySetting=n}),98);
__d("MAWHMACKey",["MAWCryptoConsts","MAWDbMsgTypeVersionTxns","MAWIndexedDb","MAWKeychainUtil","MAWSubtleCrypto","MAWTransactionMode","WABase64","tweetnacl-auth"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES);return i(a).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function a(a,b){a=new TextEncoder().encode(a);b=new Uint8Array(b);a=c("tweetnacl-auth")(a,b);return d("WABase64").encodeB64UrlSafe(a)}function b(){return h().then(function(a){return d("MAWIndexedDb").makeMsgrTransactor({appMeta:d("MAWTransactionMode").READWRITE})(function(b){return d("MAWDbMsgTypeVersionTxns").getHMACKey(b).then(function(c){if(c!=null)return c;d("MAWDbMsgTypeVersionTxns").addHMACKey(b,a);return a})})()})}function i(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{hash:"SHA-256",name:"HMAC"},!0,["sign"])}g.genHMACKey=h;g.hmacTweetNaCl=a;g.generateAndInsertHMACKey=b}),98);
__d("MAWAudioUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var d=URL.createObjectURL(a);return new(b("Promise"))(function(a,b){var e=new Audio();e.setAttribute("crossOrigin","anonymous");e.addEventListener("loadedmetadata",function(c){c=c.currentTarget;if(c instanceof HTMLAudioElement){c=c.duration;a(Math.ceil(c))}else b("EventTarget returned for event should be HTMLAudioElement")});e.src=d;e.onabort=function(){b(function(){throw c("err")("Error loading audio from provided URL")})};e.onerror=function(){b(function(){throw c("err")("Wrong blob type")})}})}g.getAudioDurationInSeconds=a}),98);
__d("WALongInt",["WAHex","WALogger"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string']);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"]);j=function(){return a};return a}function k(a){if(typeof a!=="number"){d("WALogger").LOG(j(),a).color("red");throw new Error("numberOrThrowIfTooLarge is given a non-safe integer")}return a}e=function(a){return a==null?a:k(a)};function a(a,b){if(typeof a==="number"&&typeof b==="number")return a>b;a=typeof a==="number"?d("WAHex").hexLongFromNumber(a):a;b=typeof b==="number"?d("WAHex").hexLongFromNumber(b):b;return d("WAHex").isBiggerHexLong(a,b)}function b(a){if(typeof a==="number")return a.toString(10);var b=d("WAHex").hexLongToHex(a),c=[0],e=0;for(var f=0;f<b.length;f++){e=d("WAHex").hexAt(b,f);for(var g=0;g<c.length;g++)c[g]=c[g]*16+e,e=c[g]/10|0,c[g]%=10;while(e>0)c.push(e%10),e=e/10|0}g=c.reverse().join("");return d("WAHex").hexLongIsNegative(a)?"-"+g:g}function c(a){if(!/^-?\d+$/.test(a)){d("WALogger").LOG(i(),a).color("red");throw new Error("decimalStringToLongInt is given an invalid decimal string")}var b=a[0]==="-",c=a.replace(/^-?0*/,""),e=c.length;if(e<16||e===16&&c<="9007199254740991")return b?-Number(c):Number(c);if(e>20||e===20&&c>"18446744073709551615"||b&&(e>19||e===19&&c>"9223372036854775807")){d("WALogger").LOG(h(),a).color("red");throw new Error("decimalStringToHexLong is given value over 64 bits")}a=0;var f=0;for(var g=0;g<e;g++)a=a*10+Number(c[g]),f=f*10+Math.floor(a/4294967296),a=a%4294967296;return d("WAHex").createHexLongFrom32Bits(f,a,b)}g.numberOrThrowIfTooLarge=k;g.maybeNumberOrThrowIfTooLarge=e;g.isBiggerLongInt=a;g.longIntToDecimalString=b;g.decimalStringToLongInt=c}),98);
__d("WAConcurrentIterate",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){function a(a,c,d){var e=[],f=[],g=0,h=function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(g<a)){e.next=8;break}d=g;g++;e.next=5;return b("regeneratorRuntime").awrap(c(d));case 5:f[d]=e.sent;e.next=0;break;case 8:case"end":return e.stop()}},null,this)};d=Math.min(a,d);for(var i=0;i<d;i++)e.push(h());return b("Promise").all(e).then(function(){return f})}f.concurrentIterate=a}),66);
__d("WAMediaCryptoSidecar",["WAConcurrentIterate","WACryptoHmac"],(function(a,b,c,d,e,f,g){function a(a){return a==="video"}function b(a){return a}var h=16,i=10,j=64*1024;function c(a,b,c){c===void 0&&(c=1);var e=b.buffer.byteLength;e=Math.ceil((e-h)/j);var f=new Uint8Array(i*e);return d("WAConcurrentIterate").concurrentIterate(e,function(c){var e=c*j,g=e+h+j;e=b.subarray(e,g);return d("WACryptoHmac").sign(a,e).then(function(a){a=new Uint8Array(a,0,i);f.set(a,c*i)})},c).then(function(){return f.buffer})}g.shouldHaveStreamingSidecar=a;g.castToStreamingSidecar=b;g.calculateStreamingSidecar=c}),98);
__d("WAMediaEntryData.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);a.internalSpec={fileSha256:[1,d("WAProtoConst").TYPES.BYTES],mediaKey:[2,d("WAProtoConst").TYPES.BYTES],fileEncSha256:[3,d("WAProtoConst").TYPES.BYTES],directPath:[4,d("WAProtoConst").TYPES.STRING],mediaKeyTimestamp:[5,d("WAProtoConst").TYPES.INT64],serverMediaType:[6,d("WAProtoConst").TYPES.STRING],uploadToken:[7,d("WAProtoConst").TYPES.BYTES],validatedTimestamp:[8,d("WAProtoConst").TYPES.BYTES],sidecar:[9,d("WAProtoConst").TYPES.BYTES],objectId:[10,d("WAProtoConst").TYPES.STRING],fbid:[11,d("WAProtoConst").TYPES.STRING],downloadableThumbnail:[12,d("WAProtoConst").TYPES.MESSAGE,b],handle:[13,d("WAProtoConst").TYPES.STRING]};b.internalSpec={fileSha256:[1,d("WAProtoConst").TYPES.BYTES],fileEncSha256:[2,d("WAProtoConst").TYPES.BYTES],directPath:[3,d("WAProtoConst").TYPES.STRING],mediaKey:[4,d("WAProtoConst").TYPES.BYTES],mediaKeyTimestamp:[5,d("WAProtoConst").TYPES.INT64]};g.MediaEntrySpec=a;g.MediaEntry$DownloadableThumbnailSpec=b}),98);
__d("WAServerMediaType",[],(function(a,b,c,d,e,f){b=["image","sticker","ptt","audio","document","video","gif","ppic","md-app-state","md-msg-hist","kyc-id","template","thumbnail-image","thumbnail-video","thumbnail-gif","thumbnail-document","thumbnail-link","payment-bg-image","novi-video","novi-image","product","product-catalog-image","xma-image","biz-cover-photo","preview"];function a(a){switch(a){case"image":case"sticker":case"ptt":case"audio":case"document":case"video":case"gif":case"ppic":case"md-app-state":case"md-msg-hist":case"kyc-id":case"thumbnail-image":case"thumbnail-video":case"thumbnail-gif":case"thumbnail-document":case"thumbnail-link":case"payment-bg-image":case"novi-video":case"novi-image":case"template":case"product":case"product-catalog-image":case"xma-image":case"biz-cover-photo":case"preview":return a;default:return null}}f.SERVER_MEDIA=b;f.castToServerMediaType=a}),66);
__d("WAMediaUtils",["Promise","WABase64","WAErr","WALongInt","WAMediaCryptoSidecar","WAMediaEntryData.pb","WAServerMediaType","WATimeUtils","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=new Uint8Array(32);self.crypto.getRandomValues(a);return a.buffer}function i(a){return a}function a(){return h()}function j(a){return a}function e(a){return d("WABase64").encodeB64UrlSafe(a)}function f(a){return a}function k(a){return a}function l(a){return a}function m(a){return a}function n(a,b){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,b);b=a.fileSha256;var c=a.mediaKey,e=a.fileEncSha256,f=a.directPath,g=a.mediaKeyTimestamp,h=a.sidecar,i=a.objectId,j=a.fbid,k=a.serverMediaType;a=a.downloadableThumbnail;return{fileSha256:b,mediaKey:c,fileEncSha256:e,directPath:f,mediaKeyTimestamp:g==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(g)),sidecar:h&&d("WAMediaCryptoSidecar").castToStreamingSidecar(h),objectId:i,fbid:j,downloadableThumbnail:a&&v(a),serverMediaType:k}}function o(a,b,c,e,f,g,h,i,j){a=d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,{fileSha256:a,fileEncSha256:b,mediaKey:c,directPath:e,mediaKeyTimestamp:f,serverMediaType:g,objectId:h,fbid:i,downloadableThumbnail:j});return a.readByteArray()}function p(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function q(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function r(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{directPath:b})).readByteArray()}function s(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{downloadableThumbnail:babelHelpers["extends"]({},a.downloadableThumbnail,{directPath:b})})).readByteArray()}function t(a,b){a=babelHelpers["extends"]({},a,{fbid:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function u(a,b){a=babelHelpers["extends"]({},a,{objectId:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function v(a){return a==null?null:{directPath:a.directPath,fileEncSha256:a.fileEncSha256,fileSha256:a.fileSha256,mediaKey:a.mediaKey&&i(a.mediaKey),mediaKeyTimestamp:a.mediaKeyTimestamp==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(a.mediaKeyTimestamp))}}function w(a){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a);var b=a.serverMediaType,c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken,g=a.downloadableThumbnail;a=babelHelpers.objectWithoutPropertiesLoose(a,["serverMediaType","mediaKey","mediaKeyTimestamp","uploadToken","downloadableThumbnail"]);return babelHelpers["extends"]({},a,{serverMediaType:b==null?null:d("WAServerMediaType").castToServerMediaType(b),mediaKey:c&&i(c),mediaKeyTimestamp:e==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e)),uploadToken:f&&j(f),downloadableThumbnail:g&&v(g)})}function x(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(b("Promise"))(function(b,d){var e=new FileReader();e.onload=function(){var a=e.result;a instanceof ArrayBuffer?b(a):d(c("WAErr")("blobToArrayBuffer got error becaues result is not ArrayBuffer"))};e.onerror=function(){var a;a=((a=e.error)==null?void 0:a.name)||"unknown";d(c("WAErr")("blobToArrayBuffer got error got error "+a))};e.readAsArrayBuffer(a)})}function y(a){var b="image/jpeg";switch(a){case"image":b="image/jpeg";break;case"ptt":b="audio/wav";break;case"video":b="video/mp4";break;case"gif":b="image/gif";break;case"sticker":b="image/webp";break;case"preview":b="image/jpeg";break;default:throw c("WAErr")("Unsupported server media type: "+a)}return b}g.createMediaKey=h;g.castToMediaKey=i;g.createUploadToken=a;g.castToUploadToken=j;g.toPlaintextHash=e;g.stringToPlaintextHash=f;g.toHashedPlaintextHash=k;g.stringToDeliveryObjectId=l;g.stringToBackupEntFbid=m;g.mediaEntryDataToRawData=n;g.rawDataToMediaEntry=o;g.encodeMediaEntryForUpload=p;g.encodeMediaEntryForDownload=q;g.encodeMediaEntryWithUpdatedPath=r;g.encodeMediaEntryDownloadableThumbnailWithUpdatedPath=s;g.encodeMediaEntryWithUpdatedFbid=t;g.encodeMediaEntryWithUpdatedObjectId=u;g.convertMediaDownloadableThumbnailToDownloadableThumbnail=v;g.decodeMediaEntryData=w;g.blobToArrayBuffer=x;g.getMimeTypeFromServerMediaType=y}),98);
__d("MAWMediaUtils",["MAWDbMedia","MAWGlobals","MAWHMACKey","WAMediaUtils","WATimeUtils","err","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="media");switch(a){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:return b==="xma-media"?"xma-image":"image";case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return"video";case d("MAWDbMedia").MEDIA_TYPE.PTT:return"ptt";case d("MAWDbMedia").MEDIA_TYPE.GIF:return"gif";case d("MAWDbMedia").MEDIA_TYPE.STICKER:return"sticker";default:throw c("err")("get a wrong media file with type "+a)}}function h(a){try{return d("WAMediaUtils").blobToArrayBuffer(a).then(i)}catch(a){throw c("err")("Got "+a+" when convert the blob to Uint8Array")}}function i(a){return self.crypto.subtle.digest("SHA-256",a).then(function(a){return new Uint8Array(a)})}function e(a){var c,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(h(a));case 2:c=g.sent;e=d("WAMediaUtils").toPlaintextHash(c);f=j(e);return g.abrupt("return",[e,f]);case 6:case"end":return g.stop()}},null,this)}function j(a){var b=d("MAWGlobals").getHMACKey();return d("WAMediaUtils").toHashedPlaintextHash(d("MAWHMACKey").hmacTweetNaCl(a,b))}function f(a){var b="preview-"+d("WATimeUtils").unixTime().toString()+".jpeg";return k(a,b,"image/jpeg")}function k(a,b,c){return new File([new Blob([new Uint8Array(a)],{type:c})],b,{type:c})}g.getServerMediaTypeFromMediaType=a;g.hashBlob=h;g.hashArrayBuffer=i;g.genBlobHashes=e;g.genHMACPlaintextHash=j;g.convertJpegThumbnailArrayBufferToFile=f}),98);
__d("MAWSendVideoToWorker",["MAWMediaWorkerResource","Promise","WALogger","WebWorker"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Clean up media worker"]);h=function(){return a};return a}var i=j();function a(a){var c;return new(b("Promise"))(function(b){c=i&&k(i)?j():i,c.setMessageHandler(function(a){b(a)}).execute(),c.postMessage(a)})["finally"](function(){c&&(d("WALogger").LOG(h()),c.terminate(),(!i||!i.isCurrentState("constructed"))&&(i=j()))})}function j(){return new(c("WebWorker"))(c("MAWMediaWorkerResource")).setAllowCrossPageTransition(!0)}function k(a){return a.isCurrentState("preparing")||a.isCurrentState("executing")}g.sendVideoMessageToWorker=a}),98);
__d("MAWVideoPreProcess",["MAWSendVideoToWorker","Promise","QPLUserFlow","WALogger","err","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Video preprocess failure: ",""]);h=function(){return a};return a}function i(){c("QPLUserFlow").start(c("qpl")._(25309473,"9188"))}function j(a){c("QPLUserFlow").endFailure(c("qpl")._(25309473,"9188"),"failure_during_video_preprocess"),d("WALogger").ERROR(h(),a)}function k(){c("QPLUserFlow").endSuccess(c("qpl")._(25309473,"9188"))}function a(a,d){return l(a,d).then(function(d){if(!d)return b("Promise").reject(c("err")("invalid file"));d=new File([d.file],a.name,{type:d.file.type});return b("Promise").resolve(d)})}function l(a,b){i();return d("MAWSendVideoToWorker").sendVideoMessageToWorker({asGif:b,file:a,type:"prep"}).then(function(b){var d=b.error,a=b.file,e=b.filename,f=b.result;b=b.type;switch(b){case"result":k();return f;case"parsingError":c("err")("trouble parsing file "+a+" (fossil "+e+") "+String(d));a&&c("err")("MediaAnalyzer:checkAndRepair got parsing error! "+String(d));c("err")("MediaAnalyzer:checkAndRepair rejected file ("+String(d)+")");return void 0}})["catch"](function(a){c("err")("MediaAnalyzer:checkAndRepair got error! "+String(a));j(String(a));return void 0})}g.processRawVideo=a}),98);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};b=a;f["default"]=b}),66);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var b=a.prototype;b.updateFrameBuffer=function(){this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,b=this.$1.clientHeight||this.$1.height,d=a,e=b,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:b,0,0,a,b)}else g.drawImage(this.$2,(a-d)/2,(b-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};b.getDOMNode=function(){return this.$1};b.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();g["default"]=a}),98);
__d("generateVideoThumbnails",["CanvasVideoThumbnail","HTMLMediaElementReadyStates","Promise","VideoFrameBuffer","cr:909281"],(function(a,b,c,d,e,f,g){function a(a,d,e,f,g,l,m,n,o,p){g===void 0&&(g="contain");l===void 0&&(l=0);m===void 0&&(m=null);n===void 0&&(n=null);o===void 0&&(o=null);p===void 0&&(p=null);return new(b("Promise"))(function(q,r){var s=document.createElement("canvas"),t=[],u=0,v=a.duration-l;p!=null&&(v=Math.min(v,p));var w=v/f,x=null,y,z=(v=n)!=null?v:h(m,d),A=(v=o)!=null?v:i(m,e),B=j(m,d),C=k(m,e);s.width=(v=z)!=null?v:d;s.height=(v=A)!=null?v:e;var D=new(c("VideoFrameBuffer"))(s,a,g,z,A,B,C);D.updateFrameBuffer();var E=function(){D.updateFrameBuffer();var b=new(c("CanvasVideoThumbnail"))(s,a,l+(u-1)*w,z,A,B,C);t.push(b);(!x||b.getURL().length>x.getURL().length)&&(x=b);G()},F=function(){if(a.readyState>=c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)E();else if(b("cr:909281")!==null)var d=b("cr:909281").listen(a,"loadeddata",function(){d.remove(),E()});else a.addEventListener("loadeddata",E,{once:!0})},G=function(){u===0&&(b("cr:909281")!==null?y=b("cr:909281").listen(a,"seeked",F):a.addEventListener("seeked",F)),u<f?(a.currentTime=l+u*w,u++):(b("cr:909281")!==null?y&&y.remove():a.removeEventListener("seeked",F),q({thumbnails:t,selectedThumbnail:x}))};if(a.videoWidth===0||a.videoHeight===0){r();return}G()})}function h(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function i(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function j(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function k(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}g["default"]=a}),98);
__d("MAWVideoUtils",["MAWImageUtils","Promise","err","generateVideoThumbnails"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=document.body;if(!e)return new(b("Promise"))(function(a,b){return b("Unable to find DOM body, please use this util only in DOM environment.")});var f=document.createElement("video");return new(b("Promise"))(function(d,g){f.setAttribute("style","display: none"),f.setAttribute("src",URL.createObjectURL(a)),f.addEventListener("loadedmetadata",function(a){a=a.currentTarget;if(a instanceof HTMLVideoElement){var e=a.duration,h=a.videoHeight;a=a.videoWidth;var i=c("generateVideoThumbnails")(f,a,h,1);d(b("Promise").all([i,a,h,Math.ceil(e)]))}else g("EventTarget returned for event should be HTMLVideoElement")}),e.appendChild(f)}).then(function(a){var b=a[0],c=a[1],g=a[2],h=a[3];e.removeChild(f);return d("MAWImageUtils").canvasToBlob(b.thumbnails[0].getCanvas(),d("MAWImageUtils").TYPE_JPEG,!0).then(function(a){return a.arrayBuffer().then(function(a){return{duration:h,height:g,jpegThumbnail:a,width:c}})})})["catch"](function(a){e.removeChild(f);throw c("err")(a)})}g.getVideoThumbnailUrlAndSpec=a}),98);
__d("FileInputAcceptValues.bs",["fileInputAcceptValues"],(function(a,b,c,d,e,f,g){"use strict";a=[".mp4",".mov"].concat(d("fileInputAcceptValues").PHOTO);g.allowedVideoTypes=a}),98);
__d("MAWSecureComposerUtils.bs",["FileInputAcceptValues.bs","LSMessagingThreadTypeUtil.bs","LsMessageRequestsActions.bs","MAWAudioUtils","MAWBackendBridge.bs","MAWGating","MAWGetEphemeralSettings.bs","MAWImagePreProcess","MAWJob.bs","MAWThreadId.bs","MAWUIThreadCache","MAWVideoPreProcess","MAWVideoUtils","MessageRequestsLog.bs","MessagingBackend.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","Promise","SendEventType.bs","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend.bs").__setRef("MAWSecureComposerUtils.bs");function a(a,c){if(c){c=a.type;c=c==="image/webp"?b("Promise").resolve(a):d("MAWImagePreProcess").imageTranscode(a,"image/webp")}else c=a.type==="image/gif"?b("Promise").resolve(a):d("MAWImagePreProcess").imageTranscode(a,"image/jpeg");return c.then(function(a){return b("Promise").all([d("MAWImagePreProcess").getJpegThumbnailInfo(a,400),d("MAWImagePreProcess").getImageSpec(a),b("Promise").resolve(a)])}).then(function(a){return b("Promise").resolve({_0:a[2],_1:{imageSpec:a[1],thumbnailUrlAndSpec:a[0]},TAG:0})})}function e(a){return d("MAWVideoPreProcess").processRawVideo(a,!1).then(function(a){return b("Promise").all([b("Promise").resolve(a),d("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a)])}).then(function(a){return b("Promise").resolve({_0:a[0],_1:{thumbnailUrlAndSpec:a[1]},TAG:1})})}function f(a){return d("MAWAudioUtils").getAudioDurationInSeconds(a).then(function(c){return b("Promise").resolve({_0:a,_1:{durations:c,isPtt:!0},TAG:2})})}function i(a,e,f,g,i,j,k,l,m,n,o,p){k=b("Promise").all([d("MAWUIThreadCache").getThreadJidByChatId({threadId:e}).then(function(a){if(a==null)return;else return c("bs_caml_option").some(a)}),n!==void 0?c("bs_curry")._1(d("MAWBackendBridge.bs").getProtocolMsgIdByMsgId({msgId:n.messageId}).sendAndReceive).then(function(a){if(a==null)return;else return c("bs_caml_option").some(a)}):b("Promise").resolve()]).then(function(a){return[a[0],a[1]]}).then(function(a){var e=a[0];if(e===void 0)return b("Promise").resolve(e);var f=c("bs_caml_option").valFromOption(e),g=a[1];return d("MAWGetEphemeralSettings.bs").use(f).then(function(a){switch(j.TAG){case 0:var h=j._1;d("MAWJob.bs").sendMediaMsg.fireAndForget(f,j._0,c("bs_caml_option").some(h.thumbnailUrlAndSpec.jpegThumbnail),h.imageSpec.width,h.imageSpec.height,h.thumbnailUrlAndSpec.width,h.thumbnailUrlAndSpec.height,void 0,void 0,a,g,l,!1,p,void 0,{priority:"UI_ACTION"});break;case 1:h=j._1;d("MAWJob.bs").sendMediaMsg.fireAndForget(f,j._0,c("bs_caml_option").some(h.thumbnailUrlAndSpec.jpegThumbnail),h.thumbnailUrlAndSpec.width,h.thumbnailUrlAndSpec.height,h.thumbnailUrlAndSpec.width,h.thumbnailUrlAndSpec.height,h.thumbnailUrlAndSpec.duration,void 0,a,g,l,!1,p,void 0,{priority:"UI_ACTION"});break;case 2:h=j._1;d("MAWJob.bs").sendMediaMsg.fireAndForget(f,j._0,void 0,void 0,void 0,void 0,void 0,h.durations,h.isPtt,a,g,l,!1,p,void 0,{priority:"UI_ACTION"});break}return b("Promise").resolve(e)})});c("promiseDone")(k,function(b){if(!o)return;var e;switch(j.TAG){case 0:e=d("MessagingLoggingUtilsAttachmentTypeInt.bs").image;break;case 1:e=d("MessagingLoggingUtilsAttachmentTypeInt.bs").video;break;case 2:e=d("MessagingLoggingUtilsAttachmentTypeInt.bs").audio;break}h.onReady(function(b){var h=c("bs_int64").to_string(f);return c("bs_curry").app(b.log,[a,f,g,l,[],i,m,e,!1,d("SendEventType.bs").sendAttempt,d("MessagingBackend.bs").whatsappInfra,c("bs_caml_option").some(h),void 0,c("bs_caml_option").some(o?["dst:3"]:void 0),void 0])})})}var j=["audio/*"].concat(d("FileInputAcceptValues.bs").allowedVideoTypes);function k(a,b,e,f){if(d("LSMessagingThreadTypeUtil.bs").isSecure(b.threadType)){e!==void 0&&d("MessageRequestsLog.bs").logActionConfirmed(b,c("bs_caml_int64").to_int32(d("LsMessageRequestsActions.bs").delete_),c("bs_int64").to_string(e));c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(a,b.threadKey).then(function(a){if(a.TAG!==0)return;a=a._0;if(d("MAWGating").isAppSyncDeleteThreadEnabled())return d("MAWJob.bs").deleteThread.fireAndForget(a,{priority:"UI_ACTION"});else return c("bs_curry")._1(d("MAWBackendBridge.bs").deleteThread({threadId:a}).fireAndForget)}));return}}a=a;e=e;f=f;i=i;j=j;k=k;g.$MWLogSend$Deferred=h;g.imagePreprocess=a;g.videoPreprocess=e;g.audioPreprocess=f;g.sendAttachment=i;g.supportedFileTypes=j;g.onDeleteThread=k}),98);
__d("MAWMediaManagerUtils.bs",["MAWBackendBridge.bs","MAWMediaUtils","MAWSecureComposerUtils.bs","MAWThreadId.bs","OfflineThreadingId.bs","Promise","bs_curry","cometIsMimeTypeForMedia","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a){return b("Promise").all(a.map(function(a){if(a.type==="image/gif"||a.type==="image/webp"||d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return d("MAWSecureComposerUtils.bs").imagePreprocess(a,!1);else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return d("MAWSecureComposerUtils.bs").videoPreprocess(a);else return d("MAWSecureComposerUtils.bs").audioPreprocess(a)})).then(function(a){a=a.map(function(a){return[a,d("OfflineThreadingId.bs").make()]});a.forEach(function(a){h.set(a[1],a[0])});return a.map(function(a){return[a[0]._0,a[1]]})})}function e(a,b,e){c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(a,b).then(function(a){var b=e.reduce(function(a,b){b=h.get(b[1]);b==null||a.push(b);return a},[]);if(a.TAG!==0)return;var f=a._0;b.forEach(function(a){switch(a.TAG){case 0:return c("bs_curry")._1(d("MAWBackendBridge.bs").optimisticUploadMedia({file:a._0,threadId:f,thumbnail:d("MAWMediaUtils").convertJpegThumbnailArrayBufferToFile(a._1.thumbnailUrlAndSpec.jpegThumbnail)}).fireAndForget);case 1:return c("bs_curry")._1(d("MAWBackendBridge.bs").optimisticUploadMedia({file:a._0,threadId:f,thumbnail:d("MAWMediaUtils").convertJpegThumbnailArrayBufferToFile(a._1.thumbnailUrlAndSpec.jpegThumbnail)}).fireAndForget);case 2:return c("bs_curry")._1(d("MAWBackendBridge.bs").optimisticUploadMedia({file:a._0,threadId:f,thumbnail:null}).fireAndForget)}})}))}f=h;a=a;e=e;g.attachmentsMap=f;g.preprocess=a;g.upload=e}),98);/*FB_PKG_DELIM*/
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"add_messenger_contact",[0,308],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSClearCommunityMembersAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.i64.neq(a[0],d)?b.seq([function(c){return b.fe(b.ftr(b.db.table(170).fetch(),function(c){return b.i64.eq(c.source,a[0])}),function(a){return a["delete"]()})},function(c){return b.fe(b.ftr(b.db.table(189).fetch(),function(c){return b.i64.eq(c.source,a[0])}),function(a){return a["delete"]()})}]):b.seq([function(a){return b.fe(b.db.table(170).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(189).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(8).fetch([[[a[0],a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.actorId,a[2])&&b.i64.eq([0,0],[0,0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpsertCommunityMemberRanges",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(e){return d[0]=c.createArray(),d[2]=(d[0].push([0,0]),d[0]),a[2]===!0?c.resolve(d[1]=!0):c.seq([function(e){return d[2]=!1,d[3]=c.i64.of_int32(a[1].length),c.i64.gt(d[3],[0,0])?c.loopAsync(d[3],function(e){return d[4]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[1],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(a){return d[2]=d[2]||c.i64.eq([0,1],d[5])}])}):c.resolve()},function(a){return d[1]=d[2]}])},function(b){return c.db.table(189).put({communityId:a[0],isAdmin:d[1],minName:"",source:a[7],maxName:a[6],isLoadingBefore:!1,isLoadingAfter:a[4],hasMoreBefore:!1,hasMoreAfter:a[3],nextPageCursor:a[5]})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueCommunityMemberListFetch",["LSIssueNewTask","LSUpsertCommunityMemberRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.createArray(),d[4]=(d[0].push([0,0]),d[0]),d[1]=c.createArray(),c.sp(b("LSUpsertCommunityMemberRanges"),a[0],a[1],a[2],!1,!0,"",a[5],a[6])},function(e){return d[2]=new c.Map(),d[2].set("community_id",a[0]),d[2].set("roles",a[1]),d[2].set("fetch_admins_only",a[2]),d[2].set("cursor",a[4]),d[2].set("source",a[6]),d[2].set("thread_key",a[7]),d[2].set("search_text",a[8]),d[2].set("thread_roles",a[9]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"fetch_community_member_list",[0,355],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5336064999757079"}),null);
__d("MarketplaceCometReviewOffersDialogQuery$Parameters",["MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"),metadata:{},name:"MarketplaceCometReviewOffersDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMWFilePDFDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4621251448002661"}),null);
__d("useMWFilePDFDataQuery$Parameters",["useMWFilePDFDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("useMWFilePDFDataQuery_facebookRelayOperation"),metadata:{},name:"useMWFilePDFDataQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useForceUpdate",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useReducer;function a(){var a=h(function(a){return a+1},0);a[0];a=a[1];return a}g["default"]=a}),98);
__d("useCopyText",["DateConsts","clearTimeout","react","requireDeferred","setTimeout","useForceUpdate"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState,l=c("requireDeferred")("Clipboard").__setRef("useCopyText"),m=null;l.onReady(function(a){m=a});function a(a){var b=a.onCopyPress,e=a.value;a=k(!1);var f=a[0],g=a[1],n=j(null),o=m!=null&&m.isSupported(),p=m,q=c("useForceUpdate")();i(function(){if(p==null)if(m==null)return l.onReady(q).remove;else q()},[p,q]);a=h(function(){b!=null&&b();if(o&&typeof e==="string"){var a;a=(a=m)==null?void 0:a.copy(e);a===!0&&(g(!0),c("clearTimeout")(n.current),n.current=c("setTimeout")(function(){g(!1)},.75*d("DateConsts").MS_PER_SEC))}},[b,n,e,o]);return[o,f,a]}g["default"]=a}),98);
__d("MarketplaceCometReviewOffersDialog.entrypoint",["JSResourceForInteraction","MarketplaceCometReviewOffersDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.listingId;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MarketplaceCometReviewOffersDialogQuery$Parameters"),variables:{listingId:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MarketplaceCometReviewOffersDialog.react").__setRef("MarketplaceCometReviewOffersDialog.entrypoint")};g["default"]=a}),98);
__d("MWProfilePhoto.react",["CometProfilePhoto.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.jsx(c("CometProfilePhoto.react"),babelHelpers["extends"]({},a,{ref:b}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWGroupMembershipListItem.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h={CommunityMember:"communityMemberType",ParticipantAndContact:"participantAndContactType",ServerSearchResult:"serverSearchResultType"};function a(a){if(a.type===h.ParticipantAndContact)return a.participant.isAdmin;return a.type===h.CommunityMember?a.communityMember.isAdmin:!1}function b(a){if(a.type===h.ParticipantAndContact)return a.participant.isModerator;return a.type===h.CommunityMember?a.communityMember.isModerator:!1}function c(a){if(a.type===h.ParticipantAndContact)return a.contact.id;return a.type===h.CommunityMember?a.communityMember.contactId:d("I64").of_string(a.serverSearchResult.resultId)}g.MWGroupMembershipMemberTypes=h;g.isAdmin=a;g.isModerator=b;g.contactId=c}),98);
__d("MWCMBotBadgeDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWCMBotBadge.react").__setRef("MWCMBotBadgeDeferred.react"));b=a;g["default"]=b}),98);
__d("MWCMUseFolder.re",["MWCMUseFolder.bs"],(function(a,b,c,d,e,f){a=b("MWCMUseFolder.bs").useHook;f.useFolder=a}),null);
__d("useCommunityMembers",["I64","LS.re","LSClearCommunityMembersAndRange","LSIntEnum","LSIssueCommunityMemberListFetch","LSVec","MWCMThreadTypes.bs","ReQL","ReQLSuspense","react","regeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.useCallback,j=h.useEffect;function a(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("community_members_ranges_v2__generated")).getKeyRange(a)},[b,a])}function e(a){a===void 0&&(a=7);var b=c("useReStore")();return i(function(){return b.runInTransaction(function(b){return c("LSClearCommunityMembersAndRange")(d("LSIntEnum").ofNumber(a),c("LS.re").make(b))},"readwrite")},[b,a])}function f(a,e,f){f===void 0&&(f=d("I64").of_int32(7));var g=c("useReStore")(),h=e.threadKey,i=e.threadType;e=d("I64").to_string(h);var k=d("I64").to_string(a),l=d("I64").to_string(i);j(function(){var e=d("MWCMThreadTypes.bs").isBroadcastThread(i)?[d("LSIntEnum").ofNumber(0)]:[],j=function(){return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(g.runInTransaction(function(b){return c("LSIssueCommunityMemberListFetch")(a,c("LSVec").make([d("LSIntEnum").ofNumber(0)]),!1,!1,"","",f,d("I64").equal(f,d("I64").of_int32(0))?void 0:h,void 0,c("LSVec").make(e),c("LS.re").make(b))},"readwrite"));case 2:case"end":return i.stop()}},null,this)};j()},[g,k,e,l])}g.useCommunityMembersRanges=a;g.useClearMemberList=e;g.useFetchCommunityMembers=f}),98);
__d("LsFalcoEventEntryPoint.bs",[],(function(a,b,c,d,e,f){"use strict";a="message_actions";b="composer";c="icebreaker";f.messageActions=a;f.composer=b;f.icebreaker=c}),66);
__d("MWLSLogMessageClick.bs",["LsActionCategory.bs","MWChatMessageId.bs","UserAgentData","bs_caml_int64","bs_caml_option","bs_int64","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=e!==void 0?c("bs_caml_option").valFromOption(e):void 0;c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWLSLogMessageClick.bs").onReady(function(e){e.log(function(){var e={};g!==void 0&&(e.action=g);e.browserName=c("UserAgentData").browserName;var f=d("MWChatMessageId.bs").getThreadId(a),h=d("MWChatMessageId.bs").getMessageId(a),i=d("MWChatMessageId.bs").getTimestamp(a);return{click:{category:c("bs_caml_int64").to_int32(d("LsActionCategory.bs").click)},click_target:{type:c("bs_caml_int64").to_int32(b)},extra:JSON.stringify(e),message:{id:h!==void 0?h:"",sender_id:void 0,sent_time:i!==void 0?c("bs_caml_int64").to_float(i):void 0},thread:{id:f!==void 0?c("bs_int64").to_string(f):"",key:void 0,type:void 0},xma:void 0}})})}g.logMessageClicked=a}),98);
__d("EmojiFormat.bs",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.split("_").map(function(a){return parseInt(a,16)})}function a(a){return a.map(function(a){return a.toString(16)}).join("_")}function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function b(a){return h(g(a))}f.codeStringToCodeArray=g;f.codeArrayToCodeString=a;f.codeArrayToUnicode=h;f.codeStringToUnicode=b}),66);
__d("LSEmojiSetsType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.userGenerated=a;f.recentlyUsed=c}),null);
__d("MWChatMessengerReactionsUtils.bs",["EmojiFormat.bs","LSEmojiSetsType.bs","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";b=[{categoryIdx:[0,6],emoji:"\u2764",emojiIdx:c("bs_caml_int64").zero,sortKey:c("bs_caml_int64").zero,type_:d("LSEmojiSetsType.bs").userGenerated},{categoryIdx:c("bs_caml_int64").zero,emoji:"\ud83d\ude06",emojiIdx:[0,4],sortKey:c("bs_caml_int64").one,type_:d("LSEmojiSetsType.bs").userGenerated},{categoryIdx:c("bs_caml_int64").zero,emoji:"\ud83d\ude2e",emojiIdx:[0,83],sortKey:[0,2],type_:d("LSEmojiSetsType.bs").userGenerated},{categoryIdx:c("bs_caml_int64").zero,emoji:"\ud83d\ude22",emojiIdx:[0,48],sortKey:[0,3],type_:d("LSEmojiSetsType.bs").userGenerated},{categoryIdx:c("bs_caml_int64").zero,emoji:"\ud83d\ude20",emojiIdx:[0,51],sortKey:[0,4],type_:d("LSEmojiSetsType.bs").userGenerated},{categoryIdx:c("bs_caml_int64").zero,emoji:"\ud83d\udc4d",emojiIdx:[0,130],sortKey:[0,5],type_:d("LSEmojiSetsType.bs").userGenerated},{categoryIdx:c("bs_caml_int64").zero,emoji:"\ud83d\udc4e",emojiIdx:[0,131],sortKey:[0,6],type_:d("LSEmojiSetsType.bs").userGenerated}];e=b.slice(0,6);var h=d("EmojiFormat.bs").codeArrayToUnicode([10084,65039]),i=d("EmojiFormat.bs").codeArrayToUnicode([10084]);function a(a){if(a===h)return!0;else return a===i}f=6;g.defaultStaticReactions=b;g.defaultCustomizableReactions=e;g.heartType1=h;g.heartType2=i;g.isHeart=a;g.cUSTOM_REACTIONS_NUM=f}),98);
__d("MWChatReactionEmoji.bs",["cr:4707"],(function(a,b,c,d,e,f,g){"use strict";g.make=b("cr:4707")}),98);
__d("MWChatReactionsUtils.bs",["cr:10957"],(function(a,b,c,d,e,f,g){"use strict";g.$WorkChatReactionsUtils$OR$MWChatMessengerReactionsUtils$requireCond=a=b("cr:10957");g.cUSTOM_REACTIONS_NUM=a.cUSTOM_REACTIONS_NUM;g.defaultStaticReactions=a.defaultStaticReactions;g.defaultCustomizableReactions=a.defaultCustomizableReactions;g.heartType1=a.heartType1;g.heartType2=a.heartType2;g.isHeart=a.isHeart}),98);
__d("FocusTable.bs",["FocusTable.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("FocusTable.react").createFocusTable(a.query);var b=a[0],c=a[1];a=a[2];var e={make:b},f={make:c},g={make:a};return{Cell:g,Row:f,Table:e,cell:a,row:c,table:b}}g.Make=a}),98);
__d("MWMessageTableFocusTable.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="messages_table";function a(a,b,c){return c.getAttribute("data-scope")===j}e=d("FocusTable.bs").Make({query:a});d={key:c("CometKeys").UP};var k={key:c("CometKeys").DOWN},l={key:c("CometKeys").LEFT},m={key:c("CometKeys").RIGHT},n=[{command:d,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:function(a){}},{command:k,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:function(a){}},{command:l,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:function(a){}},{command:m,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:function(a){}}];function b(a){a=a.children;return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:n,xstyle:!1,children:a})}b.displayName=b.name+" [from "+f.id+"]";h=b;g.scopeID=j;g.scopeQuery=a;g.Table_=e;g.keyUp=d;g.keyDown=k;g.keyLeft=l;g.keyRight=m;g.commandConfigs=n;g.keyCommands=h}),98);
__d("MWMessageCellFocusTable.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.bs","MWMessageTableFocusTable.bs","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("FocusTable.bs").Make({query:d("focusScopeQueries").tabbableScopeQuery});var j={key:c("CometKeys").ESCAPE},k={key:c("CometKeys").ENTER},l={key:c("CometKeys").SPACE},m=h._("__JHASH__dr5LK8JTLfs__JHASH__"),n=h._("__JHASH__NgBmedKphX2__JHASH__");function a(a){var b=a.children,e=a.onEnter,f=a.onEscape;a=a.onSpace;var g=[];f!==void 0&&g.push({command:j,description:m,handler:f});e!==void 0&&g.push({command:k,description:n,handler:e});a!==void 0&&g.push({command:l,description:n,handler:a});return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:d("MWMessageTableFocusTable.bs").commandConfigs.concat(g),xstyle:!1,children:b})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.Table_=b;g.$$escape=j;g.enter=k;g.space=l;g.exitFbt=m;g.enterFbt=n;g.keyCommands=e}),98);
__d("MAWArmadilloLinkContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e(!1);function a(a){a=a.children;return h.jsx(j.Provider,{value:!0,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.MAWArmadilloLinkProvider=a;g.useMAWArmadilloLink=b}),98);
__d("MAWArmadilloLink.react",["CometLink.react","MAWArmadilloLinkContext.react","cr:820","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.bypassMDS_DO_NOT_USE;e=e===void 0?!1:e;var f=a.children,g=a.color;a.testid;a=babelHelpers.objectWithoutPropertiesLoose(a,["bypassMDS_DO_NOT_USE","children","color","testid"]);var i=d("MAWArmadilloLinkContext.react").useMAWArmadilloLink();if(i&&c("gkx")("3164")){i={disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]};return b("cr:820")!=null&&!e?h.jsx(b("cr:820"),babelHelpers["extends"]({},a,i,{children:f})):h.jsx(c("CometLink.react"),babelHelpers["extends"]({},a,i,{color:g,children:f}))}return f}g["default"]=a}),98);
__d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs",["ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts")))},[b,JSON.stringify(a.threadKey)]))}b=a;g.useValue=b}),98);
__d("StylexHelpers.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};g.styles=a}),98);
__d("EmojiLikeConstants",["EmojiStaticConfig"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({XSMALL:"xsmall",SMALL:"small",MEDIUM:"medium",LARGE:"large"});b={dp16:"xsmall",dp32:"small",dp64:"medium",db64:"medium",dp128:"large"};d=Object.freeze({PICKER:"picker",HOT_LIKE:"hot_like"});e=[983040];f="hot_emoji_source";var h="hot_emoji_size",i="emoji_like",j="\ud83d\udc4d",k=[128077];g.sizeMap=c("EmojiStaticConfig").sizeMap;g.size=a;g.sizeMapTransfer=b;g.source=d;g.FB_THUMBS_UP_EMOJI=e;g.SOURCE_TAG_PREFIX=f;g.TAG_PREFIX_NEW=h;g.TAG_PREFIX_OLD=i;g.THUMBS_UP_EMOJI=j;g.THUMBS_UP_EMOJI_CODES=k}),98);
__d("isFalsey",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null||!Boolean(a)}f["default"]=a}),66);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],(function(a,b,c,d,e,f,g){var h={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function b(a){Object.assign(h,a),window.setInterval(i,h.timeout)}function i(){var a=c("getViewportDimensions")(),b=j(),e=c("Layer").getTopmostLayer();if(e){e=(e=e.getRoot())==null?void 0:e.firstChild;e||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var f=d("DOMDimensions").getElementDimensions(e);f.height+=d("DOMDimensions").measureElementBox(e,"height",!0,!0,!0);f.width+=d("DOMDimensions").measureElementBox(e,"width",!0,!0,!0);b.height=Math.max(b.height,f.height);b.width=Math.max(b.width,f.width)}e=b.height-a.height;f=b.width-a.width;f<0&&c("isFalsey")(h.widthElement)&&(f=0);f=f>1?f:0;c("isFalsey")(h.allowShrink)&&e<0&&(e=0);if(e||f)try{window.console&&window.console.firebug,window.resizeBy(f,e),f&&window.moveBy(f/-2,0)}catch(a){}}function j(){var b=d("DOMDimensions").getDocumentDimensions();if(h.strategy==="offsetHeight"){var e=document.body;if(!e)d("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{b.height=(e=e.offsetHeight)!=null?e:0}}if(c("isFalsey")(h.widthElement)&&typeof h.widthElement==="string"){e=d("DOMQuery").scry(document.body,h.widthElement)[0];e&&(b.width=d("DOMDimensions").getElementDimensions(e).width)}e=a.Dialog;e&&e.max_bottom&&e.max_bottom>b.height&&(b.height=e.max_bottom);return b}function e(a,b,c,e){return d("Popup").open(a,c,b,e)}g._opts=h;g.init=b;g._resizeCheck=i;g._getDocumentSize=j;g.open=e}),98);
__d("LSMessageThreadUnsendabilityStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10];f.canUnsend=a;f.denyForSpecificIds=c;f.denyIfThreadContainsPau=d;f.denyIfThreadContainsWorkUser=e;f.denyIfPageThread=b;f.denyIfMarketplaceThread=g;f.denyIfCannotLoadThread=h;f.denyIfThreadContainsWorkUserFailingKillswitch=i;f.denyIfCanonicalThreadContainsBlockedUsers=j;f.denyIfCannotReplyToViewerThread=k;f.denyIfUnconnectedThread=l}),null);
__d("LsActionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,25],B=[0,26],C=[0,27],D=[0,28],E=[0,29],F=[0,30],G=[0,31],H=[0,32],I=[0,33],J=[0,34],K=[0,35],L=[0,36],M=[0,37],N=[0,38],O=[0,39],P=[0,40],Q=[0,41],R=[0,42],S=[0,43],T=[0,44],U=[0,45],V=[0,46],W=[0,47],X=[0,48],Y=[0,49],Z=[0,50],$=[0,51],aa=[0,52],ba=[0,53],ca=[0,54],da=[0,55],ea=[0,56],fa=[0,57],ga=[0,58],ha=[0,59],ia=[0,60],ja=[0,61],ka=[0,62],la=[0,63],ma=[0,64],na=[0,65],oa=[0,66],pa=[0,67],qa=[0,68],ra=[0,69],sa=[0,70],ta=[0,71],ua=[0,72],va=[0,73],wa=[0,74],xa=[0,75],ya=[0,76],za=[0,77],Aa=[0,78],Ba=[0,79],Ca=[0,80],Da=[0,81],Ea=[0,82],Fa=[0,83],Ga=[0,84],Ha=[0,85],Ia=[0,86];f.unknown=a;f.accept=c;f.add=d;f.call=e;f.callAgain=b;f.callBack=g;f.camera=h;f.collapse=i;f.decline=j;f.delete_=k;f.expand=l;f.joinCall=m;f.joinVideoChat=n;f.mute=o;f.play=p;f.rateTranslation=q;f.reaction=r;f.retry=s;f.save=t;f.saveAll=u;f.saveToFb=v;f.seek=w;f.send=x;f.share=y;f.tranferCall=z;f.translate=A;f.unmute=B;f.videoChat=C;f.view=D;f.viewProfile=E;f.wave=F;f.postback=G;f.openUrl=H;f.openNative=I;f.close=J;f.adClick=K;f.adHide=L;f.pause=M;f.quickReplyText=N;f.copy=O;f.forward=P;f.report=Q;f.viewPack=R;f.openExtension=S;f.piiNative=T;f.piiWebview=U;f.openMenu=V;f.block=W;f.unblock=X;f.accountLink=Y;f.accountUnlink=Z;f.addToCalendar=$;f.closeBrowser=aa;f.getContext=ba;f.beginShareflow=ca;f.askPermission=da;f.getGrantedPermissions=ea;f.getSupportedFeatures=fa;f.quickReplyUserInfo=ga;f.reactionUpdate=ha;f.reactionDelete=ia;f.reactionNew=ja;f.openReceipt=ka;f.getStarted=la;f.iceBreaker=ma;f.newConversation=na;f.nextConversation=oa;f.previousConversation=pa;f.openSettings=qa;f.customerFeedback=ra;f.submit=sa;f.guestChatHistory=ta;f.editCustomizeReaction=ua;f.enterCustomizeReaction=va;f.exitCustomizeReaction=wa;f.openAppLink=xa;f.iceBreakerCta=ya;f.enterSkinTonePicker=za;f.selectSkinTonePicker=Aa;f.emojiSearchTap=Ba;f.enterOverreactTray=Ca;f.exitOverreactTray=Da;f.customerInformation=Ea;f.bump=Fa;f.unbump=Ga;f.favorite=Ha;f.unfavorite=Ia}),null);
__d("memoizeByIdentity",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();return function(c){b.has(c)||b.set(c,a.call(this,c));return b.get(c)}}f["default"]=a}),66);
__d("useDebounced",["debounce","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useRef;function a(a,b,d){b===void 0&&(b=100);d===void 0&&(d=!1);var e=j(a);h(function(){e.current=a},[a]);var f=i(function(){return c("debounce")(function(){return e.current.apply(e,arguments)},b,null,!1,d)},[b,d]);h(function(){return f.reset},[f]);return f}g["default"]=a}),98);
__d("useUniqueID",["uniqueID","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useUnsafeRef_DEPRECATED")(null);a.current===null&&(a.current=c("uniqueID")());return a.current}g["default"]=a}),98);
__d("idx",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{return b(a)}catch(a){if(a instanceof TypeError)if(h(a))return null;else if(j(a))return void 0;throw a}}var g;function h(a){a=a.message;g||(g=k("null"));return g.test(a)}var i;function j(a){a=a.message;i||(i=k("undefined"));return i.test(a)}function k(a){return new RegExp("^"+a+" | "+a+"$|^[^\\(]* "+a+" ")}f["default"]=a}),66);
__d("XCometGroupAdminActivitiesControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/admin_activities/",Object.freeze({with_note:!1,automatic_action:!1}),void 0);b=a;g["default"]=b}),98);
__d("XInstagramHelpDotComContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[],force_new_ighc:!1}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComHelpContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("bs_caml_int32",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b===0)throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};return a/b|0}function b(a,b){if(b===0)throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};return a%b}f.div=a;f.mod_=b}),null);
__d("WebGraphQLLegacyHelper",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.controller,c=a.docID,d=a.queryID,e=a.variables;a=a.legacyResponseFormat;c!=d&&(c||d)!=null||h(0,5819,c,d);b=b.getURIBuilder();d?b.setFBID("query_id",d):b.setFBID("doc_id",c);a&&b.setBool("legacy_response_format",!0);e&&b.setString("variables",JSON.stringify(e));return b.getURI()}g.getURI=a}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6078765272142898"}),null);/*FB_PKG_DELIM*/
__d("CometToken.react",["fbt","ix","CometIcon.react","CometPressable.react","CometProfilePhoto.react","TetraText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={"default":{backgroundColor:"x1hr4nm9",$$css:!0},pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0},readonly:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},root:{alignItems:"x6s0dn4",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",display:"x3nfvp2",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},shrinkVerticalPadding:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},shrinkVerticalPaddingLevel4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},spacing:{marginEnd:"x1emribx",$$css:!0},suggested:{backgroundColor:"x1qhmfi1",$$css:!0}};function a(a){var b=a.addOn,e=a.addOnSecondary,f=a.disabled,g=a.level;g=g===void 0?3:g;var l=a.onPress,m=a.text;a=a.type;var n=a==="add"||a==="readonly"?"primary":"highlight",o=null,p=null,q=!1,r=!1,s=g===3?"body3":"body4";if(b){switch(b.type){case"text":o=j.jsx(c("TetraText.react"),{color:n,type:s,children:b.value});break;case"profile-photo":g===4?r=!0:q=!0;o=j.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:g===3?24:20,source:{uri:b.source}});break;case"icon":g===4?r=!0:q=!0;o=j.jsx(c("CometIcon.react"),{color:n,icon:b.icon});break}o=j.jsx("div",{"aria-hidden":a==="remove",className:"x1emribx",children:o})}if(e){switch(e.type){case"text":p=j.jsx(c("TetraText.react"),{color:n,type:s,children:e.value});break}p=j.jsx("div",{"aria-hidden":a==="remove",className:"x1emribx",children:p})}s=j.jsx("div",{"aria-hidden":a==="remove",className:""+(a!=="readonly"?" x1emribx":""),children:j.jsx(c("TetraText.react"),{color:n,type:g===3?"bodyLink3":"bodyLink4",children:m})});n=(b==null?void 0:b.type)==="text"?b.value:null;g=(e==null?void 0:e.type)==="text"?e.value:null;b=j.jsxs("div",{className:"x6s0dn4 xhk9q7s x1otrzb0 x1i1ezom x1o6z2jb x3nfvp2"+((q?" x1yrsyyn x10b6aqq":""+(r?" x1iorvi4 xjkvuk6":""+((a==="readonly"?" x1y1aw1k xwib8y2":" x889kno x1a8lsjc")+(a==="add"||a==="readonly"?"":""+(a==="readonly"?"":""+(a!=="add"&&a!=="readonly"?"":""))))))+((a==="readonly"?" x1sxyh0 xurb0ha":" x1iji9kk x1sln4lm")+(a==="add"||a==="readonly"?" x1qhmfi1":""+(a!=="add"&&a!=="readonly"?" x1hr4nm9":"")))),children:[o,s,p,a==="add"?j.jsx(c("CometIcon.react"),{alt:h._("__JHASH__95v9ydXXTuI__JHASH__"),icon:d("fbicon")._(i("483767"),12)}):a!=="readonly"?j.jsx(c("CometIcon.react"),{"aria-label":h._("__JHASH__U1aN33icCWb__JHASH__",[h._param("prefix",n),h._param("token_text",m),h._param("add_on_secondary",g)]),color:"highlight",disabled:f,hideHoverOverlay:r,icon:d("fbicon")._(i("478231"),12),onPress:l,testid:void 0}):null]});return a==="add"?j.jsx(c("CometPressable.react"),{disabled:f,display:"inline",onPress:l,xstyle:k.pressable,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mwChatSearchPayloadDecoratorRemoveDuplicates",["MWChatSearchResultType","MWXacGating.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=!1);return function(e){var f=e.entries;e=babelHelpers.objectWithoutPropertiesLoose(e,["entries"]);var g=a.some(function(a){a=a.rawData;return a.resultType===c("MWChatSearchResultType").USER}),h=a.some(function(a){a=a.rawData;return!a.isInstagramAccount}),i=new Set(),j=new Set();a.forEach(function(a){return j.add(a.key)});b&&a.forEach(function(a){a.rawData.otherUserId!=null&&j.add(a.rawData.otherUserId)});f=f.filter(function(a){var e=a.key;a=a.rawData;if(g&&a.resultType!==c("MWChatSearchResultType").USER)return!1;if(!d("MWXacGating.bs").isGroupsEnabled()&&(h&&Boolean(a.isInstagramAccount)))return!1;a=!i.has(e)&&!j.has(e)&&!(b&&a.otherUserId!=null&&j.has(a.otherUserId));i.add(e);return a});return babelHelpers["extends"]({entries:f},e)}}g["default"]=a}),98);
__d("withMWChatSearchTokenManagementDecorator",["MWChatSearchResultType","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return function(b){var d=b.onChangeEntries,e=b.onPressEntry,f=b.onRemoveEntry,g=b.onSearchCompletion,j=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChangeEntries","onPressEntry","onRemoveEntry","onSearchCompletion","selectedEntries"]);var k=i(function(a){var b=a.rawData.resultType;if(b===c("MWChatSearchResultType").USER){b=[].concat(j,[a]);d(b)}e&&e(a)},[d,e,j]),l=i(function(a){var b;b=((b=j)!=null?b:[]).filter(function(b){return b.key!==a.key});d(b);f&&f(a)},[d,f,j]),m=i(function(){g&&g()},[g]);return h.jsx(a,babelHelpers["extends"]({},b,{onChangeEntries:d,onPressEntry:k,onRemoveEntry:l,onSearchCompletion:m,selectedEntries:j}))}}g["default"]=a}),98);
__d("CometTokenizerTokenStrategy.react",["CometToken.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.addOn,d=a.addOnSecondary,e=a.isDisabled,f=a.level,g=a.onPress,j=a.token;a=i(function(a){a.preventDefault(),g(j)},[g,j]);return h.jsx(c("CometToken.react"),{addOn:b,addOnSecondary:d,disabled:e,level:f,onPress:a,text:j.label,type:"remove"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTokenizerTokenStrategy.react",["CometTokenizerTokenStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{"data-testid":void 0,children:h.jsx(c("CometTokenizerTokenStrategy.react"),babelHelpers["extends"]({},a,{level:4}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withBaseTokenizerEscapeDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var c=b.onSearchAbandon;return function(b){var d=b.onChange,e=b.onEscape,f=b.queryString,g=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChange","onEscape","queryString","selectedEntries"]);var j=i(function(){f!==""?d(""):g.length===0&&(c&&c()),e&&e()},[f,g.length,e,d]);return h.jsx(a,babelHelpers["extends"]({},b,{onChange:d,onEscape:j,queryString:f,selectedEntries:g}))}}g["default"]=a}),98);
__d("useBaseTokenizerDecorators",["useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.alertDecorator,d=a.escapeDecorator,e=a.limitDecorator,f=a.refetchDecorator,g=a.tokenManagementDecorator;return c("useStable")(function(){return[e,d,g,f,b].filter(Boolean)})}g["default"]=a}),98);
__d("CometTokenizerInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","KeyCommandHandler.react","react","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l={root:{width:"xh8yej3",$$css:!0}};function a(a,b){var d=a.children,e=a.commandConfigs,f=a.isInline,g=a.onBackspace,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onShiftTab,q=a.onTab,r=a.onUpArrow;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commandConfigs","isInline","onBackspace","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow"]);var s=k(function(){return[].concat(e,[{command:{key:c("CometKeys").DELETE},description:h._("__JHASH__Cd9YiubQMjf__JHASH__"),handler:function(){return g&&g()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").DOWN},description:h._("__JHASH__CqK0EeqSMhz__JHASH__"),handler:function(){return m&&m()},triggerFromInputs:!0},{command:{key:c("CometKeys").UP},description:h._("__JHASH__iUKjo5X2a54__JHASH__"),handler:function(){return r&&r()},triggerFromInputs:!0},{command:{key:c("CometKeys").ESCAPE},description:h._("__JHASH__wwSVh79-oc2__JHASH__"),handler:function(){return o&&o()},triggerFromInputs:!0},{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__mihpnKYilqe__JHASH__"),handler:function(){return n&&n()},triggerFromInputs:!0},{command:{key:c("CometKeys").TAB},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return q&&q()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").TAB,shift:!0},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return p&&p()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0}])},[e,g,m,n,o,p,q,r]);b=c("useCometTypeaheadInputRefs")(b);var t=b.composedRef;b=b.inputRef;b=c("useCometTypeaheadInputHandlers")(babelHelpers["extends"]({inputRef:b},a));a=j(function(a){a.key==="Tab"&&(!a.shiftKey?q&&q():p&&p())},[q,p]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,elementType:f===!0?"span":"div",xstyle:l.root,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:a,children:d(t,b)})})}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("CometTokenizerInputWidthResolver.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useRef,k=b.useState;function a(a){var b=a.children,c=a.placeholder;c=c===void 0?"":c;a=a.queryString;var d=k(0),e=d[0],f=d[1],g=j(null);d=a!==""?a:c;i(function(){g.current&&f(g.current.offsetWidth)},[d]);return h.jsxs(h.Fragment,{children:[h.jsx("span",{"aria-hidden":"true",className:"x1jchvi3 x1xgp4w4 x1owdmkh x10l6tqk x17qophe x13vifvy xlshs6z xuxw1ft",ref:g,children:d}),b(e)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTokenizerInputStrategy.react",["BaseTextInput_DEPRECATED.react","CometTokenizerInputWidthResolver.react","cometTypeaheadInputWebkitStyles","react","stylex","useCometTypeaheadInputStrategyOnChangeHandler","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={disabled:{cursor:"x1h6gzvc",$$css:!0},input:{backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",boxSizing:"x9f619",color:"xzsf02u",display:"xt0psk2",fontSize:"x1jchvi3",fontWeight:"x1fcty0u",lineHeight:"x132q4wb",marginTop:"x1xmf6yo",marginEnd:"x1emribx",marginBottom:"x1e56ztr",marginStart:"x1i64zmx",maxWidth:"x193iq5w",outline:"x1a2a7pz",resize:"xtt52l0",$$css:!0},root:{cursor:"x1ed109x",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;var e=a.id,f=a.inputEndContent,g=a.inputStartContent,j=a.inputExtraProps;j=j===void 0?{}:j;var k=j.xstyle,l=a.isDisabled;a.label;j=a.onChange;var m=a.placeholder,n=a.queryString,o=a.testid,p=a.autoFocus,q=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","label","onChange","placeholder","queryString","testid","autoFocus"]),r=(o=e)!=null?o:c("useCometUniqueID")(),s=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:j});return h.jsxs("div",{className:"x193iq5w x6ikm8r x10wlt62"+(l===!0?" x1h6gzvc":" x1ed109x"),children:[g,h.jsx(c("CometTokenizerInputWidthResolver.react"),{placeholder:m,queryString:n,children:function(a){var e;return h.jsx(c("BaseTextInput_DEPRECATED.react"),babelHelpers["extends"]({},d,q,{autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:p,className:c("stylex")(i.input,k,c("cometTypeaheadInputWebkitStyles")["default"]),"data-testid":void 0,disabled:l,id:r,onChange:s,placeholder:(e=m)!=null?e:"",ref:b,spellCheck:!1,style:{width:a},type:"search",value:n}))}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("useCometTokenizerLayoutStrategyOnBackspaceHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,c=a.onBackspace,d=a.onRemoveEntry,e=a.selectedEntries;return h(function(){var a=b.current;if(a!=null&&a.selectionStart===0&&a.selectionEnd===0){a=e.length-1;a>=0&&d(e[a])}c&&c()},[b,c,e,d])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnEnterHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onEnter;return h(function(){b&&b()},[b])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnPressEntryHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onChange,e=a.onPressEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry,g=b.current;return h(function(a,b){g!=null&&(g.value="",g.focus()),f({entry:null,source:null}),d(""),e&&e(a,b)},[g,f,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternalLayoutContextualStrategy.react",["fbt","CometContextualLayer.react","CometHeroHoldTrigger.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","FocusRegion.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","focusScopeQueries","intlList","react","stylex","useCometAccessibilityAlerts","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l={helperText:{marginTop:"x1xmf6yo",$$css:!0},view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",width:"xh8yej3",$$css:!0}},m="ChatTypeahead";function a(a){var b=a.contextualProps;b=b===void 0?{}:b;var e=b.align;e=e===void 0?"stretch":e;var f=b.position;f=f===void 0?"below":f;var g=babelHelpers.objectWithoutPropertiesLoose(b,["align","position"]),n=a.description;b=a.extraLayoutProps;var o=b.ariaProps,p=o.ariaDescribedByProps,q=o.ariaInputProps,r=o.ariaViewProps;o=b.helperTextComponent;var s=b.isLoading;b=b.isOpened;var t=a.errorMessage,u=a.commandConfigs,v=a.selectedEntries,w=a.inputStrategyRenderer,x=a.isDisabled,y=a.label,z=a.layerContext;z=z===void 0?"root":z;var A=a.onBackspace,B=a.onBlur,C=a.onChange,D=a.onClick,E=a.onDownArrow,F=a.onEnter,G=a.onEscape,H=a.onFocus,I=a.onShiftTab,J=a.onTab,K=a.onUpArrow,L=a.queryString,M=a.inputRef,N=a.tokensStrategyRenderer,O=a.viewStrategyRenderer,P=a.xstyles,Q=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","extraLayoutProps","errorMessage","commandConfigs","selectedEntries","inputStrategyRenderer","isDisabled","label","layerContext","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","tokensStrategyRenderer","viewStrategyRenderer","xstyles"]);a=c("useCometTypeaheadInputRefs")(M);M=a.composedRef;a=a.inputRef;var R=k(null),S=k(null),T=c("useResizeObserver")(function(){S.current!=null&&S.current.reposition({autoflip:!g.disableAutoFlip})}),U=c("useCometInternalTypeaheadState")(),V=U.activeEntries,W=U.highlightedEntry;U=z==="input"?a.current:R.current;var X=c("cometHandleHighlightDropOnMouseLeave")(Q.onHighlightEntry);z=c("useCometAccessibilityAlerts")();a=z[0];var Y=z[1],Z=k();j(function(){var a,b=(a=Z.current)!=null?a:[];if(v&&b.length<v.length){a=v.filter(function(a){return!b.includes(a)});Y(h._("__JHASH__B4tEJ9D88a9__JHASH__",[h._param("entry",c("intlList")(a.map(function(a){return a.label}),c("intlList").CONJUNCTIONS.AND).toString())]))}else if(b.length>v.length){a=b.filter(function(a){return!v.includes(a)});Y(h._("__JHASH__E2ufigyYww2__JHASH__",[h._param("entries",c("intlList")(a.map(function(a){return a.label}),c("intlList").CONJUNCTIONS.AND).toString())]))}Z.current=v},[v,Y]);return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:c("stylex")(P==null?void 0:P.layoutXStyle),ref:R,children:i.jsxs("div",{className:c("stylex")(P==null?void 0:P.inputXStyle),onClick:D,ref:T,role:"presentation",children:[a,i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:u,onBackspace:A,onBlur:B,onChange:C,onClick:c("emptyFunction"),onDownArrow:E,onEnter:F,onEscape:G,onFocus:H,onShiftTab:I,onTab:J,onUpArrow:K,ref:M,children:function(a,b){return i.jsx(w,babelHelpers["extends"]({},b,{ariaProps:q,autoFocus:Q.autoFocus,description:n,errorMessage:t,id:Q.id,inputEndContent:Q.inputEndContent,inputExtraProps:Q.inputExtraProps,inputStartContent:v.length>0?i.jsx(N,{isDisabled:x,onPress:Q.onRemoveEntry,tokens:v}):null,isDisabled:x,label:y,placeholder:Q.placeholder,queryString:L,ref:a,testid:void 0}))}})})]})}),o!=null&&i.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},p,{children:o})),i.jsx(c("CometHeroHoldTrigger.react"),{description:m,hold:!(U!=null&&b!==!1)||U!=null&&b!==!1&&V.length===0}),U&&b&&i.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},g,{align:e,context_DEPRECATED:U,position:f,ref:S,children:i.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:Q.onOutsideClick,children:function(a){return i.jsxs("div",{className:c("stylex")([l.view,P==null?void 0:P.viewXStyle_DO_NOT_USE]),onMouseLeave:X,ref:a,children:[i.jsx(O,{ariaProps:r,entries:V,extraViewProps:Q.extraViewProps,highlightedEntry:W,isLoading:s,onHighlightEntry:Q.onHighlightEntry,onPressEntry:Q.onPressEntry,queryString:L}),i.jsx(c("CometHeroHoldTrigger.react"),{description:m,hold:s&&V.length===0})]})}})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutInlineStrategyHandlers",["react","useCometTokenizerLayoutStrategyOnBackspaceHandler","useCometTokenizerLayoutStrategyOnEnterHandler","useCometTokenizerLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.handlers,d=b.onBackspace,e=b.onBlur,f=b.onChange,g=b.onDownArrow,i=b.onEnter,j=b.onEscape,k=b.onHighlightEntry,l=b.onOutsideClick,m=b.onPressEntry,n=b.onRemoveEntry;b=b.onUpArrow;var o=a.inputRef;a=a.selectedEntries;k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")({onHighlightEntry:k});d=c("useCometTokenizerLayoutStrategyOnBackspaceHandler")({inputRef:o,onBackspace:d,onRemoveEntry:n,selectedEntries:a});a=c("useCometTypeaheadLayoutStrategyOnBlurHandler")({onBlur:e});var p=c("useCometTypeaheadLayoutStrategyOnChangeHandler")({onChange:f,onHighlightEntry:k});e=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")({onDownArrow:g,onHighlightEntry:k});g=c("useCometTokenizerLayoutStrategyOnEnterHandler")({onEnter:i});i=h(function(){p(""),j&&j()},[p,j]);f=c("useCometTokenizerLayoutStrategyOnPressEntryHandler")({inputRef:o,onChange:f,onPressEntry:m});m=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")({inputRef:o,onOutsideClick:l});o=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")({onHighlightEntry:k,onUpArrow:b});return{onBackspace:d,onBlur:a,onChange:p,onDownArrow:e,onEnter:g,onEscape:i,onHighlightEntry:k,onOutsideClick:m,onPressEntry:f,onRemoveEntry:n,onUpArrow:o}}g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutContextualStrategyHandlers",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.handlers,d=b.onAbandonTypeahead_DO_NOT_USE,e=b.onClick,f=b.onOutsideClick,g=b.onShiftTab,i=b.onTab;b=babelHelpers.objectWithoutPropertiesLoose(b,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]);var j=a.inputRef,k=a.isDisabled,l=a.queryString;a=a.selectedEntries;var m=c("useBaseTypeaheadLayoutContextualStrategyStateContext")(),n=m.dispatchIsOpened,o=m.isOpened;m=c("useCometInternalTypeaheadStateDispatcher")();var p=m.dispatchActiveEntries,q=m.dispatchHighlightedEntry;m=h(function(){n(!1),f&&f()},[n,f]);m=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({handlers:babelHelpers["extends"]({onOutsideClick:m},b),inputRef:j,selectedEntries:a});var r=m.onBackspace;b=m.onBlur;var s=m.onChange,t=m.onDownArrow,u=m.onEnter,v=m.onEscape;a=m.onHighlightEntry;var w=m.onOutsideClick,x=m.onPressEntry,y=m.onRemoveEntry,z=m.onUpArrow;m=h(function(){n(!1),d&&d()},[n,d]);var A=h(function(){l.length===0&&n(!1),r&&r()},[n,r,l.length]),B=h(function(a){n(!0),s&&s(a)},[n,s]),C=h(function(){!o&&!Boolean(k)&&n(!0),j.current&&j.current.focus(),e&&e()},[o,k,j,e,n]),D=h(function(){n(!1),q({entry:null,source:null}),p([]),u&&u()},[p,q,n,u]),E=h(function(){n(!1),v&&v()},[n,v]),F=h(function(){o?t&&t():n(!0)},[n,o,t]),G=h(function(a,b){n(!1),p([]),x&&x(a,b)},[p,n,x]),H=h(function(a){n(!1),y&&y(a)},[n,y]),I=h(function(){n(!1),g&&g()},[n,g]),J=h(function(){n(!1),i&&i()},[n,i]),K=h(function(){!o?n(!0):z&&z()},[n,o,z]);return{onAbandonTypeahead_DO_NOT_USE:m,onBackspace:A,onBlur:b,onChange:B,onClick:C,onDownArrow:F,onEnter:D,onEscape:E,onHighlightEntry:a,onOutsideClick:w,onPressEntry:G,onRemoveEntry:H,onShiftTab:I,onTab:J,onUpArrow:K}}g["default"]=a}),98);
__d("CometTokenizerTokenListStrategy.react",["fbt","CometFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.isDisabled,c=a.onPress,e=a.tokens,f=a.tokenStrategyRenderer;return i.jsx(d("CometFocusTable.react").CometFocusTable,{elementType:"span",label:h._("__JHASH__JsJP4UWjJGj__JHASH__"),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,wrapY:!0,children:e.map(function(a,e){return i.jsx(d("CometFocusTable.react").CometFocusRow,{children:i.jsx("div",{className:"x1rg5ohu x1gslohp xw3qccf x12nagc xsgj6o6",role:"row",children:i.jsx(d("CometFocusTable.react").CometFocusCell,{children:i.jsx("span",{role:"gridcell",children:i.jsx(f,{isDisabled:b,onPress:c,token:a})})})})},e)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerListTokenStrategy",["CometTokenizerTokenListStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.tokenItemRenderer;a=a.tokenListRenderer;var d=a===void 0?c("CometTokenizerTokenListStrategy.react"):a;return i(function(a){a=babelHelpers["extends"]({},a);return h.jsx(d,babelHelpers["extends"]({tokenStrategyRenderer:b},a))},[b,d])}g["default"]=a}),98);
__d("CometInternalTokenizerFetchContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({fetch:c("emptyFunction"),isLoading:!1,refetch:c("emptyFunction"),source:"all"});g["default"]=b}),98);
__d("useCometInternalTokenizerFetch",["CometInternalTokenizerFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("CometInternalTokenizerFetchContext"))}g["default"]=a}),98);
__d("useCometInternalTokenizerFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.selectedTokens,f=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var g=a.isOpened;a=c("useCometInternalTypeaheadState")();var j=a.activeEntries;a=c("useCometInternalTokenizerFetch")();var k=a.fetch;a=h(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:j,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a,selectedTokens:e}:{perfTraceAPI:c,query:a,selectedTokens:e};k(d)}var c=d.trimLeft();if(!g)return;f?f.trace(function(b){return a(c,b)},c):a(c)},[j,k,g,b,d,e,f]);i(a,[g,d,e])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnBlurLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onBlur,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(){b!=null&&b.isSessionActive()&&(b.addEvent({action:"abandon",entries:f,queryString:e},"useCometInternalTypeaheadOnBlurLoggingHandler"),b.endSession()),d&&d()},[f,b,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternal.react",["emptyFunction","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetchHandler","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnBlurLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.inputRef,d=a.layoutStrategyRenderer,e=a.loggingProvider,f=a.onBlur,g=a.onChange,j=a.onEnter,k=a.onFocus,l=a.onPressEntry,m=a.onSearchCompletion,n=a.onSelectFreeformQuery,o=a.onShiftTab,p=a.onTab,q=a.queryString,r=a.selectedEntries,s=a.traceProvider;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onBlur","onChange","onEnter","onFocus","onPressEntry","onSearchCompletion","onSelectFreeformQuery","onShiftTab","onTab","queryString","selectedEntries","traceProvider"]);b=c("useCometTypeaheadInputRefs")(b);var t=b.composedRef,u=b.inputRef;b=c("useCometInternalTypeaheadState")();var v=b.highlightedEntry,w=b.highlightedEntrySource;b=c("useCometInternalTypeaheadStateDispatcher")();var x=b.dispatchHighlightedEntry;b=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var y=b.dispatchIsOpened;c("useCometInternalTokenizerFetchHandler")({loggingProvider:e,queryString:q,selectedTokens:r,traceProvider:s});b=c("useCometInternalTypeaheadOnBlurLoggingHandler")({loggingProvider:e,onBlur:f,queryString:q});s=c("useCometInternalTypeaheadOnFocusLoggingHandler")({loggingProvider:e,onFocus:k,queryString:q});f=c("useCometInternalTypeaheadOnEnterLoggingHandler")({loggingProvider:e,onEnter:i(function(){if(v!=null&&w==="keyboard")u.current&&u.current.focus(),l&&l(v);else{var a;a=(a=u.current)==null?void 0:a.value;if(a==="")m&&m();else{n&&n((a=a)!=null?a:"")}}x({entry:null,source:null});g("");j&&j()},[v,w,x,g,j,u,l,m,n]),queryString:q});k=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")({loggingProvider:e,onPressEntry:l,queryString:q});var z=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){y(!1),o&&o()},[y,o]),loggingProvider:e,queryString:q}),A=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){y(!1),p&&p()},[y,p]),loggingProvider:e,queryString:q}),B=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});e=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});return h.jsx(d,babelHelpers["extends"]({},a,{inputRef:t,onAbandonTypeahead_DO_NOT_USE:e,onBlur:b,onChange:g,onClick:c("emptyFunction"),onEnter:f,onFocus:s,onOutsideClick:B,onPressEntry:k,onShiftTab:z,onTab:A,queryString:q,selectedEntries:r}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("exif-js-2.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(){var a=!1,b=this,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this.EXIFwrapped=a};typeof g!=="undefined"?(typeof h!=="undefined"&&h.exports&&(g=h.exports=c),g.EXIF=c):b.EXIF=c;var d=c.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},e=c.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},f=c.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},j=c.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},k=c.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(a){return!!a.exifdata}function m(a,b){b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"";a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");b=atob(a);a=b.length;var c=new ArrayBuffer(a),d=new Uint8Array(c);for(var e=0;e<a;e++)d[e]=b.charCodeAt(e);return c}function n(a,b){var c=new XMLHttpRequest();c.open("GET",a,!0);c.responseType="blob";c.onload=function(a){(this.status==200||this.status===0)&&b(this.response)};c.send()}function o(b,d){function e(a){var e=p(a);b.exifdata=e||{};e=q(a);b.iptcdata=e||{};if(c.isXmpEnabled){e=z(a);b.xmpdata=e||{}}d&&d.call(b)}if(b.src)if(/^data\:/i.test(b.src)){var f=m(b.src);e(f)}else if(/^blob\:/i.test(b.src)){var g=new FileReader();g.onload=function(a){e(a.target.result)};n(b.src,function(a){g.readAsArrayBuffer(a)})}else{var h=new XMLHttpRequest();h.onload=function(){if(this.status==200||this.status===0)e(h.response);else throw"Could not load image";h=null};h.open("GET",b.src,!0);h.responseType="arraybuffer";h.send(null)}else if(self.FileReader&&(b instanceof self.Blob||b instanceof self.File)){var g=new FileReader();g.onload=function(b){a&&!1,e(b.target.result)};g.readAsArrayBuffer(b)}}function p(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e;while(d<b){if(c.getUint8(d)!=255){a&&!1;return!1}e=c.getUint8(d+1);a&&!1;if(e==225){a&&!1;return y(c,d+4,c.getUint16(d+2)-2)}else d+=2+c.getUint16(d+2)}}function q(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2,e=b.byteLength,f=function(a,b){return a.getUint8(b)===56&&a.getUint8(b+1)===66&&a.getUint8(b+2)===73&&a.getUint8(b+3)===77&&a.getUint8(b+4)===4&&a.getUint8(b+5)===4};while(d<e){if(f(c,d)){var g=c.getUint8(d+7);g%2!==0&&(g+=1);g===0&&(g=4);var h=d+8+g;g=c.getUint16(d+6+g);return s(b,h,g);break}d++}}var r={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function s(a,b,c){a=new DataView(a);var d={},e,f,g=b;while(g<b+c)a.getUint8(g)===28&&a.getUint8(g+1)===2&&(f=a.getUint8(g+2),f in r&&(e=a.getInt16(g+3),f=r[f],e=x(a,g+5,e),d.hasOwnProperty(f)?d[f]instanceof Array?d[f].push(e):d[f]=[d[f],e]:d[f]=e)),g++;return d}function t(b,c,d,e,f){var g=b.getUint16(d,!f),h={},i,j,k;for(k=0;k<g;k++)i=d+k*12+2,j=e[b.getUint16(i,!f)],!j&&a&&!1,h[j]=u(b,i,c,d,f);return h}function u(a,b,c,d,e){d=a.getUint16(b+2,!e);var f=a.getUint32(b+4,!e);c=a.getUint32(b+8,!e)+c;var g,h,i,j;switch(d){case 1:case 7:if(f==1)return a.getUint8(b+8,!e);else{d=f>4?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint8(d+i);return g}case 2:d=f>4?c:b+8;return x(a,d,f-1);case 3:if(f==1)return a.getUint16(b+8,!e);else{d=f>2?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint16(d+2*i,!e);return g}case 4:if(f==1)return a.getUint32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getUint32(c+4*i,!e);return g}case 5:if(f==1){d=a.getUint32(c,!e);j=a.getUint32(c+4,!e);h=new Number(d/j);h.numerator=d;h.denominator=j;return h}else{g=[];for(i=0;i<f;i++)d=a.getUint32(c+8*i,!e),j=a.getUint32(c+4+8*i,!e),g[i]=new Number(d/j),g[i].numerator=d,g[i].denominator=j;return g}case 9:if(f==1)return a.getInt32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+4*i,!e);return g}case 10:if(f==1)return a.getInt32(c,!e)/a.getInt32(c+4,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+8*i,!e)/a.getInt32(c+4+8*i,!e);return g}}}function v(a,b,c){var d=a.getUint16(b,!c);return a.getUint32(b+2+d*12,!c)}function w(a,b,c,d){c=v(a,b+c,d);if(!c)return{};else if(c>a.byteLength)return{};c=t(a,b,b+c,j,d);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){d=b+c.JpegIFOffset;b=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(a.buffer,d,b)],{type:"image/jpeg"})}break;case 1:break;default:}else c.PhotometricInterpretation==2;return c}function x(a,b,c){var d="";for(var e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}function y(b,c){if(x(b,c,4)!="Exif"){a&&!1;return!1}var g,h,i,j;c=c+6;if(b.getUint16(c)==18761)g=!1;else if(b.getUint16(c)==19789)g=!0;else{a&&!1;return!1}if(b.getUint16(c+2,!g)!=42){a&&!1;return!1}var l=b.getUint32(c+4,!g);if(l<8){a&&!1;return!1}h=t(b,c,c+l,e,g);if(h.ExifIFDPointer){j=t(b,c,c+h.ExifIFDPointer,d,g);for(i in j){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":j[i]=k[i][j[i]];break;case"ExifVersion":case"FlashpixVersion":j[i]=String.fromCharCode(j[i][0],j[i][1],j[i][2],j[i][3]);break;case"ComponentsConfiguration":j[i]=k.Components[j[i][0]]+k.Components[j[i][1]]+k.Components[j[i][2]]+k.Components[j[i][3]];break}h[i]=j[i]}}if(h.GPSInfoIFDPointer){j=t(b,c,c+h.GPSInfoIFDPointer,f,g);for(i in j){switch(i){case"GPSVersionID":j[i]=j[i][0]+"."+j[i][1]+"."+j[i][2]+"."+j[i][3];break}h[i]=j[i]}}h.thumbnail=w(b,c,l,g);return h}function z(b){if(!("DOMParser"in self))return;var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e=new DOMParser();while(d<b-4)if(x(c,d,4)=="http"){var f=d-1,g=c.getUint16(d-2)-1;f=x(c,f,g);g=f.indexOf("xmpmeta>")+8;f=f.substring(f.indexOf("<x:xmpmeta"),g);g=f.indexOf("x:xmpmeta")+10;f=f.slice(0,g)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+f.slice(g);g=e.parseFromString(f,"text/xml");return B(g)}else d++}function A(a){var b={};if(a.nodeType==1){if(a.attributes.length>0){b["@attributes"]={};for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@attributes"][d.nodeName]=d.nodeValue}}}else if(a.nodeType==3)return a.nodeValue;if(a.hasChildNodes())for(d=0;d<a.childNodes.length;d++){c=a.childNodes.item(d);var e=c.nodeName;if(b[e]==null)b[e]=A(c);else{if(b[e].push==null){var f=b[e];b[e]=[];b[e].push(f)}b[e].push(A(c))}}return b}function B(a){try{var b={};if(a.children.length>0)for(var c=0;c<a.children.length;c++){var d=a.children.item(c),e=d.attributes;for(var f in e){var g=e[f],h=g.nodeName;g=g.nodeValue;h!==void 0&&(b[h]=g)}h=d.nodeName;if(typeof b[h]=="undefined")b[h]=A(d);else{if(typeof b[h].push=="undefined"){g=b[h];b[h]=[];b[h].push(g)}b[h].push(A(d))}}else b=a.textContent;return b}catch(a){}}c.enableXmp=function(){c.isXmpEnabled=!0};c.disableXmp=function(){c.isXmpEnabled=!1};c.getData=function(a,b){if((self.Image&&a instanceof self.Image||self.HTMLImageElement&&a instanceof self.HTMLImageElement)&&!a.complete)return!1;!l(a)?o(a,b):b&&b.call(a);return!0};c.getTag=function(a,b){if(!l(a))return;return a.exifdata[b]};c.getIptcTag=function(a,b){if(!l(a))return;return a.iptcdata[b]};c.getAllTags=function(a){if(!l(a))return{};var b;a=a.exifdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.getAllIptcTags=function(a){if(!l(a))return{};var b;a=a.iptcdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.pretty=function(a){if(!l(a))return"";var b;a=a.exifdata;var c="";for(b in a)a.hasOwnProperty(b)&&(typeof a[b]=="object"?a[b]instanceof Number?c+=b+" : "+a[b]+" ["+a[b].numerator+"/"+a[b].denominator+"]\r\n":c+=b+" : ["+a[b].length+" values]\r\n":c+=b+" : "+a[b]+"\r\n");return c};c.readFromBinaryFile=function(a){return p(a)};typeof i==="function"&&i.amd&&i("exif-js",[],function(){return c})}).call(this)}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
__d("exif-js",["exif-js-2.3.0"],(function(a,b,c,d,e,f){e.exports=b("exif-js-2.3.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("remove-accents-0.4.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},b=Object.keys(a).join("|"),c=new RegExp(b,"g"),d=new RegExp(b,"");b=function(b){return b.replace(c,function(b){return a[b]})};var e=function(a){return!!a.match(d)};g.exports=b;g.exports.has=e;g.exports.remove=b}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("remove-accents",["remove-accents-0.4.2"],(function(a,b,c,d,e,f){e.exports=b("remove-accents-0.4.2")()}),null);/*FB_PKG_DELIM*/
__d("MWLightSpeedChatContactsTabs.bs",["fbt","CometTabs.react","gkx","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{display:"x78zum5",flexDirection:"xdt5ytf",maxHeight:"xmz0i5r",$$css:!0},tab:{display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",width:"xl0us3e",$$css:!0},tabsContainer:{boxShadow:"x1md01qi",$$css:!0},thinTab:{width:"x18664gs",$$css:!0}};function a(a){a=a.children;var b=[{label:h._("__JHASH__tpQTD5AaD3c__JHASH__"),onPress:function(a){},selected:!0,underlineColor:"var(--accent)",xstyle:[j.tab,c("qex")._("1499")===!0?j.thinTab:!1]}];return i.jsxs("div",{className:"x78zum5 xdt5ytf xmz0i5r",children:[c("gkx")("4671")?null:i.jsx("div",{className:"x1md01qi",children:i.jsx(c("CometTabs.react"),{tabs:b})}),a]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWLightSpeedChatTabSuggestedContacts.bs",["fbt","ActorHovercard.react","CometFacepilePhoto.react","CometMiddot.react","CometScrollableArea.react","MDSListCell.react","MDSLockSvgIcon.bs","MDSTextPairing.react","MWText.react","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={contactsList:{paddingTop:"x1y1aw1k",$$css:!0},listCell:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},lockIcon:{display:"x1rg5ohu",marginEnd:"xgnuv6c",verticalAlign:"xxymvpz",$$css:!0}};function a(a){var b=a.setTokens;a=a.tokens;return i.jsx(c("CometScrollableArea.react"),{horizontal:!0,xstyle:j.contactsList,children:i.jsx("ul",{children:a.map(function(a){var d=a.rawData,e=d.id,f=d.displayName,g=d.imageUrl,j=i.jsx(c("CometFacepilePhoto.react"),{size:36,sources:[{alt:f,disabled:!1,source:g}],totalItems:1}),k;if(!c("gkx")("3711")&&d.isE2e)k=c("bs_caml_option").some(i.jsxs(c("MWText.react"),{numberOfLines:1,type:"meta4",children:[i.jsx("span",{className:"x1rg5ohu xgnuv6c xxymvpz",children:i.jsx(c("MDSLockSvgIcon.bs"),{color:"black",size:12})}),h._("__JHASH__JZiAjvwn3FT__JHASH__")]}));else{g=d.subtext;d=d.isInstagramAccount===!0;k=d&&g!==""?c("bs_caml_option").some(i.jsxs(c("MWText.react"),{numberOfLines:1,type:"meta4",children:[g,i.jsx(c("CometMiddot.react"),{}),"Instagram"]})):void 0}return i.jsx("li",{className:"xurb0ha x1sxyh0",children:i.jsx(c("ActorHovercard.react"),{actorID:e,position:"start",children:function(d){var e={headline:f,level:4,reduceEmphasis:!0};k!==void 0&&(e.meta=c("bs_caml_option").valFromOption(k));return i.jsx(c("MDSListCell.react"),{addOnStart:j,content:i.jsx(c("MDSTextPairing.react"),babelHelpers["extends"]({},e)),disabled:!1,onPress:function(d){return c("bs_curry")._1(b,function(b){return[a]})},ref:d,selected:!1,size:"medium",testid:void 0})}})},e)})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWLightSpeedChatTabContactsContainer.bs",["MNetRankType.bs","MWChatSearchFetchContactRecommendations.bs","MWLightSpeedChatContactsTabs.bs","MWLightSpeedChatTabSuggestedContacts.bs","createMWChatSearchTypeaheadDataEntry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isSearchView;a=a.setTokens;var e=d("MWChatSearchFetchContactRecommendations.bs").useHook(d("MNetRankType.bs").messengerUserSearchNullstate),f=h.useMemo(function(){return e.map(function(a){return c("createMWChatSearchTypeaheadDataEntry")(a[0])})},[e]);if(b)return null;else return h.jsx(d("MWLightSpeedChatContactsTabs.bs").make,{children:h.jsx(d("MWLightSpeedChatTabSuggestedContacts.bs").make,{setTokens:a,tokens:f})})}b=a;g.make=b}),98);
__d("MWChatTabTokenizerInternalLayoutInlineStrategy.react",["CometScrollableArea.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadKeyboardForScrollableArea","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"x1jx94hy",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0},viewHidden:{pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0}};function a(a){var b=a.commandConfigs,d=a.extraLayoutProps,e=d.afterViewContent,f=d.ariaProps,g=f.ariaDescribedByProps,j=f.ariaInputProps,k=f.ariaViewProps;f=d.beforeViewContent;var l=d.helperTextComponent,m=d.isLoading;d=d.isOpened;var n=a.description,o=a.errorMessage,p=a.inputStrategyRenderer,q=a.inputRef,r=a.isDisabled,s=a.label,t=a.onBackspace,u=a.onBlur,v=a.onChange,w=a.onDownArrow,x=a.onEnter,y=a.onEscape,z=a.onFocus,A=a.onShiftTab,B=a.onTab,C=a.onUpArrow,D=a.queryString,E=a.selectedEntries,F=a.tokensStrategyRenderer,G=a.viewStrategyRenderer,H=a.xstyles;H=H===void 0?{}:H;var I=a.extraViewProps,J=babelHelpers.objectWithoutPropertiesLoose(a,["commandConfigs","extraLayoutProps","description","errorMessage","inputStrategyRenderer","inputRef","isDisabled","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","selectedEntries","tokensStrategyRenderer","viewStrategyRenderer","xstyles","extraViewProps"]);a=c("useCometInternalTypeaheadState")();var K=a.activeEntries,L=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:d,xstyles:H});H=a.inputXStyle;var M=a.layoutXStyle,N=a.viewXStyle_DO_NOT_USE,O=c("useCometTypeaheadKeyboardForScrollableArea")(L),P=c("cometHandleHighlightDropOnMouseLeave")(J.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(M),children:[h.jsx("div",{className:c("stylex")(H),onClick:J.onClick,role:"presentation",children:h.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:b,onBackspace:t,onBlur:u,onChange:v,onClick:c("emptyFunction"),onDownArrow:w,onEnter:x,onEscape:y,onFocus:z,onShiftTab:A,onTab:B,onUpArrow:C,ref:q,children:function(a,b){return h.jsx(p,babelHelpers["extends"]({description:n},b,{ariaProps:j,autoFocus:J.autoFocus,errorMessage:o,id:J.id,inputEndContent:J.inputEndContent,inputExtraProps:J.inputExtraProps,inputStartContent:h.jsx(F,{isDisabled:r,onPress:J.onRemoveEntry,tokens:E}),isDisabled:r,label:s,placeholder:E.length>0?null:J.placeholder,queryString:D,ref:a,testid:void 0}))}})}),l!=null&&h.jsx("div",babelHelpers["extends"]({},g,{children:l})),f,d&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:J.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")([i.view,N,K.length===0&&!m&&i.viewHidden]),onMouseLeave:P,ref:a,children:h.jsx(c("CometScrollableArea.react"),{horizontal:!1,ref:O,children:h.jsx(G,{ariaProps:k,entries:K,extraViewProps:I,highlightedEntry:L,isLoading:m,onHighlightEntry:J.onHighlightEntry,onPressEntry:J.onPressEntry,queryString:D})})})}}),e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabTokenizerBaseLayoutInlineStrategy.react",["CometTypeaheadHelperText.react","MWChatTabTokenizerInternalLayoutInlineStrategy.react","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetch","useCometInternalTypeaheadState","useCometTokenizerInternalLayoutInlineStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.extraLayoutProps;b=b===void 0?{}:b;var d=b.afterViewContent;b=b.beforeViewContent;var e=a.helperText,f=a.inputRef,g=a.label,j=a.onBackspace,k=a.onBlur,l=a.onChange,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,q=a.onOutsideClick,r=a.onPressEntry,s=a.onRemoveEntry,t=a.onUpArrow,u=a.viewRole,v=a.selectedEntries;a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","inputRef","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onUpArrow","viewRole","selectedEntries"]);var w=c("useCometInternalTokenizerFetch")();w=w.isLoading;var x=c("useCometInternalTypeaheadState")(),y=x.activeEntries;x=x.highlightedEntry;var z=c("useBaseTypeaheadLayoutContextualStrategyStateContext")(),A=z.dispatchIsOpened;i(function(){A(!0)},[A]);z=c("useCometTypeaheadInputRefs")(f);f=z.composedRef;z=z.inputRef;j=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({handlers:{onBackspace:j,onBlur:k,onChange:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onOutsideClick:q,onPressEntry:r,onRemoveEntry:s,onUpArrow:t},inputRef:z,selectedEntries:v});k=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:y,helperText:e,highlightedEntry:x,inputLabel:g,isOpened:!0,viewRole:u});return h.jsx(c("MWChatTabTokenizerInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},a,j,{extraLayoutProps:{afterViewContent:d,ariaProps:k,beforeViewContent:b,helperTextComponent:e!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:e}):null,isLoading:w,isOpened:!0},inputRef:f,label:g,selectedEntries:v,viewRole:u}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabsTokenizerLayoutInlineStrategy.react",["fbt","MWChatTabTokenizerBaseLayoutInlineStrategy.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={layout:{width:"xi55695",$$css:!0},layoutContainer:{borderBottom:"xdppsyt",display:"x78zum5",$$css:!0},root:{position:"x1n2onr6",$$css:!0},to:{color:"xzsf02u",fontSize:"x6prxxf",fontWeight:"x1fcty0u",lineHeight:"xvq8zen",marginStart:"x1d52u69",marginTop:"x1xmf6yo",zIndex:"x1n327nk",$$css:!0},typeaheadInput:{backgroundColor:"xcrg951",boxSizing:"x9f619",display:"x1lliihq",paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},view:{backgroundColor:"xcrg951",height:"xl6hnh8",maxHeight:"xj8ehma",position:"x10l6tqk",start:"xmh0m78",top:"xdsb8wn",width:"xi55695",zIndex:"xhtitgo","@media (min-height: 1280px)_height":"x460g69",$$css:!0}};function a(){return function(a){var b=a.xstyles;b=b===void 0?{}:b;var d=b.viewXStyle_DO_NOT_USE;b=babelHelpers.objectWithoutPropertiesLoose(a,["xstyles"]);a=j(function(){return{inputXStyle:[k.typeaheadInput],layoutXStyle:[k.layout],viewXStyle_DO_NOT_USE:[k.view,d]}},[d]);return i.jsxs("div",{className:"x1n2onr6",children:[i.jsxs("div",{className:"xdppsyt x78zum5",children:[i.jsx("div",{"aria-hidden":"true",className:"xzsf02u x6prxxf x1fcty0u xvq8zen x1d52u69 x1xmf6yo x1n327nk",children:h._("__JHASH__6UNdxXc7Mre__JHASH__")}),i.jsx(c("MWChatTabTokenizerBaseLayoutInlineStrategy.react"),babelHelpers["extends"]({},b,{contextualProps:{align:"start",disableAutoFlip:!0},label:h._("__JHASH__dp6PXfW93vj__JHASH__"),layerContext:"root",xstyles:a}))]}),(a=b.extraLayoutProps)==null?void 0:a.footer]})}}g.createMWChatTabsTokenizerLayoutInlineStrategy=a}),98);
__d("MWV2ComposeTabHeader.bs",["fbt","MWPThreadTheme.bs","MWText.react","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2IsTabFocusedContext.bs","UseMWV2CloseTab.bs","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return i.jsx("div",{className:"x1sln4lm",children:i.jsx(c("MWText.react"),{type:"headline4",children:h._("__JHASH__uhF6__U4Uqu__JHASH__")})})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};function a(a){var b=a.tab;a=a.thread;var e=d("UseMWV2CloseTab.bs").useHook(a,b);a=d("MWV2IsTabFocusedContext.bs").useContext();b=d("MWPThreadTheme.bs").useTop();a=a?b:"#BEC2C9";return i.jsx(d("MWV2HeaderContainer.bs").make,{divider:!1,endContent:i.jsx(d("MWV2HeaderCloseButton.bs").make,{color:a,label:h._("__JHASH__1QV0CKBqQm1__JHASH__"),onPress:function(a){return c("bs_curry")._1(e)}}),startContent:i.jsx(j,{})})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.ComposeTabTitle=f;g.make=a}),98);
__d("MWV2ComposeTab.bs",["BootloaderResource","CometPlaceholder.react","CometProgressRingIndeterminate.react","JSResource","LSDatabaseDeferred.bs","MAWGating","MAWVerifyThreadCutover.bs","MWChatLightSpeedSearchTypeahead.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTabsTokenizerLayoutInlineStrategy.react","MWChatTemporarySearchResult.bs","MWChatTokenizerTokenStrategy.react","MWInteropTokenUtils.bs","MWLightSpeedChatTabContactsContainer.bs","MWOpenAndSecureThreadView.bs","MWPNewMessageDraftContext.bs","MWPReplyContext.bs","MWPThreadTheme.bs","MWSearchTypeaheadViewItemDisabledHook.bs","MWThreadListNewMessageHook.bs","MWV2ChatTabComposer.bs","MWV2ComposeTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2FileDropzone.bs","MWV2NewThreadUtils.bs","MWV2TabContainer.bs","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1599","createMWChatSearchTypeaheadDataEntry","gkx","promiseDone","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResource")("MWPThreadPreview.bs").__setRef("MWV2ComposeTab.bs");function j(a,b,d,e,f,g,h,i,j){j={areWeCreatingASecureThread:b,children:i,renderThreadView:f,setPreviewThread:d,tokens:a};e!==void 0&&(j.nullstate=c("bs_caml_option").valFromOption(e));g!==void 0&&(j.renderThreadPreview=c("bs_caml_option").valFromOption(g));h!==void 0&&(j.checkExistingThreads=c("bs_caml_option").valFromOption(h));return j}function k(a){return h.createElement(d("BootloaderResource").read(i).make,a)}e={make:k,makeProps:j,reasonResource:i};function l(a,b){return c("createMWChatSearchTypeaheadDataEntry")(d("MWChatTemporarySearchResult.bs").fromContact(void 0,b,a))}function m(a){var b=a.length,e=c("usePrevious")(b);a=h.useContext(d("MWPReplyContext.bs").context);var f=a.clearReply;h.useEffect(function(){!(e==null)&&b!==e&&c("bs_curry")._2(f,c("bs_caml_int64").zero,!0)},[b,e,f])}var n=d("MAWGating").isTlcSearchEnabled();function a(a){var e=a.initialTokens,f=a.tab;d("MWV2NewThreadUtils.bs").useSyncRanking();a=h.useState(function(){});var g=a[0],i=f.tabType,o;o=i.TAG===0?i._1:!1;var p=c("gkx")("2761")&&d("MAWGating").isArmadillo();i=h.useState(function(){if(p)return!0;else return o});var q=i[1],r=i[0];i=e.map(function(a){return l(a,r)});e=d("MWV2NewThreadUtils.bs").useTokens(i,r);var s=e[1],t=e[0];i=d("MWV2NewThreadUtils.bs").useTokensShimmed(t,r);d("MWThreadListNewMessageHook.bs").useHook(t);m(t);var u=h.useState(function(){return!1}),v=u[1],w=d("MWChatStateV2.bs").useDispatch(),x=function(a){return c("bs_curry")._1(w,d("MWChatStateActions.bs").lockInTab(Date.now(),f.tabId,a))};x=d("MWV2NewThreadUtils.bs").useOnAddToken(r,v,x,q);var y=h.useCallback(function(a){return c("bs_curry")._1(v,function(a){return!0})},[v]),z=h.useMemo(function(){return d("MWChatTabsTokenizerLayoutInlineStrategy.react").createMWChatTabsTokenizerLayoutInlineStrategy(!0)},[]),A=d("MWSearchTypeaheadViewItemDisabledHook.bs").useIsDisabled(t,r),B=h.useMemo(function(){return t.some(d("MWInteropTokenUtils.bs").isInterop)},[t]);h.useEffect(function(){if(n&&t.length===1){var a=t[0];a=a.rawData;if(a.isE2e)c("bs_curry")._1(q,function(a){return!0});else{var b=a.otherUserId;b=b!==void 0?b:a.id;a=d("MAWVerifyThreadCutover.bs").verifyThreadCutover(d("LSDatabaseDeferred.bs").db,c("bs_caml_format").caml_int64_of_string(b)).then(function(a){return c("bs_curry")._1(q,function(b){return a})});c("promiseDone")(a)}}},[t,q]);var C=h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k",children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})}),children:h.jsx(d("MWLightSpeedChatTabContactsContainer.bs").make,{isSearchView:!1,setTokens:function(a){return c("bs_curry")._1(s,c("bs_curry")._1(a,[]))}})}),D=h.useMemo(function(){return{footer:b("cr:1599")==null?null:h.jsx("div",{className:"x7m3og9 x1pi30zi x1swvt13 xyinxu5 x1g2khh7 xjl7jj",children:h.jsx(b("cr:1599").make,{areWeCreatingASecureThread:r,disabled:B,setAreWeCreatingASecureThread:q,stretch:!0})})}},[r,q,B]),E={tab:f};g!==void 0&&(E.thread=c("bs_caml_option").valFromOption(g));if(g!==void 0){var F=g.clientThreadKey;F=c("bs_int64").to_string(F!==void 0?F:g.threadKey);y=h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("MWPThreadTheme.bs").make,{themeFbid:g.themeFbid,children:h.jsx(d("MWV2ChatTabComposer.bs").make,{afterSendMessage:y,isPreviewThread:!0,secureThreadToggle:r,tab:f,thread:g},F)})})}else y=null;F={children:h.jsxs("div",{className:"x78zum5 xdt5ytf x5yr21d x1ja2u2z",children:[h.jsx(d("MWV2ComposeTabHeader.bs").make,babelHelpers["extends"]({},E)),h.jsxs(d("MWV2FileDropzone.bs").make,{isMediaOnly:B,thread:g,children:[h.jsx(d("MWChatLightSpeedSearchTypeahead.bs").make,{excludedIDs:e[2],extraLayoutProps:D,getIsViewItemDisabled:A,includeRecommendations:!1,isDisabled:u[0],isSecure:r,layoutStategyRenderer:z,onAddToken:x,onChangeTokens:s,onSearchAbandon:function(a){},onSearchCompletion:function(a){},tokenItemRenderer:c("MWChatTokenizerTokenStrategy.react"),tokens:t}),h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x2lwn1j x1n2onr6 x1vjfegm",children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(k,j(i,r,a[1],c("bs_caml_option").some(C),function(a){return h.jsx(d("MWOpenAndSecureThreadView.bs").make,{thread:a})},void 0,void 0,y))})})]})]}),tab:f};g!==void 0&&(F.thread=c("bs_caml_option").valFromOption(g));return h.jsx(d("MWPNewMessageDraftContext.bs").make,{children:h.jsx(d("MWV2ComposerHasContentContext.bs").make,{children:h.jsx(d("MWV2TabContainer.bs").make,babelHelpers["extends"]({},F))})})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=n;f=f;g.$MWInboxSecureThreadToggle$requireCond=b("cr:1599");g.LazyMWPThreadPreview=e;g.isTlcEnabled=a;g.make=f}),98);
__d("LWICometAutomatedAdsCreationRootContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8438929129482693"}),null);